(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"3F3D":function(l,n,u){"use strict";u.r(n);var t=u("8Y7J");class e{}var s=u("pMnS"),a=u("iInd"),i=u("SVse"),o=u("cpgm"),c=u("s7LF"),r=u("ztCj"),b=u("MDLy"),m=u("+ooL"),g=u("OgP6"),p=u("ktVm"),h=u("t083"),d=u("XtVx");class v{}const{version:f}=u("kiQV");class k{constructor(l,n,u,t,e,s,a){this.pathService=l,this.coreService=n,this.lastFMService=u,this.collectionService=t,this.router=e,this.configService=s,this.colorService=a,this.connectiontype="node-mp3stream",this.connectiondetails="",this.savePlaylistState=this.booleanState("save-playlist-state"),this.isContinuesplay=this.booleanState("continues-play"),this.hasDynamicAccentColor=this.booleanState("dynamic-accent-color"),this.isReloading=!1,this.scanperc=0,this.version="__dev__",this.lastParsed=Number(localStorage.getItem("lastParsed")),this.visualisation=this.booleanState("visualisation-state"),this.tracking=this.booleanState("tracking-state"),this.addToHomescreen=!1,this.isVisualCapable=-1===navigator.userAgent.indexOf("Mobi"),this.manualScrobbling=this.booleanState("manual-scrobble-state"),this.smallArt=this.booleanState("small-art"),this.hasBeenReloading=!1,this.settings=new v,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe(l=>{this.ngOnInit()}),this.subscription2=this.lastFMService.manualScrobbleList$.subscribe(l=>{this.manualScrobblingList=l}),this.subscription3=this.configService.theme$.subscribe(l=>{this.settings.theme=l,this.theme=l}),this.subscription4=this.configService.mode$.subscribe(l=>{this.mode=l}),this.settings.theme=this.configService.theme,this.theme=this.configService.theme,this.mode=this.configService.mode,this.poll(),this.version=f,Object(r.b)("manual-scrobble-list").then(l=>{this.manualScrobblingList=l||[]})}ngAfterViewChecked(){this.formChanged()}formChanged(){this.currentForm!==this.themeForm&&(this.themeForm=this.currentForm,this.themeForm&&this.themeForm.valueChanges.subscribe(l=>{l&&l.theme&&(this.configService.theme=l.theme,this.theme=l.theme)}))}ngOnInit(){this.pathService.announcePage("Settings"),this.totals=this.core.totals,this.lastfmusername=localStorage.getItem("lastfm-username")||"",this.connectiondetails=localStorage.getItem("dsm"),Object(r.b)("manual-scrobble-list").then(l=>{this.manualScrobblingList=l||[]}),this.lastParsed=Number(localStorage.getItem("lastParsed")),this.startDate=this.configService.startDate,this.stopDate=this.configService.stopDate,this.configService.geo$.subscribe(()=>{this.startDate=this.configService.startDate,this.stopDate=this.configService.stopDate}),window.deferredPrompt&&(this.addToHomescreen=!0)}ngOnDestroy(){this.subscription.unsubscribe(),this.subscription2.unsubscribe(),this.subscription3.unsubscribe(),this.subscription4.unsubscribe()}removeLastfm(){localStorage.removeItem("lastfm-username"),localStorage.removeItem("lastfm-token"),this.ngOnInit()}removeConnection(){localStorage.removeItem("jwt"),localStorage.removeItem("dsm"),this.ngOnInit()}toggleSavePlaylistState(){this.savePlaylistState=!this.savePlaylistState,localStorage.setItem("save-playlist-state",this.savePlaylistState.toString())}toggleContinuesPlay(){this.isContinuesplay=!this.isContinuesplay,localStorage.setItem("continues-play",this.isContinuesplay.toString())}toggleManualScrobbling(){this.manualScrobbling=!this.manualScrobbling,localStorage.setItem("manual-scrobble-state",this.manualScrobbling.toString()),Object(r.b)("manual-scrobble-list").then(l=>{this.manualScrobblingList=l||[]})}toggleVisualisation(){this.visualisation=!this.visualisation,this.visualisation||(this.smallArt=!1,localStorage.setItem("small-art",this.smallArt.toString())),localStorage.setItem("visualisation-state",this.visualisation.toString())}toggleSmallArt(){this.smallArt=!this.smallArt,localStorage.setItem("small-art",this.smallArt.toString())}toggleDynamicAccentColor(){this.hasDynamicAccentColor=!this.hasDynamicAccentColor,localStorage.setItem("dynamic-accent-color",this.hasDynamicAccentColor.toString())}toggleTracking(){this.tracking=!this.tracking,localStorage.setItem("tracking-state",this.tracking.toString()),this.tracking?this.getLocation():(this.configService.startDate=new Date,this.configService.startDate.setHours(21,0,0),this.configService.stopDate=new Date,this.configService.stopDate.setDate(this.configService.stopDate.getDate()+1),this.configService.stopDate.setHours(7,0,0),this.configService.geoSource.next(),this.configService.applyTheme())}scrobbleNow(){Object(r.b)("manual-scrobble-list").then(l=>{this.manualScrobblingList=l||[];const n=this.manualScrobblingList.pop();this.lastFMService.scrobbleCachedTrack(n).subscribe(l=>{Object(r.c)("manual-scrobble-list",this.manualScrobblingList),this.manualScrobblingList.length>0&&this.scrobbleNow()})})}removeFromScrobbleList(l){Object(r.b)("manual-scrobble-list").then(n=>{this.manualScrobblingList=n||[];let u=-1;this.manualScrobblingList.forEach((n,t)=>{Object.is(n,l)&&(u=t)}),this.manualScrobblingList.splice(u,1),Object(r.c)("manual-scrobble-list",this.manualScrobblingList)})}reloadCollection(){this.isReloading=!0,document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbscanstart")),this.collectionService.reload().subscribe(l=>{setTimeout(l=>{this.poll()},300)})}poll(){this.collectionService.poll().subscribe(l=>{this.scanperc=l.progress,"ready"!==l.status?(this.isReloading=!0,document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbscanning",{detail:{percentage:this.scanperc}})),setTimeout(l=>{this.poll()},5e3),this.hasBeenReloading=!0):(this.isReloading=!1,this.hasBeenReloading&&(document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbscanstop")),this.getCollection()))})}getCollection(){this.collectionService.getCollection().subscribe(l=>this.fillCollection(l),l=>console.error(l))}fillCollection(l){this.hasBeenReloading=!1,this.coreService.getCore().parseSourceJson(l)}viewList(){this.router.navigate(["/scrobble-cache"])}doAddToHomescreen(){if(window.deferredPrompt){const l=window.deferredPrompt;l.prompt(),l.userChoice.then(l=>{Object(r.a)("defferedPrompt")})}}booleanState(l){const n=localStorage.getItem(l);return!(!n||"true"!==n)}getLocation(){navigator.geolocation.getCurrentPosition(l=>{l?this.configService.getSunriseInfo(l.coords.latitude,l.coords.longitude).subscribe(l=>{this.configService.startDate=new Date(l.results.sunset),this.configService.stopDate=new Date(l.results.sunrise),this.configService.stopDate.setDate(this.configService.stopDate.getDate()+1),this.configService.geoSource.next(),this.configService.applyTheme()}):(this.configService.startDate=new Date,this.configService.startDate.setHours(21,0,0),this.configService.stopDate=new Date,this.configService.stopDate.setDate(this.configService.stopDate.getDate()+1),this.configService.stopDate.setHours(7,0,0),this.configService.geoSource.next(),this.configService.applyTheme())})}}var S=t.kb({encapsulation:2,styles:[],data:{}});function D(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,10,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Connected to last.fm: "])),(l()(),t.mb(3,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.Db(4,null,[""," "])),(l()(),t.mb(5,0,null,null,1,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Db(6,null,["(",")"])),(l()(),t.mb(7,0,null,null,3,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeLastfm()&&t),t},null,null)),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(9,0,null,null,0,"i",[["class","glyph glyph-delete"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" remove token"]))],null,function(l,n){var u=n.component;l(n,4,0,u.lastfmusername&&u.lastfmusername.length>0),l(n,6,0,u.lastfmusername)})}function w(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,8,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Local last played tracking: "])),(l()(),t.mb(3,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["true"])),(l()(),t.mb(5,0,null,null,3,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeLastfm()&&t),t},null,null)),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(7,0,null,null,0,"i",[["class","glyph glyph-delete"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" remove token"]))],null,null)}function y(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,3,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeConnection()&&t),t},null,null)),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(2,0,null,null,0,"i",[["class","glyph glyph-delete"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" remove token"]))],null,null)}function C(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,4,"a",[["routerLink","/login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(l,n,u){var e=!0;return"click"===n&&(e=!1!==t.wb(l,1).onClick(u.button,u.ctrlKey,u.metaKey,u.shiftKey)&&e),e},null,null)),t.lb(1,671744,null,0,a.l,[a.k,a.a,i.h],{routerLink:[0,"routerLink"]},null),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(3,0,null,null,0,"i",[["class","glyph glyph-admin"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" login"]))],function(l,n){l(n,1,0,"/login")},function(l,n){l(n,0,0,t.wb(n,1).target,t.wb(n,1).href)})}function I(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,2,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.reloadCollection()&&t),t},null,null)),(l()(),t.mb(1,0,null,null,0,"i",[["class","glyph glyph-sync"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" now "]))],null,function(l,n){l(n,0,0,n.component.isReloading)})}function L(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,6,"span",[],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,5,"div",[["class","progress-bar"],["style","margin-left: 100px;"]],null,null,null,null,null)),(l()(),t.mb(2,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(l()(),t.mb(3,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(l()(),t.mb(4,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(l()(),t.mb(5,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(l()(),t.mb(6,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null))],null,null)}function M(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(1,null,[" ","% done"]))],null,function(l,n){l(n,1,0,n.component.scanperc)})}function P(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,9,"div",[["class","small"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class","muted"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["items in list:"])),(l()(),t.Db(3,null,[" "," "])),(l()(),t.mb(4,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.mb(5,0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.scrobbleNow()&&t),t},null,null)),(l()(),t.Db(-1,null,["Scrobble now"])),(l()(),t.mb(7,0,null,null,0,"br",[],null,null,null,null,null)),(l()(),t.mb(8,0,null,null,1,"a",[],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.viewList()&&t),t},null,null)),(l()(),t.Db(-1,null,["View tracks in scrobble cache"]))],null,function(l,n){l(n,3,0,n.component.manualScrobblingList.length)})}function A(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,12,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Manual scrobbling: "])),(l()(),t.mb(3,0,null,null,7,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t.mb(4,0,null,null,6,"button",[["aria-pressed","false"],["autocomplete","off"],["class","btn btn-toggle-switch"],["data-toggle","button"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleManualScrobbling()&&t),t},null,null)),t.lb(5,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.yb(6,{active:0,"theme-alt":1}),(l()(),t.mb(7,0,null,null,1,"span",[["class","state-label state-label-on"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["On"])),(l()(),t.mb(9,0,null,null,1,"span",[["class","state-label state-label-off"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Off"])),(l()(),t.eb(16777216,null,null,1,null,P)),t.lb(12,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component,t=l(n,6,0,u.manualScrobbling,"dark"===u.mode);l(n,5,0,"btn btn-toggle-switch",t),l(n,12,0,u.manualScrobblingList&&u.manualScrobblingList.length>0)},null)}function F(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,5,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Add a link to your homescreen/desktop: "])),(l()(),t.Db(-1,null,["\xa0 "])),(l()(),t.mb(4,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.doAddToHomescreen()&&t),t},null,null)),(l()(),t.Db(-1,null,[" add "]))],null,null)}function T(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Show visualisation on now playing screen: "])),(l()(),t.mb(3,0,null,null,8,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(5,0,null,null,6,"button",[["aria-pressed","false"],["autocomplete","off"],["class","btn btn-toggle-switch"],["data-toggle","button"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleVisualisation()&&t),t},null,null)),t.lb(6,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.yb(7,{active:0,"theme-alt":1}),(l()(),t.mb(8,0,null,null,1,"span",[["class","state-label state-label-on"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Yes"])),(l()(),t.mb(10,0,null,null,1,"span",[["class","state-label state-label-off"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["No"]))],function(l,n){var u=n.component,t=l(n,7,0,u.visualisation,"dark"===u.mode);l(n,6,0,"btn btn-toggle-switch",t)},null)}function j(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Show smaller album-art on now playing screen: "])),(l()(),t.mb(3,0,null,null,8,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(5,0,null,null,6,"button",[["aria-pressed","false"],["autocomplete","off"],["class","btn btn-toggle-switch"],["data-toggle","button"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleSmallArt()&&t),t},null,null)),t.lb(6,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.yb(7,{active:0,"theme-alt":1}),(l()(),t.mb(8,0,null,null,1,"span",[["class","state-label state-label-on"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Yes"])),(l()(),t.mb(10,0,null,null,1,"span",[["class","state-label state-label-off"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["No"]))],function(l,n){var u=n.component,t=l(n,7,0,u.smallArt,"dark"===u.mode);l(n,6,0,"btn btn-toggle-switch",t)},null)}function B(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,5,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(1,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Playing time: "])),(l()(),t.mb(3,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.Db(4,null,["",""])),t.zb(5,1)],null,function(l,n){var u=n.component,e=t.Eb(n,4,0,l(n,5,0,t.wb(n.parent,1),u.totals.playingTime));l(n,4,0,e)})}function O(l){return t.Fb(0,[t.xb(0,i.d,[t.s]),t.xb(0,o.a,[]),t.Bb(402653184,1,{currentForm:0}),(l()(),t.mb(3,0,null,null,176,"div",[["class","animated-page settings-page"]],null,null,null,null,null)),(l()(),t.mb(4,0,null,null,175,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.mb(5,0,null,null,28,"div",[["class","setting-page-block"]],null,null,null,null,null)),(l()(),t.mb(6,0,null,null,27,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(7,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["User Information"])),(l()(),t.eb(16777216,null,null,1,null,D)),t.lb(10,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,w)),t.lb(12,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(13,0,null,null,10,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(14,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Connected to: "])),(l()(),t.mb(16,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.Db(17,null,[""," "])),(l()(),t.mb(18,0,null,null,1,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Db(19,null,["(",")"])),(l()(),t.eb(16777216,null,null,1,null,y)),t.lb(21,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,C)),t.lb(23,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(24,0,null,null,9,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(25,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Reload collection: "])),(l()(),t.Db(-1,null,["\xa0 "])),(l()(),t.eb(16777216,null,null,1,null,I)),t.lb(29,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,L)),t.lb(31,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,M)),t.lb(33,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(34,0,null,null,27,"div",[["class","setting-page-block"]],null,null,null,null,null)),(l()(),t.mb(35,0,null,null,26,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(36,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Player settings"])),(l()(),t.mb(38,0,null,null,10,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(39,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Save playliststate: "])),(l()(),t.mb(41,0,null,null,7,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t.mb(42,0,null,null,6,"button",[["aria-pressed","false"],["autocomplete","off"],["class","btn btn-toggle-switch"],["data-toggle","button"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleSavePlaylistState()&&t),t},null,null)),t.lb(43,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.yb(44,{active:0,"theme-alt":1}),(l()(),t.mb(45,0,null,null,1,"span",[["class","state-label state-label-on"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["On"])),(l()(),t.mb(47,0,null,null,1,"span",[["class","state-label state-label-off"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Off"])),(l()(),t.eb(16777216,null,null,1,null,A)),t.lb(50,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(51,0,null,null,10,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(52,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Continues play: "])),(l()(),t.mb(54,0,null,null,7,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t.mb(55,0,null,null,6,"button",[["aria-pressed","false"],["autocomplete","off"],["class","btn btn-toggle-switch"],["data-toggle","button"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleContinuesPlay()&&t),t},null,null)),t.lb(56,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.yb(57,{active:0,"theme-alt":1}),(l()(),t.mb(58,0,null,null,1,"span",[["class","state-label state-label-on"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["On"])),(l()(),t.mb(60,0,null,null,1,"span",[["class","state-label state-label-off"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Off"])),(l()(),t.mb(62,0,null,null,85,"div",[["class","setting-page-block"]],null,null,null,null,null)),(l()(),t.mb(63,0,null,null,84,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(64,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Interface settings"])),(l()(),t.mb(66,0,null,null,81,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(67,0,null,null,80,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(l,n,u){var e=!0;return"submit"===n&&(e=!1!==t.wb(l,71).onSubmit(u)&&e),"reset"===n&&(e=!1!==t.wb(l,71).onReset()&&e),e},null,null)),t.lb(68,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{ngClass:[0,"ngClass"]},null),t.yb(69,{"theme-alt":0}),t.lb(70,16384,null,0,c.r,[],null,null),t.lb(71,4210688,[[1,4],["themeForm",4]],0,c.j,[[8,null],[8,null]],null,null),t.Ab(2048,null,c.b,null,[c.j]),t.lb(73,16384,null,0,c.i,[[4,c.b]],null,null),(l()(),t.eb(16777216,null,null,1,null,F)),t.lb(75,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(76,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.mb(77,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Dynamic accent color: "])),(l()(),t.mb(79,0,null,null,8,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(81,0,null,null,6,"button",[["aria-pressed","false"],["autocomplete","off"],["class","btn btn-toggle-switch"],["data-toggle","button"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleDynamicAccentColor()&&t),t},null,null)),t.lb(82,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.yb(83,{active:0,"theme-alt":1}),(l()(),t.mb(84,0,null,null,1,"span",[["class","state-label state-label-on"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Yes"])),(l()(),t.mb(86,0,null,null,1,"span",[["class","state-label state-label-off"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["No"])),(l()(),t.mb(88,0,null,null,43,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.mb(89,0,null,null,12,"div",[["class","radio"]],null,null,null,null,null)),(l()(),t.mb(90,0,null,null,11,"label",[],null,null,null,null,null)),(l()(),t.mb(91,0,null,null,6,"input",[["name","theme"],["type","radio"],["value","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0,s=l.component;return"input"===n&&(e=!1!==t.wb(l,92)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.wb(l,92).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.wb(l,92)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.wb(l,92)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.wb(l,93).onChange()&&e),"blur"===n&&(e=!1!==t.wb(l,93).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(s.settings.theme=u)&&e),e},null,null)),t.lb(92,16384,null,0,c.c,[t.B,t.k,[2,c.a]],null,null),t.lb(93,212992,null,0,c.m,[t.B,t.k,c.s,t.p],{name:[0,"name"],value:[1,"value"]},null),t.Ab(1024,null,c.f,function(l,n){return[l,n]},[c.c,c.m]),t.lb(95,671744,[["name",4]],0,c.k,[[2,c.b],[8,null],[8,null],[6,c.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Ab(2048,null,c.g,null,[c.k]),t.lb(97,16384,null,0,c.h,[[4,c.g]],null,null),(l()(),t.mb(98,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Light"])),(l()(),t.mb(100,0,null,null,1,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" theme"])),(l()(),t.mb(102,0,null,null,12,"div",[["class","radio"]],null,null,null,null,null)),(l()(),t.mb(103,0,null,null,11,"label",[],null,null,null,null,null)),(l()(),t.mb(104,0,null,null,6,"input",[["name","theme"],["type","radio"],["value","dark"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0,s=l.component;return"input"===n&&(e=!1!==t.wb(l,105)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.wb(l,105).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.wb(l,105)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.wb(l,105)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.wb(l,106).onChange()&&e),"blur"===n&&(e=!1!==t.wb(l,106).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(s.settings.theme=u)&&e),e},null,null)),t.lb(105,16384,null,0,c.c,[t.B,t.k,[2,c.a]],null,null),t.lb(106,212992,null,0,c.m,[t.B,t.k,c.s,t.p],{name:[0,"name"],value:[1,"value"]},null),t.Ab(1024,null,c.f,function(l,n){return[l,n]},[c.c,c.m]),t.lb(108,671744,[["name",4]],0,c.k,[[2,c.b],[8,null],[8,null],[6,c.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Ab(2048,null,c.g,null,[c.k]),t.lb(110,16384,null,0,c.h,[[4,c.g]],null,null),(l()(),t.mb(111,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Dark"])),(l()(),t.mb(113,0,null,null,1,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" theme"])),(l()(),t.mb(115,0,null,null,16,"div",[["class","radio"]],null,null,null,null,null)),(l()(),t.mb(116,0,null,null,15,"label",[],null,null,null,null,null)),(l()(),t.mb(117,0,null,null,6,"input",[["name","theme"],["type","radio"],["value","auto"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(l,n,u){var e=!0,s=l.component;return"input"===n&&(e=!1!==t.wb(l,118)._handleInput(u.target.value)&&e),"blur"===n&&(e=!1!==t.wb(l,118).onTouched()&&e),"compositionstart"===n&&(e=!1!==t.wb(l,118)._compositionStart()&&e),"compositionend"===n&&(e=!1!==t.wb(l,118)._compositionEnd(u.target.value)&&e),"change"===n&&(e=!1!==t.wb(l,119).onChange()&&e),"blur"===n&&(e=!1!==t.wb(l,119).onTouched()&&e),"ngModelChange"===n&&(e=!1!==(s.settings.theme=u)&&e),e},null,null)),t.lb(118,16384,null,0,c.c,[t.B,t.k,[2,c.a]],null,null),t.lb(119,212992,null,0,c.m,[t.B,t.k,c.s,t.p],{name:[0,"name"],value:[1,"value"]},null),t.Ab(1024,null,c.f,function(l,n){return[l,n]},[c.c,c.m]),t.lb(121,671744,[["name",4]],0,c.k,[[2,c.b],[8,null],[8,null],[6,c.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),t.Ab(2048,null,c.g,null,[c.k]),t.lb(123,16384,null,0,c.h,[[4,c.g]],null,null),(l()(),t.mb(124,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Auto"])),(l()(),t.mb(126,0,null,null,1,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" theme"])),(l()(),t.mb(128,0,null,null,3,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Db(129,null,[" (Dark mode between "," and ",")"])),t.zb(130,2),t.zb(131,2),(l()(),t.mb(132,0,null,null,11,"div",[["class","form-group"]],null,null,null,null,null)),(l()(),t.mb(133,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Track location for more accurate theme switching: "])),(l()(),t.mb(135,0,null,null,8,"div",[["class","btn-group"]],null,null,null,null,null)),(l()(),t.Db(-1,null,[" \xa0 "])),(l()(),t.mb(137,0,null,null,6,"button",[["aria-pressed","false"],["autocomplete","off"],["class","btn btn-toggle-switch"],["data-toggle","button"],["type","button"]],null,[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.toggleTracking()&&t),t},null,null)),t.lb(138,278528,null,0,i.i,[t.q,t.r,t.k,t.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.yb(139,{active:0,"theme-alt":1}),(l()(),t.mb(140,0,null,null,1,"span",[["class","state-label state-label-on"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Yes"])),(l()(),t.mb(142,0,null,null,1,"span",[["class","state-label state-label-off"]],null,null,null,null,null)),(l()(),t.Db(-1,null,["No"])),(l()(),t.eb(16777216,null,null,1,null,T)),t.lb(145,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,j)),t.lb(147,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(148,0,null,null,31,"div",[["class","setting-page-block"]],null,null,null,null,null)),(l()(),t.mb(149,0,null,null,30,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(150,0,null,null,1,"h4",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Information"])),(l()(),t.mb(152,0,null,null,4,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(153,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Artists: "])),(l()(),t.mb(155,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(156,null,["",""])),(l()(),t.mb(157,0,null,null,4,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(158,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Albums: "])),(l()(),t.mb(160,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(161,null,["",""])),(l()(),t.mb(162,0,null,null,4,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(163,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Tracks: "])),(l()(),t.mb(165,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(166,null,["",""])),(l()(),t.eb(16777216,null,null,1,null,B)),t.lb(168,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.mb(169,0,null,null,5,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(170,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Last parsed: "])),(l()(),t.mb(172,0,null,null,2,"span",[],null,null,null,null,null)),(l()(),t.Db(173,null,["",""])),t.zb(174,2),(l()(),t.mb(175,0,null,null,4,"div",[["class","settings-page-p"]],null,null,null,null,null)),(l()(),t.mb(176,0,null,null,1,"span",[["class",""]],null,null,null,null,null)),(l()(),t.Db(-1,null,["Build version: "])),(l()(),t.mb(178,0,null,null,1,"span",[],null,null,null,null,null)),(l()(),t.Db(179,null,["",""]))],function(l,n){var u=n.component;l(n,10,0,u.lastfmusername&&u.lastfmusername.length>0&&"mdb-skipped"!==u.lastfmusername),l(n,12,0,u.lastfmusername&&"mdb-skipped"===u.lastfmusername),l(n,21,0,u.connectiondetails),l(n,23,0,!u.connectiondetails),l(n,29,0,!u.isReloading),l(n,31,0,!u.scanperc&&u.isReloading),l(n,33,0,u.scanperc&&u.isReloading);var t=l(n,44,0,u.savePlaylistState,"dark"===u.mode);l(n,43,0,"btn btn-toggle-switch",t),l(n,50,0,u.lastfmusername&&u.lastfmusername.length>0&&"mdb-skipped"!==u.lastfmusername);var e=l(n,57,0,u.isContinuesplay,"dark"===u.mode);l(n,56,0,"btn btn-toggle-switch",e);var s=l(n,69,0,"dark"===u.mode);l(n,68,0,s),l(n,75,0,u.addToHomescreen);var a=l(n,83,0,u.hasDynamicAccentColor,"dark"===u.mode);l(n,82,0,"btn btn-toggle-switch",a),l(n,93,0,"theme","light"),l(n,95,0,"theme",u.settings.theme),l(n,106,0,"theme","dark"),l(n,108,0,"theme",u.settings.theme),l(n,119,0,"theme","auto"),l(n,121,0,"theme",u.settings.theme);var i=l(n,139,0,u.tracking,"dark"===u.mode);l(n,138,0,"btn btn-toggle-switch",i),l(n,145,0,u.isVisualCapable),l(n,147,0,u.visualisation&&u.isVisualCapable),l(n,168,0,u.totals.playingTime)},function(l,n){var u=n.component;l(n,17,0,u.connectiontype),l(n,19,0,u.connectiondetails),l(n,67,0,t.wb(n,73).ngClassUntouched,t.wb(n,73).ngClassTouched,t.wb(n,73).ngClassPristine,t.wb(n,73).ngClassDirty,t.wb(n,73).ngClassValid,t.wb(n,73).ngClassInvalid,t.wb(n,73).ngClassPending),l(n,91,0,t.wb(n,97).ngClassUntouched,t.wb(n,97).ngClassTouched,t.wb(n,97).ngClassPristine,t.wb(n,97).ngClassDirty,t.wb(n,97).ngClassValid,t.wb(n,97).ngClassInvalid,t.wb(n,97).ngClassPending),l(n,104,0,t.wb(n,110).ngClassUntouched,t.wb(n,110).ngClassTouched,t.wb(n,110).ngClassPristine,t.wb(n,110).ngClassDirty,t.wb(n,110).ngClassValid,t.wb(n,110).ngClassInvalid,t.wb(n,110).ngClassPending),l(n,117,0,t.wb(n,123).ngClassUntouched,t.wb(n,123).ngClassTouched,t.wb(n,123).ngClassPristine,t.wb(n,123).ngClassDirty,t.wb(n,123).ngClassValid,t.wb(n,123).ngClassInvalid,t.wb(n,123).ngClassPending);var e=t.Eb(n,129,0,l(n,130,0,t.wb(n,0),u.startDate,"mediumTime")),s=t.Eb(n,129,1,l(n,131,0,t.wb(n,0),u.stopDate,"mediumTime"));l(n,129,0,e,s),l(n,156,0,u.totals.artists),l(n,161,0,u.totals.albums),l(n,166,0,u.totals.tracks);var a=t.Eb(n,173,0,l(n,174,0,t.wb(n,0),u.lastParsed,"medium"));l(n,173,0,a),l(n,179,0,u.version)})}function x(l){return t.Fb(0,[(l()(),t.mb(0,0,null,null,1,"app-settings",[],null,null,null,O,S)),t.lb(1,8634368,null,0,k,[d.a,p.a,h.a,b.a,a.k,g.a,m.a],null,null)],function(l,n){l(n,1,0)},null)}var J=t.ib("app-settings",k,x,{},{},[]);class V{}var E=u("hDf6");u.d(n,"SettingsModuleNgFactory",function(){return R});var R=t.jb(e,[],function(l){return t.tb([t.ub(512,t.j,t.Z,[[8,[s.a,J]],[3,t.j],t.v]),t.ub(4608,i.m,i.l,[t.s,[2,i.v]]),t.ub(4608,c.s,c.s,[]),t.ub(1073742336,i.b,i.b,[]),t.ub(1073742336,a.m,a.m,[[2,a.s],[2,a.k]]),t.ub(1073742336,V,V,[]),t.ub(1073742336,c.p,c.p,[]),t.ub(1073742336,c.d,c.d,[]),t.ub(1073742336,E.a,E.a,[]),t.ub(1073742336,e,e,[]),t.ub(256,t.s,"en-GB",[]),t.ub(1024,a.i,function(){return[[{path:"",component:k}]]},[])])})},kiQV:function(l){l.exports={name:"jsmusicdb-next",version:"2.13.1",license:"MIT",scripts:{ng:"ng",start:"npm run --silent sass:dark && ng serve",sass:"node-sass","sass:dark":"node-sass --output-style compressed --omit-source-map-url ./src/sass/dark.scss > ./src/global/css/dark.css",build:'npm run --silent sass:dark && ng build --prod --i18n-locale="en-GB"',"bundle-report":'ng build --prod --i18n-locale="en-GB" --stats-json && webpack-bundle-analyzer dist/stats.json',lint:"tslint --fix --force -p .",postversion:"npm run --silent build && npm publish && git push && git push --tags"},files:["dist"],author:"Lucien Immink",description:"Web version of musicdb next",repository:{type:"git",url:"git+https://github.com/lucienimmink/JSMusicDBNext"},dependencies:{"@angular/animations":"^7.2.13","@angular/common":"^7.2.13","@angular/compiler":"^7.2.13","@angular/core":"^7.2.13","@angular/forms":"^7.2.13","@angular/http":"^7.2.13","@angular/platform-browser":"^7.2.13","@angular/platform-browser-dynamic":"^7.2.13","@angular/router":"^7.2.13","@thebespokepixel/es-tinycolor":"^1.0.4",bootstrap:"^4.3.1","core-js":"^2.6.5","fast-average-color":"^4.3.0",hammerjs:"^2.0.8","idb-keyval":"^3.2.0",jsrsasign:"^8.0.12","ngx-bootstrap":"^4.0.1","node-sass":"^4.11.0",rxjs:"^6.5.1",winstrap:"^0.5.12","zone.js":"^0.9.0"},devDependencies:{"@angular-builders/custom-webpack":"^7.4.3","@angular-devkit/build-angular":"^0.13.8","@angular/cli":"^7.3.8","@angular/compiler-cli":"^7.2.13","@angular/language-service":"^7.2.13","@isaac.frontend/stylelint-config-scss":"^1.1.1","@types/node":"^11.13.5","copy-webpack-plugin":"^5.0.3","glob-all":"^3.1.0","prettier-stylelint":"^0.4.2","purgecss-webpack-plugin":"^1.5.0",stylelint:"^9.10.1","ts-node":"^8.1.0",tslint:"^5.16.0","tslint-config-prettier":"^1.18.0",typescript:"~3.2.4","webpack-bundle-analyzer":"^3.3.2"}}}}]);