function _defineProperties(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{X3zk:function(e,r,t){"use strict";t.r(r);var n=t("ofXK"),o=t("3Pt+"),i=t("tyNb"),s=t("jWEn"),a=t.n(s),c=t("MDLy"),u=t("OgP6"),l=t("ktVm"),p=t("XNvx"),h=function e(){_classCallCheck(this,e),this.dsmport=localStorage.getItem("dsm")||document.location.origin},f=t("fXoL"),v=function(e,r,t,n){return new(t||(t=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(r){i(r)}}function a(e){try{c(n.throw(e))}catch(r){i(r)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(s,a)}c((n=n.apply(e,r||[])).next())}))};function m(e,r){1&e&&(f.Nb(0,"div",21),f.Nb(1,"strong"),f.sc(2,"Error"),f.Mb(),f.sc(3," Your mp3-streamer has no version check endpoint "),f.Mb())}function d(e,r){if(1&e&&(f.Nb(0,"div",21),f.Nb(1,"strong"),f.sc(2,"Error"),f.Mb(),f.sc(3),f.Mb()),2&e){var t=f.Zb();f.zb(3),f.uc(" Your mp3-streamer's version is too low, please update to at least ",t.minimalVersion," ")}}function g(e,r){1&e&&(f.Nb(0,"div",21),f.Nb(1,"strong"),f.sc(2,"Error"),f.Mb(),f.sc(3," Failed to login, please review your credentials "),f.Mb())}function b(e,r){1&e&&(f.Nb(0,"div",22),f.Nb(1,"div",23),f.Nb(2,"div",24),f.Lb(3,"div",25),f.Lb(4,"div",25),f.Lb(5,"div",25),f.Lb(6,"div",25),f.Lb(7,"div",25),f.Mb(),f.Mb(),f.Mb())}var w,y,M=function(e){return{"theme-alt":e}},E=[{path:"",component:(w=function(){function e(r,t,n,o,i){var s=this;_classCallCheck(this,e),this.loginService=r,this.router=t,this.collectionService=n,this.coreService=o,this.configService=i,this.isLoading=!1,this.minimalVersion=e.MINIMALSTREAMVERSION,this.lowVersion=!1,this.noVersion=!1,this.loginFail=!1,this.user=new h,this.subscription=this.configService.mode$.subscribe((function(e){s.theme=e})),this.theme=i.mode}return _createClass(e,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onSubmit",value:function(){return v(this,void 0,void 0,regeneratorRuntime.mark((function r(){var t=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:this.lowVersion=!1,this.noVersion=!1,this.loginFail=!1,this.loginService.versionCheck(this.user.dsmport).subscribe((function(r){return v(t,void 0,void 0,regeneratorRuntime.mark((function t(){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.version&&a.a.satisfies(r.version,e.MINIMALSTREAMVERSION)?this.loginService.getPublicKey(this.user.dsmport).subscribe((function(e){return v(n,void 0,void 0,regeneratorRuntime.mark((function r(){var t,n=this;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.encryptPayload(this.user,e);case 2:t=r.sent,this.loginService.authenticate(this.user.dsmport,t).subscribe((function(e){localStorage.setItem("jwt",e.jwt),localStorage.setItem("dsm",n.user.dsmport),n.getCollection()}),(function(e){n.loginFail=!0}));case 4:case"end":return r.stop()}}),r,this)})))})):this.lowVersion=!0;case 1:case"end":return t.stop()}}),t,this)})))}),(function(e){t.noVersion=!0}));case 1:case"end":return r.stop()}}),r,this)})))}},{key:"getCollection",value:function(){var e=this;this.isLoading=!0,this.collectionService.getCollection().subscribe((function(r){return e.fillCollection(r)}),(function(e){return console.error(e)}))}},{key:"fillCollection",value:function(e){this.coreService.getCore().parseSourceJson(e),this.router.navigate(["/home"])}},{key:"encryptPayload",value:function(e,r){return v(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,crypto.subtle.importKey("jwk",r,{name:"RSA-OAEP",hash:"SHA-256"},!1,["encrypt"]);case 2:return n=t.sent,o=(new TextEncoder).encode(JSON.stringify(e)),t.next=6,crypto.subtle.encrypt({name:"RSA-OAEP"},n,o);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))}}]),e}(),w.MINIMALSTREAMVERSION="4.0.0",w.\u0275fac=function(e){return new(e||w)(f.Kb(p.a),f.Kb(i.c),f.Kb(c.a),f.Kb(l.a),f.Kb(u.a))},w.\u0275cmp=f.Eb({type:w,selectors:[["app-login"]],decls:35,vars:11,consts:[[1,"animated-page"],[1,"container"],[1,"row"],[1,"col"],["class","alert alert-danger",4,"ngIf"],["role","form",1,"form-horizontal",3,"ngClass","ngSubmit"],["loginForm","ngForm"],[1,"form-group","row"],["for","name",1,"col-12","col-sm-4","col-lg-2","col-form-label"],[1,"col","col-sm-8","col-lg-10"],["type","text","id","name","placeholder","e.g. JohnDoe","required","","name","name",1,"form-control",3,"ngModel","ngModelChange"],["name","ngModel"],["for","password",1,"col-12","col-sm-4","col-lg-2","col-form-label"],["type","password","id","password","placeholder","password","required","","name","password",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["for","dsmport",1,"col-12","col-sm-4","col-lg-2","col-form-label"],["type","string","id","dsmport","placeholder","https://www.example.com:2000","required","","name","dsmport","tooltip","Enter the full mp3-streamer url","triggers","mouseenter","placement","top",1,"form-control",3,"ngModel","ngModelChange"],["dsmport","ngModel"],[1,"col","offset-md-4","offset-lg-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","loading loading-fixed",4,"ngIf"],[1,"alert","alert-danger"],[1,"loading","loading-fixed"],[1,"preloader"],[1,"progress-bar"],[1,"progress-circle"]],template:function(e,r){if(1&e&&(f.Nb(0,"div",0),f.Nb(1,"div",1),f.Nb(2,"div",2),f.Nb(3,"div",3),f.Nb(4,"h4"),f.sc(5,"Login"),f.Mb(),f.Lb(6,"br"),f.rc(7,m,4,0,"div",4),f.rc(8,d,4,1,"div",4),f.rc(9,g,4,0,"div",4),f.Nb(10,"form",5,6),f.Vb("ngSubmit",(function(){return r.onSubmit()})),f.Nb(12,"div",7),f.Nb(13,"label",8),f.sc(14,"Username"),f.Mb(),f.Nb(15,"div",9),f.Nb(16,"input",10,11),f.Vb("ngModelChange",(function(e){return r.user.name=e})),f.Mb(),f.Mb(),f.Mb(),f.Nb(18,"div",7),f.Nb(19,"label",12),f.sc(20,"Password"),f.Mb(),f.Nb(21,"div",9),f.Nb(22,"input",13,14),f.Vb("ngModelChange",(function(e){return r.user.password=e})),f.Mb(),f.Mb(),f.Mb(),f.Nb(24,"div",7),f.Nb(25,"label",15),f.sc(26,"Mp3-streamer url"),f.Mb(),f.Nb(27,"div",9),f.Nb(28,"input",16,17),f.Vb("ngModelChange",(function(e){return r.user.dsmport=e})),f.Mb(),f.Mb(),f.Mb(),f.Nb(30,"div",7),f.Nb(31,"div",18),f.Nb(32,"button",19),f.sc(33," Login "),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.rc(34,b,8,0,"div",20)),2&e){var t=f.mc(11);f.zb(7),f.fc("ngIf",r.noVersion),f.zb(1),f.fc("ngIf",r.lowVersion),f.zb(1),f.fc("ngIf",r.loginFail),f.zb(1),f.fc("ngClass",f.ic(9,M,"dark"===r.theme)),f.zb(6),f.fc("ngModel",r.user.name),f.zb(6),f.fc("ngModel",r.user.password),f.zb(6),f.fc("ngModel",r.user.dsmport),f.zb(4),f.fc("disabled",!t.form.valid),f.zb(2),f.fc("ngIf",r.isLoading)}},directives:[n.k,o.m,o.d,o.e,n.i,o.a,o.j,o.c,o.f],encapsulation:2}),w)}],N=((y=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ib({type:y}),y.\u0275inj=f.Hb({factory:function(e){return new(e||y)},imports:[[i.e.forChild(E)],i.e]}),y);t.d(r,"LoginModule",(function(){return S}));var j,S=((j=function e(){_classCallCheck(this,e)}).\u0275mod=f.Ib({type:j}),j.\u0275inj=f.Hb({factory:function(e){return new(e||j)},imports:[[n.b,N,o.b]]}),j)},jWEn:function(e,r){var t;r=e.exports=U,t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},r.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,o=r.re=[],i=r.src=[],s=0,a=s++;i[a]="0|[1-9]\\d*";var c=s++;i[c]="[0-9]+";var u=s++;i[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;i[l]="("+i[a]+")\\.("+i[a]+")\\.("+i[a]+")";var p=s++;i[p]="("+i[c]+")\\.("+i[c]+")\\.("+i[c]+")";var h=s++;i[h]="(?:"+i[a]+"|"+i[u]+")";var f=s++;i[f]="(?:"+i[c]+"|"+i[u]+")";var v=s++;i[v]="(?:-("+i[h]+"(?:\\."+i[h]+")*))";var m=s++;i[m]="(?:-?("+i[f]+"(?:\\."+i[f]+")*))";var d=s++;i[d]="[0-9A-Za-z-]+";var g=s++;i[g]="(?:\\+("+i[d]+"(?:\\."+i[d]+")*))";var b=s++,w="v?"+i[l]+i[v]+"?"+i[g]+"?";i[b]="^"+w+"$";var y="[v=\\s]*"+i[p]+i[m]+"?"+i[g]+"?",M=s++;i[M]="^"+y+"$";var E=s++;i[E]="((?:<|>)?=?)";var N=s++;i[N]=i[c]+"|x|X|\\*";var j=s++;i[j]=i[a]+"|x|X|\\*";var S=s++;i[S]="[v=\\s]*("+i[j]+")(?:\\.("+i[j]+")(?:\\.("+i[j]+")(?:"+i[v]+")?"+i[g]+"?)?)?";var k=s++;i[k]="[v=\\s]*("+i[N]+")(?:\\.("+i[N]+")(?:\\.("+i[N]+")(?:"+i[m]+")?"+i[g]+"?)?)?";var C=s++;i[C]="^"+i[E]+"\\s*"+i[S]+"$";var R=s++;i[R]="^"+i[E]+"\\s*"+i[k]+"$";var I=s++;i[I]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var x=s++;i[x]="(?:~>?)";var V=s++;i[V]="(\\s*)"+i[x]+"\\s+",o[V]=new RegExp(i[V],"g");var P=s++;i[P]="^"+i[x]+i[S]+"$";var $=s++;i[$]="^"+i[x]+i[k]+"$";var L=s++;i[L]="(?:\\^)";var T=s++;i[T]="(\\s*)"+i[L]+"\\s+",o[T]=new RegExp(i[T],"g");var A=s++;i[A]="^"+i[L]+i[S]+"$";var _=s++;i[_]="^"+i[L]+i[k]+"$";var z=s++;i[z]="^"+i[E]+"\\s*("+y+")$|^$";var O=s++;i[O]="^"+i[E]+"\\s*("+w+")$|^$";var F=s++;i[F]="(\\s*)"+i[E]+"\\s*("+y+"|"+i[S]+")",o[F]=new RegExp(i[F],"g");var K=s++;i[K]="^\\s*("+i[S]+")\\s+-\\s+("+i[S]+")\\s*$";var X=s++;i[X]="^\\s*("+i[k]+")\\s+-\\s+("+i[k]+")\\s*$";var q=s++;i[q]="(<|>)?=?\\s*\\*";for(var D=0;D<35;D++)t(D,i[D]),o[D]||(o[D]=new RegExp(i[D]));function J(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof U)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(r.loose?o[M]:o[b]).test(e))return null;try{return new U(e,r)}catch(t){return null}}function U(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof U){if(e.loose===r.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof U))return new U(e,r);t("SemVer",e,r),this.options=r,this.loose=!!r.loose;var i=e.trim().match(r.loose?o[M]:o[b]);if(!i)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=i[4]?i[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var r=+e;if(r>=0&&r<n)return r}return e})):[],this.build=i[5]?i[5].split("."):[],this.format()}r.parse=J,r.valid=function(e,r){var t=J(e,r);return t?t.version:null},r.clean=function(e,r){var t=J(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null},r.SemVer=U,U.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},U.prototype.toString=function(){return this.version},U.prototype.compare=function(e){return t("SemVer.compare",this.version,this.options,e),e instanceof U||(e=new U(e,this.options)),this.compareMain(e)||this.comparePre(e)},U.prototype.compareMain=function(e){return e instanceof U||(e=new U(e,this.options)),G(this.major,e.major)||G(this.minor,e.minor)||G(this.patch,e.patch)},U.prototype.comparePre=function(e){if(e instanceof U||(e=new U(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var r=0;do{var n=this.prerelease[r],o=e.prerelease[r];if(t("prerelease compare",r,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return G(n,o)}while(++r)},U.prototype.inc=function(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",r),this.inc("pre",r);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},r.inc=function(e,r,t,n){"string"==typeof t&&(n=t,t=void 0);try{return new U(e,t).inc(r,n).version}catch(o){return null}},r.diff=function(e,r){if(Y(e,r))return null;var t=J(e),n=J(r),o="";if(t.prerelease.length||n.prerelease.length){o="pre";var i="prerelease"}for(var s in t)if(("major"===s||"minor"===s||"patch"===s)&&t[s]!==n[s])return o+s;return i},r.compareIdentifiers=G;var Z=/^[0-9]+$/;function G(e,r){var t=Z.test(e),n=Z.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1}function H(e,r,t){return new U(e,t).compare(new U(r,t))}function B(e,r,t){return H(e,r,t)>0}function W(e,r,t){return H(e,r,t)<0}function Y(e,r,t){return 0===H(e,r,t)}function Q(e,r,t){return 0!==H(e,r,t)}function ee(e,r,t){return H(e,r,t)>=0}function re(e,r,t){return H(e,r,t)<=0}function te(e,r,t,n){switch(r){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e===t;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof t&&(t=t.version),e!==t;case"":case"=":case"==":return Y(e,t,n);case"!=":return Q(e,t,n);case">":return B(e,t,n);case">=":return ee(e,t,n);case"<":return W(e,t,n);case"<=":return re(e,t,n);default:throw new TypeError("Invalid operator: "+r)}}function ne(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof ne){if(e.loose===!!r.loose)return e;e=e.value}if(!(this instanceof ne))return new ne(e,r);t("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.value=this.semver===oe?"":this.operator+this.semver.version,t("comp",this)}r.rcompareIdentifiers=function(e,r){return G(r,e)},r.major=function(e,r){return new U(e,r).major},r.minor=function(e,r){return new U(e,r).minor},r.patch=function(e,r){return new U(e,r).patch},r.compare=H,r.compareLoose=function(e,r){return H(e,r,!0)},r.rcompare=function(e,r,t){return H(r,e,t)},r.sort=function(e,t){return e.sort((function(e,n){return r.compare(e,n,t)}))},r.rsort=function(e,t){return e.sort((function(e,n){return r.rcompare(e,n,t)}))},r.gt=B,r.lt=W,r.eq=Y,r.neq=Q,r.gte=ee,r.lte=re,r.cmp=te,r.Comparator=ne;var oe={};function ie(e,r){if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),e instanceof ie)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new ie(e.raw,r);if(e instanceof ne)return new ie(e.value,r);if(!(this instanceof ie))return new ie(e,r);if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,r,t,n,o,i,s,a,c,u,l,p,h){return((r=se(t)?"":se(n)?">="+t+".0.0":se(o)?">="+t+"."+n+".0":">="+r)+" "+(a=se(c)?"":se(u)?"<"+(+c+1)+".0.0":se(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ce(e,r,n){for(var o=0;o<e.length;o++)if(!e[o].test(r))return!1;if(r.prerelease.length&&!n.includePrerelease){for(o=0;o<e.length;o++)if(t(e[o].semver),e[o].semver!==oe&&e[o].semver.prerelease.length>0){var i=e[o].semver;if(i.major===r.major&&i.minor===r.minor&&i.patch===r.patch)return!0}return!1}return!0}function ue(e,r,t){try{r=new ie(r,t)}catch(n){return!1}return r.test(e)}function le(e,r,t,n){var o,i,s,a,c;switch(e=new U(e,n),r=new ie(r,n),t){case">":o=B,i=re,s=W,a=">",c=">=";break;case"<":o=W,i=ee,s=B,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ue(e,r,n))return!1;for(var u=0;u<r.set.length;++u){var l=null,p=null;if(r.set[u].forEach((function(e){e.semver===oe&&(e=new ne(">=0.0.0")),p=p||e,o(e.semver,(l=l||e).semver,n)?l=e:s(e.semver,p.semver,n)&&(p=e)})),l.operator===a||l.operator===c)return!1;if((!p.operator||p.operator===a)&&i(e,p.semver))return!1;if(p.operator===c&&s(e,p.semver))return!1}return!0}ne.prototype.parse=function(e){var r=e.match(this.options.loose?o[z]:o[O]);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),this.semver=r[2]?new U(r[2],this.options.loose):oe},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return t("Comparator.test",e,this.options.loose),this.semver===oe||("string"==typeof e&&(e=new U(e,this.options)),te(e,this.operator,this.semver,this.options))},ne.prototype.intersects=function(e,r){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var t;if(r&&"object"==typeof r||(r={loose:!!r,includePrerelease:!1}),""===this.operator)return t=new ie(e.value,r),ue(this.value,t,r);if(""===e.operator)return t=new ie(this.value,r),ue(e.semver,t,r);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),o=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=te(this.semver,"<",e.semver,r)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=te(this.semver,">",e.semver,r)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||o||i&&s||a||c},r.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var r=this.options.loose;e=(e=e.trim()).replace(r?o[X]:o[K],ae),t("hyphen replace",e),e=e.replace(o[F],"$1$2$3"),t("comparator trim",e,o[F]),e=(e=(e=e.replace(o[V],"$1~")).replace(o[T],"$1^")).split(/\s+/).join(" ");var n=r?o[z]:o[O],i=e.split(" ").map((function(e){return function(e,r){return t("comp",e,r),e=function(e,r){return e.trim().split(/\s+/).map((function(e){return function(e,r){return t("caret",e,r),e.replace(r.loose?o[_]:o[A],(function(r,n,o,i,s){var a;return t("caret",e,r,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a="0"===n?">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":">="+n+"."+o+".0 <"+(+n+1)+".0.0":s?(t("replaceCaret pr",s),a="0"===n?"0"===o?">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+"-"+s+" <"+(+n+1)+".0.0"):(t("no pr"),a="0"===n?"0"===o?">="+n+"."+o+"."+i+" <"+n+"."+o+"."+(+i+1):">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0":">="+n+"."+o+"."+i+" <"+(+n+1)+".0.0"),t("caret return",a),a}))}(e,r)})).join(" ")}(e,r),t("caret",e),e=function(e,r){return e.trim().split(/\s+/).map((function(e){return function(e,r){return e.replace(r.loose?o[$]:o[P],(function(r,n,o,i,s){var a;return t("tilde",e,r,n,o,i,s),se(n)?a="":se(o)?a=">="+n+".0.0 <"+(+n+1)+".0.0":se(i)?a=">="+n+"."+o+".0 <"+n+"."+(+o+1)+".0":s?(t("replaceTilde pr",s),a=">="+n+"."+o+"."+i+"-"+s+" <"+n+"."+(+o+1)+".0"):a=">="+n+"."+o+"."+i+" <"+n+"."+(+o+1)+".0",t("tilde return",a),a}))}(e,r)})).join(" ")}(e,r),t("tildes",e),e=function(e,r){return t("replaceXRanges",e,r),e.split(/\s+/).map((function(e){return function(e,r){return(e=e.trim()).replace(r.loose?o[R]:o[C],(function(r,n,o,i,s,a){t("xRange",e,r,n,o,i,s,a);var c=se(o),u=c||se(i),l=u||se(s);return"="===n&&l&&(n=""),c?r=">"===n||"<"===n?"<0.0.0":"*":n&&l?(u&&(i=0),s=0,">"===n?(n=">=",u?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===n&&(n="<",u?o=+o+1:i=+i+1),r=n+o+"."+i+"."+s):u?r=">="+o+".0.0 <"+(+o+1)+".0.0":l&&(r=">="+o+"."+i+".0 <"+o+"."+(+i+1)+".0"),t("xRange return",r),r}))}(e,r)})).join(" ")}(e,r),t("xrange",e),e=function(e,r){return t("replaceStars",e,r),e.trim().replace(o[q],"")}(e,r),t("stars",e),e}(e,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter((function(e){return!!e.match(n)}))),i.map((function(e){return new ne(e,this.options)}),this)},ie.prototype.intersects=function(e,r){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(t){return t.every((function(t){return e.set.some((function(e){return e.every((function(e){return t.intersects(e,r)}))}))}))}))},r.toComparators=function(e,r){return new ie(e,r).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new U(e,this.options));for(var r=0;r<this.set.length;r++)if(ce(this.set[r],e,this.options))return!0;return!1},r.satisfies=ue,r.maxSatisfying=function(e,r,t){var n=null,o=null;try{var i=new ie(r,t)}catch(s){return null}return e.forEach((function(e){i.test(e)&&(n&&-1!==o.compare(e)||(o=new U(n=e,t)))})),n},r.minSatisfying=function(e,r,t){var n=null,o=null;try{var i=new ie(r,t)}catch(s){return null}return e.forEach((function(e){i.test(e)&&(n&&1!==o.compare(e)||(o=new U(n=e,t)))})),n},r.minVersion=function(e,r){e=new ie(e,r);var t=new U("0.0.0");if(e.test(t))return t;if(t=new U("0.0.0-0"),e.test(t))return t;t=null;for(var n=0;n<e.set.length;++n)e.set[n].forEach((function(e){var r=new U(e.semver.version);switch(e.operator){case">":0===r.prerelease.length?r.patch++:r.prerelease.push(0),r.raw=r.format();case"":case">=":t&&!B(t,r)||(t=r);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}}));return t&&e.test(t)?t:null},r.validRange=function(e,r){try{return new ie(e,r).range||"*"}catch(t){return null}},r.ltr=function(e,r,t){return le(e,r,"<",t)},r.gtr=function(e,r,t){return le(e,r,">",t)},r.outside=le,r.prerelease=function(e,r){var t=J(e,r);return t&&t.prerelease.length?t.prerelease:null},r.intersects=function(e,r,t){return e=new ie(e,t),r=new ie(r,t),e.intersects(r)},r.coerce=function(e){if(e instanceof U)return e;if("string"!=typeof e)return null;var r=e.match(o[I]);return null==r?null:J(r[1]+"."+(r[2]||"0")+"."+(r[3]||"0"))}}}]);