(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{fX0g:function(t,e,i){"use strict";i.r(e),i.d(e,"AlbumsModule",(function(){return d}));var s=i("ofXK"),n=i("tyNb"),r=i("ktVm"),c=i("XtVx"),o=i("fXoL"),b=i("Vmu9"),l=i("UrAU");function a(t,e){if(1&t&&(o.Lb(0,"span",9),o.oc(1),o.Kb()),2&t){const t=o.Vb().$implicit;o.xb(1),o.qc("Year: ",t.year,"")}}function u(t,e){if(1&t){const t=o.Mb();o.Lb(0,"li",8),o.Rb("click",(function(){o.kc(t);const i=e.$implicit;return o.Vb(3).navigateToAlbum(i)})),o.Lb(1,"div",11),o.Jb(2,"mdb-album",12),o.Kb(),o.Lb(3,"div",13),o.Lb(4,"span",14),o.oc(5),o.Kb(),o.nc(6,a,2,1,"span",15),o.Kb(),o.Kb()}if(2&t){const t=e.$implicit;o.xb(2),o.bc("album",t),o.xb(3),o.pc(t.name),o.xb(1),o.bc("ngIf",t.year)}}function m(t,e){if(1&t){const t=o.Mb();o.Lb(0,"div",6),o.Lb(1,"div",7),o.Lb(2,"h4"),o.Lb(3,"a",8),o.Rb("click",(function(){return o.kc(t),o.Vb(2).toggleJumpList()})),o.oc(4),o.Kb(),o.oc(5," \xa0 "),o.Lb(6,"span",9),o.oc(7),o.Kb(),o.Kb(),o.Lb(8,"ul"),o.nc(9,u,7,3,"li",10),o.Kb(),o.Kb(),o.Kb()}if(2&t){const t=e.$implicit;o.xb(4),o.pc(t.albumArtist||t.name),o.xb(3),o.qc("(",t.albums&&t.albums.length,")"),o.xb(2),o.bc("ngForOf",t.albums)}}function p(t,e){if(1&t&&(o.Lb(0,"div"),o.nc(1,m,10,3,"div",5),o.Kb()),2&t){const t=e.vsCollection;o.xb(1),o.bc("ngForOf",t)}}function h(t,e){if(1&t){const t=o.Mb();o.Lb(0,"li"),o.Lb(1,"a",8),o.Rb("click",(function(){o.kc(t);const i=e.$implicit;return o.Vb().jumpToLetter(i)})),o.oc(2),o.Kb(),o.Kb()}if(2&t){const t=e.$implicit;o.xb(2),o.pc(t.letter)}}const f=function(t){return{visible:t}},g=[{path:"",component:(()=>{class t{constructor(t,e,i){this.coreService=t,this.pathService=e,this.router=i,this.items=[],this.letters=[],this.showJumpList=!1,this.cummlativeLength=[],this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe(t=>{this.ngOnInit()})}ngOnInit(){(new Date).getTime(),this.pathService.announcePage("Albums");const t=this.core.artists;this.letters=this.core.sortedLetters;const e=Object.keys(t).sort((t,e)=>t<e?-1:1),i=[];e.forEach(t=>{i.push(this.core.artists[t])}),this.items=i,this.items.forEach((t,e)=>{const i=this.getSize(t,e);this.cummlativeLength[e]=e>0?{l:this.cummlativeLength[e-1].l+i,letter:t.letter.letter}:{l:i,letter:t.letter.letter}})}ngOnDestroy(){this.subscription.unsubscribe()}navigateToAlbum(t){this.router.navigate(["/letter",t.artist.letter.escapedLetter,"artist",t.artist.sortName,"album",t.sortName])}getSize(t,e){return 90*t.albums.length+49}toggleJumpList(){this.showJumpList=!this.showJumpList}jumpToLetter(t){this.showJumpList=!1,this.items.some((e,i)=>{let s=!1;return e.letter.letter===t.letter&&(window.scrollTo(0,this.cummlativeLength[i>0?i-1:0].l),s=!0),s})}}return t.\u0275fac=function(e){return new(e||t)(o.Ib(r.a),o.Ib(c.a),o.Ib(n.c))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-albums-list"]],decls:6,vars:8,consts:[[1,"animated-page"],["imageLazyLoadArea","",1,"container","container-longlist"],[4,"vsFor","vsForSize","vsForScrollParent","vsForExcess"],[1,"jump-list",3,"ngClass"],[4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[3,"click"],[1,"small","muted"],[3,"click",4,"ngFor","ngForOf"],[1,"image-wrapper"],[3,"album"],[1,"text-wrapper"],[1,"text"],["class","small muted",4,"ngIf"]],template:function(t,e){1&t&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.nc(2,p,2,1,"div",2),o.Kb(),o.Lb(3,"div",3),o.Lb(4,"ol"),o.nc(5,h,3,1,"li",4),o.Kb(),o.Kb(),o.Kb()),2&t&&(o.xb(2),o.bc("vsFor",e.items)("vsForSize",e.getSize)("vsForScrollParent","body")("vsForExcess",2),o.xb(1),o.bc("ngClass",o.ec(6,f,e.showJumpList)),o.xb(2),o.bc("ngForOf",e.letters))},directives:[b.a,s.i,s.j,l.a,s.k],encapsulation:2}),t})()}];let L=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},imports:[[n.e.forChild(g)],n.e]}),t})();var v=i("hDf6");let d=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(e){return new(e||t)},imports:[[s.b,L,v.a]]}),t})()}}]);