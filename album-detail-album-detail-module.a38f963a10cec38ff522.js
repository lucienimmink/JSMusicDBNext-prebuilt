(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{jJnS:function(t,i,n){"use strict";n.r(i);var c=n("Valr"),a=n("TYT/"),s=n("hDf6"),e=n("DUip"),r=n("KI15"),o=n("ufXC"),l=n("OgP6"),b=n("ktVm"),u=n("XtVx"),p=n("9dPn"),m=n("cpgm"),f=["class","animated-page",4,"ngIf"],d=[1,"animated-page"],h=[1,"jumbotron","theme-light",3,"ngClass"],g=[1,"container"],y=[1,"row","albumdetail"],v=[1,"col-4","col-md-3","col-lg-2"],T=[3,"album"],R=[1,"col-8","col-md-9","col-lg-10"],k=[1,"d-none","d-sm-block"],I=[4,"ngIf"],w=[1,"d-none","d-sm-inline"],P=[1,"btn","btn-primary",3,"click"],S=[1,"glyph","glyph-play"],G=[1,"d-none","d-md-inline"],C=[1,"btn","btn-secondary",3,"click"],D=[1,"glyph","glyph-music-info"],E=[1,"row"],A=[1,"col"],F=["class","list-group list-tracks",4,"ngFor","ngForOf"];function O(t,i){if(1&t&&(a.Tb(0,"span"),a.Gc(1),a.Rb()),2&t){var n=a.ec(2);a.yc(1),a.Ic("",n.album.year," \u2022 ")}}var N=[1,"list-group","list-tracks"],Q=["class","list-items-row disc-row header-seperator",3,"ngClass",4,"ngIf"],$=["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],U=[1,"list-items-row","disc-row","header-seperator",3,"ngClass"],j=function(t){return{"first-disc":t}};function J(t,i){if(1&t&&(a.Tb(0,"li",U),a.Gc(1),a.Rb()),2&t){var n=a.ec().$implicit;a.kc("ngClass",a.nc(2,j,1==n[0].disc)),a.yc(1),a.Ic(" Disc ",n[0].disc," ")}}var M=[1,"list-group-item",3,"ngClass"],x=[1,"details","row",3,"click"],L=[1,"col-2","col-sm-1"],q=[1,"col-7","col-sm-10"],H=[1,"small","muted","color-type-secondary"],V=[1,"col-3","col-sm-1","text-right"];function Z(t,i){if(1&t&&(a.Tb(0,"span"),a.Gc(1),a.Rb()),2&t){var n=a.ec().$implicit;a.yc(1),a.Hc(n.number)}}var B=[1,"glyph","glyph-pause"];function X(t,i){1&t&&(a.Tb(0,"span"),a.Qb(1,"span",B),a.Rb())}function K(t,i){1&t&&(a.Tb(0,"span"),a.Qb(1,"span",S),a.Rb())}function W(t,i){if(1&t&&(a.Tb(0,"span"),a.Qb(1,"br"),a.Tb(2,"span",H),a.Gc(3),a.Rb(),a.Rb()),2&t){var n=a.ec().$implicit;a.yc(3),a.Hc(n.type)}}function Y(t,i){if(1&t&&(a.Tb(0,"span"),a.Qb(1,"br"),a.Tb(2,"span",H),a.Gc(3),a.fc(4,"timeFormat"),a.Rb(),a.Rb()),2&t){var n=a.ec().$implicit;a.yc(3),a.Ic(" ",a.gc(4,1,n.position)," \xa0 ")}}var z=function(t,i,n){return{active:t,showActions:i,hq:n}};function _(t,i){if(1&t){var n=a.Ub();a.Tb(0,"li",M),a.Tb(1,"div",x),a.Zb("click",function(t){a.vc(n);var c=i.$implicit;return a.ec(3).onSelect(c,t)}),a.Tb(2,"div",L),a.Ec(3,Z,2,1,"span",I),a.Ec(4,X,2,0,"span",I),a.Ec(5,K,2,0,"span",I),a.Rb(),a.Tb(6,"div",q),a.Gc(7),a.Qb(8,"br"),a.Tb(9,"span",H),a.Gc(10),a.Rb(),a.Rb(),a.Tb(11,"div",V),a.Gc(12),a.fc(13,"timeFormat"),a.Ec(14,W,4,1,"span",I),a.Ec(15,Y,5,3,"span",I),a.Rb(),a.Rb(),a.Rb()}if(2&t){var c=i.$implicit,s=a.ec(3);a.kc("ngClass",a.pc(11,z,c.isPlaying||c.isPaused,c.showActions,"flac"===c.type)),a.yc(3),a.kc("ngIf",!c.isPlaying&&!c.isPaused&&0!==c.number),a.yc(4),a.kc("ngIf",!c.isPlaying&&c.isPaused),a.yc(5),a.kc("ngIf",c.isPlaying&&!c.isPaused),a.yc(7),a.Ic(" ",c.title," "),a.yc(10),a.Ic(" ",c.trackArtist," "),a.yc(12),a.Ic(" ",a.gc(13,9,c.duration)," "),a.yc(14),a.kc("ngIf","mixed"===s.album.type&&!c.isPlaying),a.yc(15),a.kc("ngIf",c.isPlaying)}}function tt(t,i){if(1&t&&(a.Tb(0,"ol",N),a.Ec(1,J,2,4,"li",Q),a.Ec(2,_,16,15,"li",$),a.Rb()),2&t){var n=i.$implicit,c=a.ec(2);a.yc(1),a.kc("ngIf",c.album.sortedDiscs.length>1),a.yc(2),a.kc("ngForOf",n)}}var it=[1,"alert","alert-warning"];function nt(t,i){1&t&&(a.Tb(0,"div"),a.Qb(1,"br"),a.Tb(2,"div",it),a.Tb(3,"strong"),a.Gc(4,"Warning!"),a.Rb(),a.Gc(5," This album cannot be played since FLAC support is lacking."),a.Rb(),a.Rb())}var ct=function(t){return{shrunk:t}};function at(t,i){if(1&t){var n=a.Ub();a.Tb(0,"div",d),a.Tb(1,"div",h),a.Tb(2,"div",g),a.Tb(3,"div",y),a.Tb(4,"div",v),a.Qb(5,"mdb-album-art",T),a.Rb(),a.Tb(6,"div",R),a.Tb(7,"h2"),a.Gc(8),a.Rb(),a.Tb(9,"h3",k),a.Gc(10),a.Rb(),a.Tb(11,"h4"),a.Ec(12,O,2,1,"span",I),a.Gc(13),a.Tb(14,"span",w),a.Gc(15),a.fc(16,"timeFormat"),a.Rb(),a.Rb(),a.Tb(17,"h5"),a.Tb(18,"button",P),a.Zb("click",function(t){return a.vc(n),a.ec().playAlbum()}),a.Qb(19,"span",S),a.Gc(20," Play "),a.Tb(21,"span",G),a.Gc(22,"album"),a.Rb(),a.Rb(),a.Gc(23,"\xa0\xa0\xa0 "),a.Tb(24,"button",C),a.Zb("click",function(t){return a.vc(n),a.ec().addToQueue()}),a.Qb(25,"span",D),a.Gc(26," queue "),a.Tb(27,"span",G),a.Gc(28,"album"),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Rb(),a.Tb(29,"div",g),a.Tb(30,"div",E),a.Tb(31,"div",A),a.Ec(32,tt,3,2,"ol",F),a.Ec(33,nt,6,0,"div",I),a.Rb(),a.Rb(),a.Rb(),a.Rb()}if(2&t){var c=a.ec();a.yc(1),a.kc("ngClass",a.nc(12,ct,c.isShrunk)),a.yc(5),a.kc("album",c.album),a.yc(8),a.Hc(c.album.name),a.yc(10),a.Ic(" ",c.album.artist.albumArtist||c.album.artist.name," "),a.yc(12),a.kc("ngIf",c.album.year&&0!==c.album.year),a.yc(13),a.Ic(" songs: ",c.album.tracks.length," "),a.yc(15),a.Jc(" \u2022 ",a.gc(16,10,c.totalRunningTime())," \u2022 ",c.album.type,""),a.yc(32),a.kc("ngForOf",c.album.sortedDiscs),a.yc(33),a.kc("ngIf","flac"===c.album.type&&!c.isFlacSupported)}}var st=[{path:"",component:function(){function t(t,i,n,c,a,s){var e=this;this.coreService=t,this.router=i,this.pathService=n,this.playerService=c,this.route=a,this.configService=s,this.ownPlaylists=[],this.albumName="",this.artistName="",this.isSwiping=!1,this.isShrunk=!1,this.isFlacSupported=!0,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe(function(t){e.ngOnInit()}),this.artistName=decodeURIComponent(this.route.snapshot.params.artist),this.albumName=decodeURIComponent(this.route.snapshot.params.album),this.route.params.subscribe(function(t){e.artistName=decodeURIComponent(t.artist),e.albumName=decodeURIComponent(t.album),e.ngOnInit()}),this.theme=s.mode}return t.prototype.ngOnInit=function(){var t=this;if(this.album=this.core.albums[this.artistName+"|"+this.albumName],this.album){this.album.sortedDiscs=[];var i=Object.keys(this.album.discs),n=[];i.forEach(function(t){var i=t.substring(5);n.push({nr:i,id:t})}),(n=n.sort(function(t,i){return t.nr<i.nr?-1:1})).forEach(function(i){t.album.sortedDiscs.push(t.album.discs[i.id])}),this.pathService.announcePath({artist:this.album.artist,album:this.album,letter:this.album.artist.letter})}if(this.ownPlaylists=[],localStorage.getItem("customlisttest")){var c=JSON.parse(localStorage.getItem("customlisttest"));c&&c.forEach(function(i){var n=new r.a;n.isOwn=!0,n.name=i.name,n.tracks=i.tracks,t.ownPlaylists.push(n)})}var a=document.querySelector("audio").canPlayType("audio/flac");this.isFlacSupported="probably"===a||"maybe"===a},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onSelect=function(t,i){this.isSwiping||this.playerService.doPlayAlbum(this.album,this.album.tracks.indexOf(t),!0,!1)},t.prototype.playAlbum=function(){this.isSwiping||this.playerService.doPlayAlbum(this.album,0,!0,!1)},t.prototype.addToQueue=function(){this.isSwiping||this.playerService.doQueueAlbum(this.album)},t.prototype.navigateToArtist=function(t){this.router.navigate(["Artist",{letter:t.letter.escapedLetter,artist:t.sortName}])},t.prototype.swipe=function(t,i,n){var c=this;n.preventDefault(),this.isSwiping=!0,setTimeout(function(){c.isSwiping=!1},5),t.showActions=i},t.prototype.totalRunningTime=function(){var t=0;return this.album.tracks.forEach(function(i){t+=i.duration}),t},t.ngComponentDef=a.Jb({type:t,selectors:[["app-album-detail"]],factory:function(i){return new(i||t)(a.Pb(b.a),a.Pb(e.c),a.Pb(u.a),a.Pb(o.a),a.Pb(e.a),a.Pb(l.a))},consts:1,vars:1,template:function(t,i){1&t&&a.Ec(0,at,34,14,"div",f),2&t&&a.kc("ngIf",i.album)},directives:[c.l,c.j,p.a,c.k],pipes:[m.a],encapsulation:2}),t}()}],et=function(){function t(){}return t.ngModuleDef=a.Nb({type:t}),t.ngInjectorDef=a.Mb({factory:function(i){return new(i||t)},imports:[[e.e.forChild(st)],e.e]}),t.ngLocaleIdDef="en-GB",t}();e.e.forChild(st),n.d(i,"AlbumDetailModule",function(){return rt});var rt=function(){function t(){}return t.ngModuleDef=a.Nb({type:t}),t.ngInjectorDef=a.Mb({factory:function(i){return new(i||t)},imports:[[c.c,et,s.a]]}),t.ngLocaleIdDef="en-GB",t}()}}]);