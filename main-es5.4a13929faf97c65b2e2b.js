function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+ooL":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var l=n("XNiG"),i=function(){function t(){_classCallCheck(this,t),this.colorSource=new l.a,this.blobSource=new l.a,this.color$=this.colorSource.asObservable(),this.blob$=this.blobSource.asObservable()}return _createClass(t,[{key:"setColor",value:function(t){this.colorSource.next(t)}},{key:"setBlob",value:function(){this.blobSource.next(!0)}}]),t}()},"/1T7":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var l=function(){function t(e){_classCallCheck(this,t),this.tracks=[],this.discs=[],this.sortedDiscs=[],this.modified=0,this.isContinues=!0,e.album&&e.title&&(this.name=e.album,this.sortName=this.name.toUpperCase(),this.year=e.year,this.modified=e.modified,this.year&&-1!==this.year.indexOf("-")&&(this.year=this.year.split("-")[0]))}return _createClass(t,[{key:"url",value:function(){return"/letter/".concat(this.artist.letter.escapedLetter,"/artist/").concat(encodeURIComponent(this.artist.name),"/album/").concat(encodeURIComponent(this.name))}}]),t}()},0:function(t,e,n){t.exports=n("zUnb")},"1gFc":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var l=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"requestAnimation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enter",e=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e&&(e.classList.contains(t)&&e.classList.remove(t),setTimeout((function(){e.classList.add(t)}),10),n&&setTimeout((function(){e.classList.remove(t)}),150))}}]),t}()},Gcu2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var l=n("XNiG"),i=n("LNEh"),a=(n("ktVm"),n("t083"),n("KI15")),s=function(){function t(e,n){_classCallCheck(this,t),this.coreService=e,this.lastfmservice=n,this.playlistSubject=new l.a,this.playlistAnnounced$=this.playlistSubject.asObservable(),this.numberOfTracksInAPlaylist=100,this.username=localStorage.getItem("lastfm-username"),this.core=this.coreService.getCore()}return _createClass(t,[{key:"generateRandom",value:function(){var t=this,e=Object.keys(this.core.tracks),n=this.shuffle(e).splice(0,this.numberOfTracksInAPlaylist),l=new a.a;return l.name="".concat(this.numberOfTracksInAPlaylist," random tracks"),n.map((function(e){l.tracks.push(t.core.tracks[e])})),l}},{key:"generateRadio",value:function(){var t=this;this.lastfmservice.getTopArtists(this.username).subscribe((function(e){t.playlistSubject.next(t.extractArtists(e))}))}},{key:"extractTracks",value:function(t){var e=this,n=new a.a;return n.name="Loved tracks on Last.FM",t.map((function(t){var l=e.core.getTrackByArtistAndName(t.artist.name,t.name);l&&n.tracks.push(l)})),n}},{key:"extractArtists",value:function(t){var e=this,n=[],l=[];return t.forEach((function(t,a){t.dummy=!0;var s=new i.a(t),r=e.core.artists[s.sortName];r&&a<10?n.push(r):l.push(r)})),this.generateRadioList(n,l)}},{key:"generateRadioList",value:function(t,e){var n=new a.a;n.name="".concat(this.numberOfTracksInAPlaylist," random tracks based on your recently listened tracks");for(var l=0;l<this.numberOfTracksInAPlaylist;l++)n.tracks.push(this.getRandomTrackFromList(l%3==0||l%5==0?t:l%4==0||l%7==0?e:this.core.artistsList()));return n}},{key:"getRandomTrackFromList",value:function(t){var e=this.shuffle(t)[0];if(e){var n=this.shuffle(e.albums)[0],l=this.shuffle(n.tracks)[0];return l.duration<=6e5?l:this.getRandomTrackFromList(t)}return this.getRandomTrackFromList(t)}},{key:"shuffle",value:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),l=t[e];t[e]=t[n],t[n]=l}return t}},{key:"getNextTrackForPlaylist",value:function(t,e){var n=this.getRandomTrackFromList(t);if(n){var l=n.artist;return e.tracks.length>1&&e.tracks[e.tracks.length-1].artist===l&&t.length>1?this.getNextTrackForPlaylist(t,e):n}return null}}]),t}()},KI15:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var l=function t(){_classCallCheck(this,t),this.tracks=[],this.isOwn=!1,this.isContinues=!1}},LNEh:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var l=function(){function t(e){_classCallCheck(this,t),this.albums=[],(e.album&&e.title||e.dummy)&&(this.name=e.name||e.artist||"",this.albumArtist=e.albumartist||e.albumArtist||"",this.sortName=this.stripFromName(this.albumArtist?this.albumArtist.toUpperCase():e.sortName?e.sortName.toUpperCase():this.name.toUpperCase(),["the ",'"',"a "]),this.bio=e.bio,this.isCollection=!!this.albumArtist&&this.name!==this.albumArtist)}return _createClass(t,[{key:"url",value:function(){return"/letter/".concat(this.letter.escapedLetter,"/artist/").concat(encodeURIComponent(this.albumArtist||this.name),"/")}},{key:"sortAlbumsBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.albums.sort((function(n,l){if(-1!==t.indexOf(".")){var i=t.split(".");return n[i[0]][i[1]]<l[i[0]][i[1]]?"asc"===e?-1:1:n[i[0]][i[1]]>l[i[0]][i[1]]?"asc"===e?1:-1:0}return n[t]<l[t]?"asc"===e?-1:1:n[t]>l[t]?"asc"===e?1:-1:0}))}},{key:"sortAndReturnAlbumsBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return this.sortAlbumsBy(t,e),this.albums}},{key:"stripFromName",value:function(t,e){var n=t?t.toUpperCase():"";return n=n.trim(),e.forEach((function(t){var e=t.toUpperCase();0===n.indexOf(e)&&(n=n.substring(e.length))})),n}}]),t}()},MDLy:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var l=n("z6cu"),i=n("JIr8"),a=n("Kj3r"),s=function(){function t(e){_classCallCheck(this,t),this.http=e,this.collectionUrl="/data/node-music.json",this.reloadUrl="/rescan",this.pollUrl="/progress",this.dsm=localStorage.getItem("dsm")}return _createClass(t,[{key:"getCollection",value:function(){return this.dsm=localStorage.getItem("dsm"),this.http.get(this.dsm+this.collectionUrl).pipe(Object(i.a)(this.handleError))}},{key:"reload",value:function(){var t=this.dsm+this.reloadUrl,e=localStorage.getItem("jwt");return this.http.get("".concat(t,"?_ts=").concat((new Date).getTime(),"&jwt=").concat(e)).pipe(Object(i.a)(this.handleError))}},{key:"poll",value:function(){var t=this.dsm+this.pollUrl,e=localStorage.getItem("jwt");return this.http.get("".concat(t,"?_ts=").concat((new Date).getTime(),"&jwt=").concat(e)).pipe(Object(a.a)(300),Object(i.a)(this.handleError))}},{key:"handleError",value:function(t){var e=t.message?t.message:t.status?"".concat(t.status," - ").concat(t.statusText):"Server error";return Object(l.a)(e)}}]),t}()},OgP6:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var l=n("XNiG"),i=n("z6cu"),a=n("JIr8"),s=function(){function t(e){_classCallCheck(this,t),this.http=e,this.geoSource=new l.a,this.themeSource=new l.a,this.modeSource=new l.a,this.theme$=this.themeSource.asObservable(),this.mode$=this.modeSource.asObservable(),this.geo$=this.geoSource.asObservable(),this._theme=localStorage.getItem("theme")||"light",this._mode="light",this.counter=0,this.COUNTERTIMER=6e4}return _createClass(t,[{key:"getSunriseInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:51,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;return this.http.get("https://api.sunrise-sunset.org/json?lat=".concat(t,"&lng=").concat(e,"&formatted=0")).pipe(Object(a.a)(this.handleError))}},{key:"applyTheme",value:function(){var t=this;"auto"===this._theme?(this.counter||(this.counter=setInterval((function(){t.checkTheme()}),this.COUNTERTIMER)),this.checkTheme(!0)):this.setStyleSheet(this._theme)}},{key:"checkTheme",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=new Date;e<this.stopDate&&e>this.startDate&&"dark"!==this._mode?(this._mode="dark",this.setStyleSheet(this._mode)):(e>this.stopDate||e<this.startDate)&&"light"!==this._mode&&(this._mode="light",this.setStyleSheet(this._mode)),t&&this.setStyleSheet(this._mode)}},{key:"handleError",value:function(t){return Object(i.a)(null)}},{key:"setStyleSheet",value:function(t){var e=document.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("type","text/css"),e.setAttribute("href","prod"!==window.ENV&&window.ENV?"/dist/sass/".concat(t,".css"):"global/css/".concat(t,".css")),e.setAttribute("id","customStylesheet");var n=document.getElementById("customStylesheet");n&&document.getElementsByTagName("head")[0].removeChild(n),document.getElementsByTagName("head")[0].appendChild(e),localStorage.setItem("theme",this._theme),localStorage.setItem("style",t),this.themeSource.next(this._theme),this.modeSource.next(t)}},{key:"theme",get:function(){return this._theme},set:function(t){var e=this;this._theme!==t&&(this._theme=t),"auto"!==this._theme||this.counter?"auto"===this._theme||(this.setStyleSheet(this._theme),clearInterval(this.counter),this.counter=0,this._mode=this._theme):(this.counter=setInterval((function(){e.checkTheme()}),this.COUNTERTIMER),this.checkTheme())}},{key:"mode",get:function(){return this._mode}}]),t}()},XNvx:function(t,e,n){"use strict";var l=n("z6cu"),i=n("IheW"),a=n("JIr8"),s={cipher:{},hash:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t}}};s.cipher.aes=function(t){this.h[0][0][0]||this.w();var e,n,l,i,a=this.h[0][4],r=this.h[1],u=1;if(4!==(e=t.length)&&6!==e&&8!==e)throw new s.exception.invalid("invalid aes key size");for(this.a=[l=t.slice(0),i=[]],t=e;t<4*e+28;t++)n=l[t-1],(t%e==0||8===e&&t%e==4)&&(n=a[n>>>24]<<24^a[n>>16&255]<<16^a[n>>8&255]<<8^a[255&n],t%e==0&&(n=n<<8^n>>>24^u<<24,u=u<<1^283*(u>>7))),l[t]=l[t-e]^n;for(e=0;t;e++,t--)n=l[3&e?t:t-4],i[e]=t<=4||e<4?n:r[0][a[n>>>24]]^r[1][a[n>>16&255]]^r[2][a[n>>8&255]]^r[3][a[255&n]]},s.cipher.aes.prototype={encrypt:function(t){return this.H(t,0)},decrypt:function(t){return this.H(t,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],w:function(){var t,e,n,l,i,a,s,r=this.h[0],u=this.h[1],o=r[4],c=u[4],h=[],d=[];for(t=0;t<256;t++)d[(h[t]=t<<1^283*(t>>7))^t]=t;for(e=n=0;!o[e];e^=l||1,n=d[n]||1)for(o[e]=a=(a=n^n<<1^n<<2^n<<3^n<<4)>>8^255&a^99,c[a]=e,s=16843009*(i=h[t=h[l=h[e]]])^65537*t^257*l^16843008*e,i=257*h[a]^16843008*a,t=0;t<4;t++)r[t][e]=i=i<<24^i>>>8,u[t][a]=s=s<<24^s>>>8;for(t=0;t<5;t++)r[t]=r[t].slice(0),u[t]=u[t].slice(0)},H:function(t,e){if(4!==t.length)throw new s.exception.invalid("invalid aes block size");var n=this.a[e],l=t[0]^n[0],i=t[e?3:1]^n[1],a=t[2]^n[2];t=t[e?1:3]^n[3];var r,u,o,c,h=n.length/4-2,d=4,b=[0,0,0,0],m=(r=this.h[e])[0],g=r[1],f=r[2],p=r[3],v=r[4];for(c=0;c<h;c++)r=m[l>>>24]^g[i>>16&255]^f[a>>8&255]^p[255&t]^n[d],u=m[i>>>24]^g[a>>16&255]^f[t>>8&255]^p[255&l]^n[d+1],o=m[a>>>24]^g[t>>16&255]^f[l>>8&255]^p[255&i]^n[d+2],t=m[t>>>24]^g[l>>16&255]^f[i>>8&255]^p[255&a]^n[d+3],d+=4,l=r,i=u,a=o;for(c=0;c<4;c++)b[e?3&-c:c]=v[l>>>24]<<24^v[i>>16&255]<<16^v[a>>8&255]<<8^v[255&t]^n[d++],r=l,l=i,i=a,a=t,t=r;return b}},s.bitArray={bitSlice:function(t,e,n){return t=s.bitArray.P(t.slice(e/32),32-(31&e)).slice(1),void 0===n?t:s.bitArray.clamp(t,n-e)},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var n=t[t.length-1],l=s.bitArray.getPartial(n);return 32===l?t.concat(e):s.bitArray.P(e,l,0|n,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+s.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;var n=(t=t.slice(0,Math.ceil(e/32))).length;return e&=31,n>0&&e&&(t[n-1]=s.bitArray.partial(e,t[n-1]&2147483648>>e-1,1)),t},partial:function(t,e,n){return 32===t?e:(n?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(s.bitArray.bitLength(t)!==s.bitArray.bitLength(e))return!1;var n,l=0;for(n=0;n<t.length;n++)l|=t[n]^e[n];return 0===l},P:function(t,e,n,l){var i;for(i=0,void 0===l&&(l=[]);e>=32;e-=32)l.push(n),n=0;if(0===e)return l.concat(t);for(i=0;i<t.length;i++)l.push(n|t[i]>>>e),n=t[i]<<32-e;return t=s.bitArray.getPartial(i=t.length?t[t.length-1]:0),l.push(s.bitArray.partial(e+t&31,e+t>32?n:l.pop(),1)),l},k:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}},s.codec.utf8String={fromBits:function(t){var e,n,l="",i=s.bitArray.bitLength(t);for(e=0;e<i/8;e++)0==(3&e)&&(n=t[e/4]),l+=String.fromCharCode(n>>>24),n<<=8;return decodeURIComponent(escape(l))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,n=[],l=0;for(e=0;e<t.length;e++)l=l<<8|t.charCodeAt(e),3==(3&e)&&(n.push(l),l=0);return 3&e&&n.push(s.bitArray.partial(8*(3&e),l)),n}},s.codec.hex={fromBits:function(t){var e,n="";for(e=0;e<t.length;e++)n+=(0xf00000000000+(0|t[e])).toString(16).substr(4);return n.substr(0,s.bitArray.bitLength(t)/4)},toBits:function(t){var e,n,l=[];for(n=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",e=0;e<t.length;e+=8)l.push(0^parseInt(t.substr(e,8),16));return s.bitArray.clamp(l,4*n)}},s.codec.base64={D:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e){var n,l="",i=0,a=s.codec.base64.D,r=0,u=s.bitArray.bitLength(t);for(n=0;6*l.length<u;)l+=a.charAt((r^t[n]>>>i)>>>26),i<6?(r=t[n]<<6-i,i+=26,n++):(r<<=6,i-=6);for(;3&l.length&&!e;)l+="=";return l},toBits:function(t){t=t.replace(/\s|=/g,"");var e,n,l=[],i=0,a=s.codec.base64.D,r=0;for(e=0;e<t.length;e++){if((n=a.indexOf(t.charAt(e)))<0)throw new s.exception.invalid("this isn't base64!");i>26?(l.push(r^n>>>(i-=26)),r=n<<32-i):r^=n<<32-(i+=6)}return 56&i&&l.push(s.bitArray.partial(56&i,r,1)),l}},s.hash.sha256=function(t){this.a[0]||this.w(),t?(this.n=t.n.slice(0),this.i=t.i.slice(0),this.e=t.e):this.reset()},s.hash.sha256.hash=function(t){return(new s.hash.sha256).update(t).finalize()},s.hash.sha256.prototype={blockSize:512,reset:function(){return this.n=this.N.slice(0),this.i=[],this.e=0,this},update:function(t){"string"==typeof t&&(t=s.codec.utf8String.toBits(t));var e,n=this.i=s.bitArray.concat(this.i,t);for(t=this.e=(e=this.e)+s.bitArray.bitLength(t),e=512+e&-512;e<=t;e+=512)this.C(n.splice(0,16));return this},finalize:function(){var t,e=this.i,n=this.n;for(t=(e=s.bitArray.concat(e,[s.bitArray.partial(1,1)])).length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this.e/4294967296)),e.push(0|this.e);e.length;)this.C(e.splice(0,16));return this.reset(),n},N:[],a:[],w:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,n=0,l=2;t:for(;n<64;l++){for(e=2;e*e<=l;e++)if(l%e==0)continue t;n<8&&(this.N[n]=t(Math.pow(l,.5))),this.a[n]=t(Math.pow(l,1/3)),n++}},C:function(t){var e,n,l=t.slice(0),i=this.n,a=this.a,s=i[0],r=i[1],u=i[2],o=i[3],c=i[4],h=i[5],d=i[6],b=i[7];for(t=0;t<64;t++)e=(e=t<16?l[t]:l[15&t]=((e=l[t+1&15])>>>7^e>>>18^e>>>3^e<<25^e<<14)+((n=l[t+14&15])>>>17^n>>>19^n>>>10^n<<15^n<<13)+l[15&t]+l[t+9&15]|0)+b+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(d^c&(h^d))+a[t],b=d,d=h,h=c,c=o+e|0,o=u,u=r,s=e+((r=s)&u^o&(r^u))+(r>>>2^r>>>13^r>>>22^r<<30^r<<19^r<<10)|0;i[0]=i[0]+s|0,i[1]=i[1]+r|0,i[2]=i[2]+u|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0,i[5]=i[5]+h|0,i[6]=i[6]+d|0,i[7]=i[7]+b|0}},s.mode.ccm={name:"ccm",encrypt:function(t,e,n,l,i){var a,r=e.slice(0),u=s.bitArray,o=u.bitLength(n)/8,c=u.bitLength(r)/8;if(i=i||64,l=l||[],o<7)throw new s.exception.invalid("ccm: iv must be at least 7 bytes");for(a=2;a<4&&c>>>8*a;a++);return a<15-o&&(a=15-o),n=u.clamp(n,8*(15-a)),e=s.mode.ccm.G(t,e,n,l,i,a),r=s.mode.ccm.I(t,r,n,e,i,a),u.concat(r.data,r.tag)},decrypt:function(t,e,n,l,i){i=i||64,l=l||[];var a=s.bitArray,r=a.bitLength(n)/8,u=a.bitLength(e),o=a.clamp(e,u-i),c=a.bitSlice(e,u-i);if(u=(u-i)/8,r<7)throw new s.exception.invalid("ccm: iv must be at least 7 bytes");for(e=2;e<4&&u>>>8*e;e++);if(e<15-r&&(e=15-r),n=a.clamp(n,8*(15-e)),o=s.mode.ccm.I(t,o,n,c,i,e),t=s.mode.ccm.G(t,o.data,n,l,i,e),!a.equal(o.tag,t))throw new s.exception.corrupt("ccm: tag doesn't match");return o.data},G:function(t,e,n,l,i,a){var r=[],u=s.bitArray,o=u.k;if((i/=8)%2||i<4||i>16)throw new s.exception.invalid("ccm: invalid tag length");if(l.length>4294967295||e.length>4294967295)throw new s.exception.bug("ccm: can't deal with 4GiB or more data");if(a=[u.partial(8,(l.length?64:0)|i-2<<2|a-1)],(a=u.concat(a,n))[3]|=u.bitLength(e)/8,a=t.encrypt(a),l.length)for((n=u.bitLength(l)/8)<=65279?r=[u.partial(16,n)]:n<=4294967295&&(r=u.concat([u.partial(16,65534)],[n])),r=u.concat(r,l),l=0;l<r.length;l+=4)a=t.encrypt(o(a,r.slice(l,l+4)));for(l=0;l<e.length;l+=4)a=t.encrypt(o(a,e.slice(l,l+4)));return u.clamp(a,8*i)},I:function(t,e,n,l,i,a){var r,u=s.bitArray;r=u.k;var o=e.length,c=u.bitLength(e);if(n=u.concat([u.partial(8,a-1)],n).concat([0,0,0]).slice(0,4),l=u.bitSlice(r(l,t.encrypt(n)),0,i),!o)return{tag:l,data:[]};for(r=0;r<o;r+=4)n[3]++,i=t.encrypt(n),e[r]^=i[0],e[r+1]^=i[1],e[r+2]^=i[2],e[r+3]^=i[3];return{tag:l,data:u.clamp(e,c)}}},s.mode.ocb2={name:"ocb2",encrypt:function(t,e,n,l,i,a){if(128!==s.bitArray.bitLength(n))throw new s.exception.invalid("ocb iv must be 128 bits");var r,u=s.mode.ocb2.A,o=s.bitArray,c=o.k,h=[0,0,0,0];n=u(t.encrypt(n));var d,b=[];for(l=l||[],i=i||64,r=0;r+4<e.length;r+=4)h=c(h,d=e.slice(r,r+4)),b=b.concat(c(n,t.encrypt(c(n,d)))),n=u(n);return d=e.slice(r),e=o.bitLength(d),r=t.encrypt(c(n,[0,0,0,e])),d=o.clamp(c(d,r),e),h=c(h,c(d,r)),h=t.encrypt(c(h,c(n,u(n)))),l.length&&(h=c(h,a?l:s.mode.ocb2.pmac(t,l))),b.concat(o.concat(d,o.clamp(h,i)))},decrypt:function(t,e,n,l,i,a){if(128!==s.bitArray.bitLength(n))throw new s.exception.invalid("ocb iv must be 128 bits");i=i||64;var r,u,o=s.mode.ocb2.A,c=s.bitArray,h=c.k,d=[0,0,0,0],b=o(t.encrypt(n)),m=s.bitArray.bitLength(e)-i,g=[];for(l=l||[],n=0;n+4<m/32;n+=4)r=h(b,t.decrypt(h(b,e.slice(n,n+4)))),d=h(d,r),g=g.concat(r),b=o(b);if(r=t.encrypt(h(b,[0,0,0,u=m-32*n])),r=h(r,c.clamp(e.slice(n),u)),d=h(d,r),d=t.encrypt(h(d,h(b,o(b)))),l.length&&(d=h(d,a?l:s.mode.ocb2.pmac(t,l))),!c.equal(c.clamp(d,i),c.bitSlice(e,m)))throw new s.exception.corrupt("ocb: tag doesn't match");return g.concat(c.clamp(r,u))},pmac:function(t,e){var n,l=s.mode.ocb2.A,i=s.bitArray,a=i.k,r=[0,0,0,0],u=t.encrypt([0,0,0,0]);for(u=a(u,l(l(u))),n=0;n+4<e.length;n+=4)u=l(u),r=a(r,t.encrypt(a(u,e.slice(n,n+4))));return e=e.slice(n),i.bitLength(e)<128&&(u=a(u,l(u)),e=i.concat(e,[-2147483648])),r=a(r,e),t.encrypt(a(l(a(u,l(u))),r))},A:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},s.misc.hmac=function(t,e){this.M=e=e||s.hash.sha256;var n=[[],[]],l=e.prototype.blockSize/32;for(this.l=[new e,new e],t.length>l&&(t=e.hash(t)),e=0;e<l;e++)n[0][e]=909522486^t[e],n[1][e]=1549556828^t[e];this.l[0].update(n[0]),this.l[1].update(n[1])},s.misc.hmac.prototype.encrypt=s.misc.hmac.prototype.mac=function(t,e){return t=new this.M(this.l[0]).update(t,e).finalize(),new this.M(this.l[1]).update(t).finalize()},s.misc.pbkdf2=function(t,e,n,l,i){if(n=n||1e3,l<0||n<0)throw s.exception.invalid("invalid params to pbkdf2");"string"==typeof t&&(t=s.codec.utf8String.toBits(t)),t=new(i=i||s.misc.hmac)(t);var a,r,u,o,c=[],h=s.bitArray;for(o=1;32*c.length<(l||1);o++){for(i=a=t.encrypt(h.concat(e,[o])),r=1;r<n;r++)for(a=t.encrypt(a),u=0;u<a.length;u++)i[u]^=a[u];c=c.concat(i)}return l&&(c=h.clamp(c,l)),c},s.random={randomWords:function(t,e){var n,l=[];if(0===(e=this.isReady(e)))throw new s.exception.notready("generator isn't seeded");for(2&e&&this.U(!(1&e)),e=0;e<t;e+=4)(e+1)%65536==0&&this.L(),n=this.u(),l.push(n[0],n[1],n[2],n[3]);return this.L(),l.slice(0,t)},setDefaultParanoia:function(t){this.t=t},addEntropy:function(t,e,n){n=n||"user";var l,i,a=(new Date).valueOf(),r=this.q[n],u=this.isReady();switch(void 0===(l=this.F[n])&&(l=this.F[n]=this.R++),void 0===r&&(r=this.q[n]=0),this.q[n]=(this.q[n]+1)%this.b.length,typeof t){case"number":break;case"object":if(void 0===e)for(n=e=0;n<t.length;n++)for(i=t[n];i>0;)e++,i>>>=1;this.b[r].update([l,this.J++,2,e,a,t.length].concat(t));break;case"string":void 0===e&&(e=t.length),this.b[r].update([l,this.J++,3,e,a,t.length]),this.b[r].update(t);break;default:throw new s.exception.bug("random: addEntropy only supports number, array or string")}this.j[r]+=e,this.f+=e,0===u&&(0!==this.isReady()&&this.K("seeded",Math.max(this.g,this.f)),this.K("progress",this.getProgress()))},isReady:function(t){return t=this.B[void 0!==t?t:this.t],this.g&&this.g>=t?this.j[0]>80&&(new Date).valueOf()>this.O?3:1:this.f>=t?2:0},getProgress:function(t){return this.g>=(t=this.B[t||this.t])?1[0]:this.f>t?1[0]:this.f/t},startCollectors:function(){if(!this.m){if(window.addEventListener)window.addEventListener("load",this.o,!1),window.addEventListener("mousemove",this.p,!1);else{if(!document.attachEvent)throw new s.exception.bug("can't attach event");document.attachEvent("onload",this.o),document.attachEvent("onmousemove",this.p)}this.m=!0}},stopCollectors:function(){this.m&&(window.removeEventListener?(window.removeEventListener("load",this.o),window.removeEventListener("mousemove",this.p)):window.detachEvent&&(window.detachEvent("onload",this.o),window.detachEvent("onmousemove",this.p)),this.m=!1)},addEventListener:function(t,e){this.r[t][this.Q++]=e},removeEventListener:function(t,e){var n;t=this.r[t];var l=[];for(n in t)t.hasOwnProperty[n]&&t[n]===e&&l.push(n);for(e=0;e<l.length;e++)delete t[n=l[e]]},b:[new s.hash.sha256],j:[0],z:0,q:{},J:0,F:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:void 0,t:6,m:!1,r:{progress:{},seeded:{}},Q:0,B:[0,48,64,96,128,192,256,384,512,768,1024],u:function(){for(var t=0;t<4&&(this.d[t]=this.d[t]+1|0,!this.d[t]);t++);return this.s.encrypt(this.d)},L:function(){this.a=this.u().concat(this.u()),this.s=new s.cipher.aes(this.a)},T:function(t){for(this.a=s.hash.sha256.hash(this.a.concat(t)),this.s=new s.cipher.aes(this.a),t=0;t<4&&(this.d[t]=this.d[t]+1|0,!this.d[t]);t++);},U:function(t){var e,n=[],l=0;for(this.O=n[0]=(new Date).valueOf()+3e4,e=0;e<16;e++)n.push(4294967296*Math.random()|0);for(e=0;e<this.b.length&&(n=n.concat(this.b[e].finalize()),l+=this.j[e],this.j[e]=0,t||!(this.z&1<<e));e++);this.z>=1<<this.b.length&&(this.b.push(new s.hash.sha256),this.j.push(0)),this.f-=l,l>this.g&&(this.g=l),this.z++,this.T(n)},p:function(t){s.random.addEntropy([t.x||t.clientX||t.offsetX,t.y||t.clientY||t.offsetY],2,"mouse")},o:function(){s.random.addEntropy(new Date,2,"loadtime")},K:function(t,e){var n;t=s.random.r[t];var l=[];for(n in t)t.hasOwnProperty(n)&&l.push(t[n]);for(n=0;n<l.length;n++)l[n](e)}},s.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(t,e,n,l){n=n||{},l=l||{};var i=s.json,a=i.c({iv:s.random.randomWords(4,0)},i.defaults);if(i.c(a,n),"string"==typeof a.salt&&(a.salt=s.codec.base64.toBits(a.salt)),"string"==typeof a.iv&&(a.iv=s.codec.base64.toBits(a.iv)),!s.mode[a.mode]||!s.cipher[a.cipher]||"string"==typeof t&&a.iter<=100||64!==a.ts&&96!==a.ts&&128!==a.ts||128!==a.ks&&192!==a.ks&&256!==a.ks||a.iv.length<2||a.iv.length>4)throw new s.exception.invalid("json encrypt: invalid parameters");return"string"==typeof t&&(t=(n=s.misc.cachedPbkdf2(t,a)).key.slice(0,a.ks/32),a.salt=n.salt),"string"==typeof e&&(e=s.codec.utf8String.toBits(e)),n=new s.cipher[a.cipher](t),i.c(l,a),l.key=t,a.ct=s.mode[a.mode].encrypt(n,e,a.iv,a.adata,a.tag),i.encode(i.V(a,i.defaults))},decrypt:function(t,e,n,l){n=n||{},l=l||{};var i=s.json;if("string"==typeof(e=i.c(i.c(i.c({},i.defaults),i.decode(e)),n,!0)).salt&&(e.salt=s.codec.base64.toBits(e.salt)),"string"==typeof e.iv&&(e.iv=s.codec.base64.toBits(e.iv)),!s.mode[e.mode]||!s.cipher[e.cipher]||"string"==typeof t&&e.iter<=100||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||e.iv.length<2||e.iv.length>4)throw new s.exception.invalid("json decrypt: invalid parameters");return"string"==typeof t&&(t=(n=s.misc.cachedPbkdf2(t,e)).key.slice(0,e.ks/32),e.salt=n.salt),n=new s.cipher[e.cipher](t),n=s.mode[e.mode].decrypt(n,e.ct,e.iv,e.adata,e.tag),i.c(l,e),l.key=t,s.codec.utf8String.fromBits(n)},encode:function(t){var e,n="{",l="";for(e in t)if(t.hasOwnProperty(e)){if(!e.match(/^[a-z0-9]+$/i))throw new s.exception.invalid("json encode: invalid property name");switch(n+=l+e+":",l=",",typeof t[e]){case"number":case"boolean":n+=t[e];break;case"string":n+='"'+escape(t[e])+'"';break;case"object":n+='"'+s.codec.base64.fromBits(t[e],1)+'"';break;default:throw new s.exception.bug("json encode: unsupported type")}}return n+"}"},decode:function(t){if(!(t=t.replace(/\s/g,"")).match(/^\{.*\}$/))throw new s.exception.invalid("json decode: this isn't json!");t=t.replace(/^\{|\}$/g,"").split(/,/);var e,n,l={};for(e=0;e<t.length;e++){if(!(n=t[e].match(/^([a-z][a-z0-9]*):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new s.exception.invalid("json decode: this isn't json!");l[n[1]]=n[2]?parseInt(n[2],10):n[1].match(/^(ct|salt|iv)$/)?s.codec.base64.toBits(n[3]):unescape(n[3])}return l},c:function(t,e,n){if(void 0===t&&(t={}),void 0===e)return t;var l;for(l in e)if(e.hasOwnProperty(l)){if(n&&void 0!==t[l]&&t[l]!==e[l])throw new s.exception.invalid("required parameter overridden");t[l]=e[l]}return t},V:function(t,e){var n,l={};for(n in t)t.hasOwnProperty(n)&&t[n]!==e[n]&&(l[n]=t[n]);return l},W:function(t,e){var n,l={};for(n=0;n<e.length;n++)void 0!==t[e[n]]&&(l[e[n]]=t[e[n]]);return l}},s.encrypt=s.json.encrypt,s.decrypt=s.json.decrypt,s.misc.S={},s.misc.cachedPbkdf2=function(t,e){var n,l=s.misc.S;return n=(e=e||{}).iter||1e3,(n=(l=l[t]=l[t]||{})[n]=l[n]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):s.random.randomWords(2,0)})[l=void 0===e.salt?n.firstSalt:e.salt]=n[l]||s.misc.pbkdf2(t,l,e.iter),{key:n[l].slice(0),salt:l.slice(0)}};var r={};!function(){function t(t){var e=window.btoa(t);return(e=(e=e.split("=")[0]).replace(/\+/g,"-")).replace(/\//g,"_")}function e(t){var e=t;switch((e=(e=e.replace(/-/g,"+")).replace(/_/g,"/")).length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new i("Illegal base64url string!")}return window.atob(e)}function n(t){this.message=t,this.toString=function(){return"No such algorithm: "+this.message}}function l(t){this.message=t,this.toString=function(){return"Not implemented: "+this.message}}function i(t){this.message=t,this.toString=function(){return"Malformed input: "+this.message}}function a(t,e){if("sha256"!=t)throw new n("HMAC does not support hash "+t);this.hash=s.hash.sha256,this.key=s.codec.utf8String.toBits(e)}function u(t,e){if("sha1"==t)this.hash="sha1";else{if("sha256"!=t)throw new n("JWT algorithm: "+t);this.hash="sha256"}this.keyPEM=e}function o(t,e){this.objectStr=t,this.pkAlgorithm=e}a.prototype={update:function(t){this.data=t},finalize:function(){},sign:function(){var e=new s.misc.hmac(this.key,this.hash).encrypt(this.data);return t(window.atob(s.codec.base64.fromBits(e)))},verify:function(e){var n=new s.misc.hmac(this.key,this.hash).encrypt(this.data);return t(window.atob(s.codec.base64.fromBits(n)))==e}},u.prototype={update:function(t){this.data=t},finalize:function(){},sign:function(){var n=new RSAKey;n.readPrivateKeyFromPEMString(this.keyPEM);var l=n.signString(this.data,this.hash);return t(e(hex2b64(l)))},verify:function(t){return this.keyPEM.verifyString(this.data,function(t){var e,n,l="",i=0;for(e=0;e<t.length;++e){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t.charAt(e));a<0||(0==i?(l+=int2char(a>>2),n=3&a,i=1):1==i?(l+=int2char(n<<2|a>>4),n=15&a,i=2):2==i?(l+=int2char(n),l+=int2char(a>>2),n=3&a,i=3):(l+=int2char(n<<2|a>>4),l+=int2char(15&a),i=0))}return 1==i&&(l+=int2char(n<<2)),l}(t))}};var c={parse:function(t){var n=t.split(".");if(3!=n.length)throw new MalformedWebToken("Must have three parts");var l=new o;return l.headerSegment=n[0],l.payloadSegment=n[1],l.cryptoSegment=n[2],l.pkAlgorithm=e(n[0]),l}};function h(t){return"string"==typeof t?JSON.parse(t):t}function d(t,e){if("ES256"===t)throw new l("ECDSA-SHA256 not yet implemented");if("ES384"===t)throw new l("ECDSA-SHA384 not yet implemented");if("ES512"===t)throw new l("ECDSA-SHA512 not yet implemented");if("HS256"===t)return new a("sha256",e);if("HS384"===t)throw new l("HMAC-SHA384 not yet implemented");if("HS512"===t)throw new l("HMAC-SHA512 not yet implemented");if("RS256"===t)return new u("sha256",e);throw"RS384"===t?new l("RSA-SHA384 not yet implemented"):"RS512"===t?new l("RSA-SHA512 not yet implemented"):new n("Unknown algorithm: "+t)}o.prototype={serialize:function(e){var n=d(h(this.pkAlgorithm).alg,e),l=t(this.pkAlgorithm),i=t(this.objectStr);return n.update(l+"."+i),n.finalize(),l+"."+i+"."+n.sign()},verify:function(t){var e=d(h(this.pkAlgorithm).alg,t);return e.update(this.headerSegment+"."+this.payloadSegment),e.finalize(),e.verify(this.cryptoSegment)}},r.WebToken=o,r.WebTokenParser=c,r.base64urlencode=t,r.base64urldecode=e}(),n.d(e,"a",(function(){return u}));var u=function(){function t(e){_classCallCheck(this,t),this.http=e,this.hasToken=!1,localStorage.getItem("jwt")&&(this.hasToken=!0)}return _createClass(t,[{key:"doLogin",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t;e||(localStorage.setItem("dsm",t.dsmport),n=this.encode(t));var l={headers:new i.g({"X-Cred":n})};return this.http.post("".concat(localStorage.getItem("dsm"),"/login"),null,l).pipe(Object(a.a)(this.handleError))}},{key:"autoLogin",value:function(){var t=localStorage.getItem("jwt");return t?this.doLogin(t,!0):(localStorage.removeItem("jwt"),Object(l.a)(null))}},{key:"encode",value:function(t){return new r.WebToken(JSON.stringify(t),JSON.stringify({alg:"HS256",typ:"JWT"})).serialize("jsmusicdbnext")}},{key:"handleError",value:function(t){return Object(l.a)(null)}}]),t}()},XtVx:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var l=n("XNiG"),i=function(){function t(){_classCallCheck(this,t),this.pathAnnouncementSource=new l.a,this.pageAnnouncementSource=new l.a,this.pathAnnounced$=this.pathAnnouncementSource.asObservable(),this.pageAnnounced$=this.pageAnnouncementSource.asObservable()}return _createClass(t,[{key:"announcePath",value:function(t){this.pathAnnouncementSource.next(t)}},{key:"announcePage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.pageAnnouncementSource.next({page:t,letter:e})}}]),t}()},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},hDf6:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var l=function t(){_classCallCheck(this,t)}},ktVm:function(t,e,n){"use strict";var l=n("XNiG"),i=n("/1T7"),a=n("LNEh"),s=function(){function t(e){_classCallCheck(this,t),this.artists=[],this.active=!1,e.album&&e.title&&(this.letter=e.letter||this.getFirstLetterOf(e.albumArtist||e.albumartist||e.artist),"1"===this.letter&&(this.letter="#"),this.escapedLetter=encodeURIComponent(this.letter))}return _createClass(t,[{key:"url",value:function(){return"/letter/".concat(this.escapedLetter,"/")}},{key:"sortArtistsBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"sortName",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.artists.sort("albums"===t?function(t,n){return t.albums.length>n.albums.length?"asc"===e?-1:1:t.albums.length<n.albums.length?"asc"===e?1:-1:0}:function(n,l){if(-1!==t.indexOf(".")){var i=t.split(".");return n[i[0]][i[1]]<l[i[0]][i[1]]?"asc"===e?-1:1:n[i[0]][i[1]]>l[i[0]][i[1]]?"asc"===e?1:-1:0}return n[t].toUpperCase()<l[t].toUpperCase()?"asc"===e?-1:1:n[t].toUpperCase()>l[t].toUpperCase()?"asc"===e?1:-1:0})}},{key:"sortAndReturnArtistsBy",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"name",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return this.sortArtistsBy(t,e),this.artists}},{key:"getFirstLetterOf",value:function(t){var e="";return e=this.stripFromName(t,["the ",'"',"a "]),this.groupIfSpecialChar(e.substr(0,1))}},{key:"stripFromName",value:function(t,e){var n=t?t.toUpperCase():"";return n=n.trim(),e.forEach((function(t){var e=t.toUpperCase();0===n.indexOf(e)&&(n=n.substring(e.length))})),n}},{key:"groupIfSpecialChar",value:function(t){return-1!==["1","2","3","4","5","6","7","8","9","0","(",")","[","]","{","}","_","-","."].indexOf(t)?"#":t}}]),t}(),r=n("/+cc"),u=n.n(r),o=function t(){var e=this;_classCallCheck(this,t),this.doSearch=function(t){var n=t.query,l=t.keys,i=void 0===l?["name"]:l,a=t.list;return new u.a(a,e.options(i)).search(n)},this.options=function(t){return{keys:t,threshold:.25,shouldSort:!0}}},c=n("uwnU"),h=function t(e){_classCallCheck(this,t),this.albums=[],this.sanitize=function(t){var e=parseInt(t,10);return isNaN(e)&&(e=0),e},e.year&&(this.year=this.sanitize(e.year))},d="1.5.0",b=function(){function t(){_classCallCheck(this,t),this.artists={},this.albums={},this.tracks={},this.letters={},this.years={},this.sortedLetters=[],this.sortedAlbums=[],this.isCoreParsed=!1,this.coreParsedSource=new l.a,this.coreParsed$=this.coreParsedSource.asObservable(),this.totals={artists:0,albums:0,tracks:0,playingTime:0,parsingTime:0},this.latestAdditions=[],this.search=new o,console.info("Core init ".concat(d))}return _createClass(t,[{key:"resetCollection",value:function(){this.artists={},this.albums={},this.tracks={},this.letters={},this.years={},this.sortedLetters=[],this.sortedAlbums=[],this.totals={artists:0,albums:0,tracks:0,playingTime:0,parsingTime:0},this.latestAdditions=[]}},{key:"parseSourceJson",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],l=(new Date).getTime();if(t.length){var i=!0,a=!1,s=void 0;try{for(var r,u=t[Symbol.iterator]();!(i=(r=u.next()).done);i=!0){var o=r.value;this.parseLine(o,n)}}catch(d){a=!0,s=d}finally{try{i||null==u.return||u.return()}finally{if(a)throw s}}}else t.tree&&this.parseTree(t.tree);var c=Object.keys(this.letters).sort((function(t,e){return t<e?-1:1})),h=[];c.forEach((function(t,n){h.push(e.letters[t]),e.letters[t].sortAndReturnArtistsBy("name","asc")})),this.sortedLetters=h,this.totals.parsingTime+=(new Date).getTime()-l,this.coreParsedSource.next(!0),this.isCoreParsed=!0}},{key:"getTrackByArtistAndName",value:function(t,e){var n=new a.a({name:t,dummy:!0}),l=this.artists[n.sortName],i=null;return l&&l.albums.some((function(t){t.tracks.some((function(t){if(t.title&&t.title.toLowerCase()===e.toLowerCase())return i||(i=t),!0}))})),i}},{key:"getTrackById",value:function(t){var e=new c.a({});return this.tracks.forEach((function(n){n.id===t&&(e=n)})),e}},{key:"getArtistByName",value:function(t){var e=new a.a({name:t,dummy:!0});return this.artists[e.sortName]}},{key:"getAlbumByArtistAndName",value:function(t,e){var n=null;return t.albums.forEach((function(t){t.name.toLowerCase()===e.toLowerCase()&&(n=t)})),n}},{key:"getTrackByAlbumAndName",value:function(t,e){var n=null;return t.tracks.forEach((function(t){t.title.toLowerCase()===e.toLowerCase()&&(n=t)})),n}},{key:"artistsList",value:function(){var t=this,e=[];return Object.keys(this.artists).sort((function(t,e){return t<e?-1:1})).forEach((function(n,l){e.push(t.artists[n])})),e}},{key:"trackList",value:function(){var t=this,e=[];return Object.keys(this.tracks).sort((function(t,e){return t<e?-1:1})).forEach((function(n,l){e.push(t.tracks[n])})),e}},{key:"searchArtist",value:function(t){return this.search.doSearch({query:t,list:this.artistsList()})}},{key:"searchAlbum",value:function(t){return this.search.doSearch({query:t,list:this.sortedAlbums})}},{key:"searchTrack",value:function(t){return this.search.doSearch({query:t,keys:["title"],list:this.trackList()})}},{key:"getLatestAdditions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:14;return 0!==this.latestAdditions.length?this.latestAdditions:(this.sortedAlbums.sort((function(t,e){return t.modified>e.modified?-1:t.modified<e.modified?1:0})),this.latestAdditions=this.sortedAlbums.splice(0,t),this.latestAdditions)}},{key:"getNextAlbum",value:function(t){var e=t.artist,n=e.albums.indexOf(t),l=e.albums[n+1];return l||(l=this.getNextArtist(e).albums[0]),l}},{key:"getNextArtist",value:function(t){var e=t.letter,n=e.artists.indexOf(t),l=e.artists[n+1];return l||(l=this.getNextLetter(e).artists[0]),l}},{key:"getNextLetter",value:function(t){var e=this.sortedLetters.indexOf(t),n=this.sortedLetters[e+1];return n||(n=this.sortedLetters[0]),n}},{key:"instanceIfPresent",value:function(t,e,n,l,i){var a=null;return n[e]?a=n[e]:(n[e]=l,a=l,i(t)),a}},{key:"handleLetter",value:function(t){return this.instanceIfPresent(this,t.letter,this.letters,t,(function(t){}))}},{key:"handleArtist",value:function(t,e){return this.instanceIfPresent(this,e.sortName,this.artists,e,(function(n){t.artists.push(e),e.letter=t,n.totals.artists++}))}},{key:"handleAlbum",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.instanceIfPresent(this,t.sortName+"|"+e.sortName,this.albums,e,(function(l){if("flac"===e.type&&n||"flac"!==e.type)if(e.artist=t,t.albums.push(e),t.sortAndReturnAlbumsBy("year","asc"),l.sortedAlbums.push(e),l.totals.albums++,l.years[e.year])l.years[e.year].albums.push(e);else{var i=new h(e);i.albums.push(e),l.years[i.year]=i}}))}},{key:"handleTrack",value:function(t,e,n){var l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.instanceIfPresent(this,n.id,this.tracks,n,(function(i){if(e.type=e.type&&e.type!==n.type?"mixed":n.type,"flac"===n.type&&l||"flac"!==n.type){i.totals.tracks++,i.totals.playingTime+=n.duration,n.artist=t,n.album=e,e.tracks.push(n);var a=n.disc;e.discs["disc-".concat(a)]?e.discs["disc-".concat(a)].push(n):(e.discs["disc-".concat(a)]=[],e.discs["disc-".concat(a)].push(n)),e.discs["disc-".concat(a)].sort((function(t,e){return t.number<e.number?-1:1})),e.tracks.sort((function(t,e){return t.disc<e.disc?-1:t.disc===e.disc&&t.number<e.number?-1:1}))}else console.warn("skipping flac track, flac is not supported")}))}},{key:"parseLine",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new s(t);n.letter&&(n=this.handleLetter(n));var l=new a.a(t);l.name&&(l=this.handleArtist(n,l));var r=new i.a(t);r.name&&(r=this.handleAlbum(l,r,e));var u=new c.a(t);u.title&&(u=this.handleTrack(l,r,u,e))}},{key:"parseTree",value:function(t){for(var e in t){var n=new s(t[e]);for(var l in n=this.handleLetter(n),t[e].artists){var r=new a.a(t[e].artists[l]);for(var u in r=this.handleArtist(n,r),t[e].artists[l].albums){var o=new i.a(t[e].artists[l].albums[u]);for(var h in o=this.handleAlbum(r,o),t[e].artists[l].albums[u].tracks){var d=new c.a(t[e].artists[l].albums[u].tracks[h]);d=this.handleTrack(r,o,d)}}}}}}]),t}();n.d(e,"a",(function(){return m}));var m=function(){function t(){_classCallCheck(this,t),this.core=new b}return _createClass(t,[{key:"getCore",value:function(){return this.core}}]),t}()},t083:function(t,e,n){"use strict";var l=n("XNiG"),i=n("z6cu"),a=n("JIr8"),s=n("IheW"),r=n("ztCj"),u=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return encodeURIComponent(t)}},{key:"encodeValue",value:function(t){return encodeURIComponent(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();n.d(e,"a",(function(){return h}));var o="956c1818ded606576d6941de5ff793a5",c="4d183e73f7578dee78557665e9be3acc",h=function(){function t(e){_classCallCheck(this,t),this.http=e,this.manualScrobbleListSource=new l.a,this.manualScrobbleList$=this.manualScrobbleListSource.asObservable(),this.hexcase=0,this.b64pad=""}return _createClass(t,[{key:"getLovedTracks",value:function(t){return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:{api_key:o,format:"json",limit:"1000",method:"user.getlovedtracks",user:t}}).pipe(Object(a.a)(this.handleError))}},{key:"toggleLoved",value:function(t){var e=localStorage.getItem("lastfm-token"),n=(new URLSearchParams,t.isLoved?"track.love":"track.unlove"),l=new s.h({encoder:new u}).set("method",n).set("api_key",o).set("api_sig",this.signTrack(t.trackArtist,t.album.name,t.title,null,e,n)).set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("sk",e),i=new s.g({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:l,headers:i}).pipe(Object(a.a)(this.handleError))}},{key:"getTrackInfo",value:function(t,e){if(t){var n=new s.h({encoder:new u}).set("method","track.getInfo").set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("api_key",o).set("format","json").set("user",e);return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:n}).pipe(Object(a.a)(this.handleError))}return Object(i.a)(null)}},{key:"getTopArtists",value:function(t){var e=new s.h({encoder:new u}).set("api_key",o).set("format","json").set("limit","50").set("method","user.gettopartists").set("period","1month").set("user",t);return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:e}).pipe(Object(a.a)(this.handleError))}},{key:"getSimilairArtists",value:function(t){var e=new s.h({encoder:new u}).set("api_key",o).set("format","json").set("limit","20").set("autocorrect","1").set("method","artist.getSimilar").set("artist",t.name);return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:e}).pipe(Object(a.a)(this.handleError))}},{key:"authenticate",value:function(t){var e=new s.h({encoder:new u}).set("api_key",o).set("api_sig",this.signAuthentication(t.user,t.password)).set("format","json").set("username",t.user).set("password",t.password),n=new s.g({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post("https://ws.audioscrobbler.com/2.0/?method=auth.getMobileSession",null,{params:e,headers:n}).pipe(Object(a.a)(this.handleError))}},{key:"announceNowPlaying",value:function(t){if("mdb-skipped"!==localStorage.getItem("lastfm-username")){var e=new Date,n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()+e.getTimezoneOffset(),e.getSeconds())/1e3,l=localStorage.getItem("lastfm-token"),i=new s.g({"Content-Type":"application/x-www-form-urlencoded"}),r=new s.h({encoder:new u}).set("method","track.updateNowPlaying").set("api_key",o).set("api_sig",this.signTrack(t.trackArtist,t.album.name,t.title,n,l,"track.updateNowPlaying")).set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("timestamp",n.toString()).set("sk",l);return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:r,headers:i}).pipe(Object(a.a)(this.handleError))}}},{key:"scrobbleTrack",value:function(t){var e=this,n=localStorage.getItem("lastfm-username"),l=new Date,i=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes()+l.getTimezoneOffset(),l.getSeconds())/1e3;if("mdb-skipped"!==n){var c=localStorage.getItem("lastfm-token");if(!this.booleanState("manual-scrobble-state")){var h=new s.g({"Content-Type":"application/x-www-form-urlencoded"}),d=new s.h({encoder:new u}).set("method","track.scrobble").set("api_key",o).set("api_sig",this.signTrack(t.trackArtist,t.album.name,t.title,i,c,"track.scrobble")).set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("timestamp",i.toString()).set("sk",c);return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:d,headers:h}).pipe(Object(a.a)(this.handleError))}Object(r.c)("manual-scrobble-list").then((function(n){var l=n||[],a={artist:t.trackArtist,album:t.album.name,track:t.title,timestamp:i.toString()};l.unshift(a),Object(r.d)("manual-scrobble-list",l),e.manualScrobbleListSource.next(l)}))}else{var b="art-".concat(t.trackArtist,"-").concat(t.album.name);Object(r.c)(b).then((function(n){e.saveInLocal(t,i,n||"global/images/no-cover.png")}))}}},{key:"updateManualScrobbleList",value:function(){var t=this;Object(r.c)("manual-scrobble-list").then((function(e){t.manualScrobbleListSource.next(e||[])}))}},{key:"saveInLocal",value:function(t,e,n){var l={artist:{"#text":t.trackArtist},album:{"#text":t.album.name},image:[{"#text":n}],name:t.title,date:{uts:e}},i=[];Object(r.c)("recentlyListened").then((function(t){t&&((i=t.tracks).length>10&&(i=i.splice(0,10)),t._rev),i.unshift(l);var e={_id:"recentlyListened",tracks:i};Object(r.d)(e._id,e.tracks)}))}},{key:"scrobbleCachedTrack",value:function(t){var e=localStorage.getItem("lastfm-token"),n=new s.g({"Content-Type":"application/x-www-form-urlencoded"}),l=new s.h({encoder:new u}).set("method","track.scrobble").set("api_key",o).set("api_sig",this.signTrack(t.artist,t.album,t.track,t.timestamp,e,"track.scrobble")).set("artist",t.artist).set("album",t.album).set("track",t.track).set("timestamp",t.timestamp.toString()).set("sk",e);return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:l,headers:n,responseType:"text"}).pipe(Object(a.a)(this.handleError))}},{key:"booleanState",value:function(t){var e=localStorage.getItem(t);return!(!e||"true"!==e)}},{key:"signAuthentication",value:function(t,e){return this.hex_md5("api_key".concat(o,"methodauth.getMobileSessionpassword").concat(e,"username").concat(t).concat(c))}},{key:"signTrack",value:function(t,e,n,l,i,a){return this.hex_md5(l?"album".concat(e,"api_key").concat(o,"artist").concat(t,"method").concat(a,"sk").concat(i,"timestamp").concat(l,"track").concat(n).concat(c):"album".concat(e,"api_key").concat(o,"artist").concat(t,"method").concat(a,"sk").concat(i,"track").concat(n).concat(c))}},{key:"handleError",value:function(t){return Object(i.a)(null)}},{key:"hex_md5",value:function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))}},{key:"rstr2hex",value:function(t){try{this.hexcase=this.hexcase}catch(a){this.hexcase=0}for(var e,n=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",l="",i=0;i<t.length;i++)e=t.charCodeAt(i),l+=n.charAt(e>>>4&15)+n.charAt(15&e);return l}},{key:"rstr_md5",value:function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))}},{key:"str2rstr_utf8",value:function(t){for(var e,n,l="",i=-1;++i<t.length;)e=t.charCodeAt(i),n=i+1<t.length?t.charCodeAt(i+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),i++),e<=127?l+=String.fromCharCode(e):e<=2047?l+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?l+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(l+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return l}},{key:"binl2rstr",value:function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}},{key:"binl_md5",value:function(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,l=-271733879,i=-1732584194,a=271733878,s=0;s<t.length;s+=16){var r=n,u=l,o=i,c=a;n=this.md5_ff(n,l,i,a,t[s+0],7,-680876936),a=this.md5_ff(a,n,l,i,t[s+1],12,-389564586),i=this.md5_ff(i,a,n,l,t[s+2],17,606105819),l=this.md5_ff(l,i,a,n,t[s+3],22,-1044525330),n=this.md5_ff(n,l,i,a,t[s+4],7,-176418897),a=this.md5_ff(a,n,l,i,t[s+5],12,1200080426),i=this.md5_ff(i,a,n,l,t[s+6],17,-1473231341),l=this.md5_ff(l,i,a,n,t[s+7],22,-45705983),n=this.md5_ff(n,l,i,a,t[s+8],7,1770035416),a=this.md5_ff(a,n,l,i,t[s+9],12,-1958414417),i=this.md5_ff(i,a,n,l,t[s+10],17,-42063),l=this.md5_ff(l,i,a,n,t[s+11],22,-1990404162),n=this.md5_ff(n,l,i,a,t[s+12],7,1804603682),a=this.md5_ff(a,n,l,i,t[s+13],12,-40341101),i=this.md5_ff(i,a,n,l,t[s+14],17,-1502002290),l=this.md5_ff(l,i,a,n,t[s+15],22,1236535329),n=this.md5_gg(n,l,i,a,t[s+1],5,-165796510),a=this.md5_gg(a,n,l,i,t[s+6],9,-1069501632),i=this.md5_gg(i,a,n,l,t[s+11],14,643717713),l=this.md5_gg(l,i,a,n,t[s+0],20,-373897302),n=this.md5_gg(n,l,i,a,t[s+5],5,-701558691),a=this.md5_gg(a,n,l,i,t[s+10],9,38016083),i=this.md5_gg(i,a,n,l,t[s+15],14,-660478335),l=this.md5_gg(l,i,a,n,t[s+4],20,-405537848),n=this.md5_gg(n,l,i,a,t[s+9],5,568446438),a=this.md5_gg(a,n,l,i,t[s+14],9,-1019803690),i=this.md5_gg(i,a,n,l,t[s+3],14,-187363961),l=this.md5_gg(l,i,a,n,t[s+8],20,1163531501),n=this.md5_gg(n,l,i,a,t[s+13],5,-1444681467),a=this.md5_gg(a,n,l,i,t[s+2],9,-51403784),i=this.md5_gg(i,a,n,l,t[s+7],14,1735328473),l=this.md5_gg(l,i,a,n,t[s+12],20,-1926607734),n=this.md5_hh(n,l,i,a,t[s+5],4,-378558),a=this.md5_hh(a,n,l,i,t[s+8],11,-2022574463),i=this.md5_hh(i,a,n,l,t[s+11],16,1839030562),l=this.md5_hh(l,i,a,n,t[s+14],23,-35309556),n=this.md5_hh(n,l,i,a,t[s+1],4,-1530992060),a=this.md5_hh(a,n,l,i,t[s+4],11,1272893353),i=this.md5_hh(i,a,n,l,t[s+7],16,-155497632),l=this.md5_hh(l,i,a,n,t[s+10],23,-1094730640),n=this.md5_hh(n,l,i,a,t[s+13],4,681279174),a=this.md5_hh(a,n,l,i,t[s+0],11,-358537222),i=this.md5_hh(i,a,n,l,t[s+3],16,-722521979),l=this.md5_hh(l,i,a,n,t[s+6],23,76029189),n=this.md5_hh(n,l,i,a,t[s+9],4,-640364487),a=this.md5_hh(a,n,l,i,t[s+12],11,-421815835),i=this.md5_hh(i,a,n,l,t[s+15],16,530742520),l=this.md5_hh(l,i,a,n,t[s+2],23,-995338651),n=this.md5_ii(n,l,i,a,t[s+0],6,-198630844),a=this.md5_ii(a,n,l,i,t[s+7],10,1126891415),i=this.md5_ii(i,a,n,l,t[s+14],15,-1416354905),l=this.md5_ii(l,i,a,n,t[s+5],21,-57434055),n=this.md5_ii(n,l,i,a,t[s+12],6,1700485571),a=this.md5_ii(a,n,l,i,t[s+3],10,-1894986606),i=this.md5_ii(i,a,n,l,t[s+10],15,-1051523),l=this.md5_ii(l,i,a,n,t[s+1],21,-2054922799),n=this.md5_ii(n,l,i,a,t[s+8],6,1873313359),a=this.md5_ii(a,n,l,i,t[s+15],10,-30611744),i=this.md5_ii(i,a,n,l,t[s+6],15,-1560198380),l=this.md5_ii(l,i,a,n,t[s+13],21,1309151649),n=this.md5_ii(n,l,i,a,t[s+4],6,-145523070),a=this.md5_ii(a,n,l,i,t[s+11],10,-1120210379),i=this.md5_ii(i,a,n,l,t[s+2],15,718787259),l=this.md5_ii(l,i,a,n,t[s+9],21,-343485551),n=this.safe_add(n,r),l=this.safe_add(l,u),i=this.safe_add(i,o),a=this.safe_add(a,c)}return Array(n,l,i,a)}},{key:"rstr2binl",value:function(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(var l=0;l<8*t.length;l+=8)e[l>>5]|=(255&t.charCodeAt(l/8))<<l%32;return e}},{key:"md5_cmn",value:function(t,e,n,l,i,a){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(e,t),this.safe_add(l,a)),i),n)}},{key:"md5_ff",value:function(t,e,n,l,i,a,s){return this.md5_cmn(e&n|~e&l,t,e,i,a,s)}},{key:"md5_gg",value:function(t,e,n,l,i,a,s){return this.md5_cmn(e&l|n&~l,t,e,i,a,s)}},{key:"md5_hh",value:function(t,e,n,l,i,a,s){return this.md5_cmn(e^n^l,t,e,i,a,s)}},{key:"md5_ii",value:function(t,e,n,l,i,a,s){return this.md5_cmn(n^(e|~l),t,e,i,a,s)}},{key:"safe_add",value:function(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}},{key:"bit_rol",value:function(t,e){return t<<e|t>>>32-e}}]),t}()},ufXC:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var l=n("ztCj"),i=n("XNiG"),a=n("KI15");n("Gcu2"),n("ktVm"),n("t083");var s=function(){function t(e,n,l){var a=this;_classCallCheck(this,t),this.lastFMService=e,this.coreService=n,this.playlistService=l,this.playlistSource=new i.a,this.volumeSource=new i.a,this.hideVolumeWindowAsSource=new i.a,this.playlistAnnounced$=this.playlistSource.asObservable(),this.volumeAnnounced=this.volumeSource.asObservable(),this.hideVolumeWindowAnnounced$=this.hideVolumeWindowAsSource.asObservable(),this.isPlaying=!1,this.isPaused=!1,this.isShuffled=!1,this.forceRestart=!1,this.volume=100,this.lastfmUserName=localStorage.getItem("lastfm-username"),this.subscription=this.playlistService.playlistAnnounced$.subscribe((function(t){a.doPlayPlaylist(t,0,!0,a.isShuffled)}))}return _createClass(t,[{key:"setPosition",value:function(t){this.position=t,this.announce(),this.position=null}},{key:"doPlayAlbum",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.setPlaylist(t,e,n,l,"album"),this.announce()}},{key:"doQueueAlbum",value:function(t){var e=this.currentPlaylist,n=e.playlist,l=e.startIndex,i=new a.a;i.name="queued playlist",i.type="queue",i.tracks=[].concat(_toConsumableArray(n.tracks),_toConsumableArray(t.tracks)),this.setPlaylist(i,l,!1,!1,"playlist")}},{key:"doPlayPlaylist",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.setPlaylist(t,e,n,l,"playlist"),this.announce()}},{key:"doPlayTrack",value:function(t){this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1);var e=new a.a;e.isOwn=!0,e.name=t.title,e.tracks.push(t),this.currentPlaylist={playlist:e,startIndex:0,isPlaying:this.isPlaying=!0,isPaused:this.isPaused=!1,isShuffled:!1,forceRestart:this.forceRestart=!0,isContinues:!1},this.announce()}},{key:"nextPlaylist",value:function(t){if(this.booleanState("continues-play"))if("random"===t){var e=this.playlistService.generateRandom();this.doPlayPlaylist(e,0,!0,this.isShuffled)}else this.playlistService.generateRadio();else this.stop()}},{key:"nextAlbum",value:function(t){if(this.booleanState("continues-play")){var e=this.coreService.getCore().getNextAlbum(t);e?this.doPlayAlbum(e,0,!0,this.isShuffled):(console.warn("no new album found, stopping playback"),this.stop())}else this.stop()}},{key:"playlistToString",value:function(){var t=[];return this.currentPlaylist.playlist.tracks.forEach((function(e){e&&t.push(e.id)})),JSON.stringify({ids:t,isShuffled:this.isShuffled,isContinues:this.currentPlaylist.isContinues,current:this.currentPlaylist.startIndex,type:this.currentPlaylist.type})}},{key:"playlistSync",value:function(){var t=[];return this.currentPlaylist.playlist.tracks.forEach((function(e){e&&t.push(e.id)})),{ids:t,isShuffled:this.isShuffled,isContinues:this.currentPlaylist.isContinues,current:this.currentPlaylist.startIndex,type:this.currentPlaylist.type}}},{key:"getCurrentPlaylist",value:function(){return this.currentPlaylist}},{key:"shufflePlaylist",value:function(t){this.isShuffled=t,this.currentPlaylist.playlist.tracks.sort(this.sortPlaylist),t&&(this.currentPlaylist.playlist.tracks=this.shuffle(this.currentPlaylist.playlist.tracks)),this.currentPlaylist.startIndex=this.currentPlaylist.playlist.tracks.indexOf(this.currentTrack),this.currentPlaylist.forceRestart=!1,this.announce()}},{key:"sortPlaylist",value:function(t,e){return t.disc<e.disc?-1:t.disc>e.disc?1:t.number<e.number?-1:t.number>e.number?1:0}},{key:"shuffle",value:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),l=t[e];t[e]=t[n],t[n]=l}return t}},{key:"next",value:function(){this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.currentPlaylist&&(this.currentPlaylist.startIndex++,this.currentPlaylist.forceRestart=!1,this.announce())}},{key:"prev",value:function(){this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.currentPlaylist&&(this.currentPlaylist.startIndex--,this.currentPlaylist.startIndex<=0&&(this.currentPlaylist.startIndex=0),this.currentPlaylist.forceRestart=!1,this.announce())}},{key:"pause",value:function(){this.currentPlaylist&&(this.isPlaying=!1,this.isPaused=!0,this.currentPlaylist.forceRestart=!1,this.announce())}},{key:"resume",value:function(){this.currentPlaylist&&(this.isPlaying=!0,this.isPaused=!1,this.currentPlaylist.forceRestart=!1,this.announce())}},{key:"stop",value:function(){this.isPlaying=!1,this.isPaused=!1,this.currentPlaylist=null,Object(l.b)("current-playlist"),localStorage.removeItem("current-time"),this.playlistSource.next(this.currentPlaylist)}},{key:"togglePlayPause",value:function(){this.isPlaying?this.pause():this.resume()}},{key:"announce",value:function(){var t=this;this.currentPlaylist&&(this.currentTrack=this.currentPlaylist.playlist.tracks[this.currentPlaylist.startIndex],this.lastfmUserName&&this.lastFMService.getTrackInfo(this.currentTrack,this.lastfmUserName).subscribe((function(e){t.currentTrack&&e.track&&(t.currentTrack.isLoved="1"===e.track.userloved)})),this.currentTrack&&(this.currentTrack.isPaused=this.isPaused,this.currentTrack.isPlaying=this.isPlaying,this.currentPlaylist.isPlaying=this.isPlaying,this.currentPlaylist.isPaused=this.isPaused,this.currentPlaylist.isShuffled=this.isShuffled,this.currentPlaylist.position=this.position,Object(l.d)("current-playlist",this.playlistSync()),this.playlistSource.next(this.currentPlaylist)))}},{key:"getVolume",value:function(){return this.volume}},{key:"setVolume",value:function(t){this.volume=t,this.volumeSource.next(this.volume)}},{key:"hideVolumeControl",value:function(){this.hideVolumeWindowAsSource.next(!0)}},{key:"booleanState",value:function(t){var e=localStorage.getItem(t);return!(!e||"true"!==e)}},{key:"setPlaylist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"album";this.currentPlaylist={playlist:t,startIndex:e,isPlaying:this.isPlaying=!0,isPaused:this.isPaused=!1,isShuffled:this.isShuffled=l,forceRestart:this.forceRestart=n,isContinues:t.isContinues||"album"===i,type:t.type}}}]),t}()},uwnU:function(t,e,n){"use strict";var l=function t(e){_classCallCheck(this,t),this.url=e.file||e.url||e.path||e.id};n.d(e,"a",(function(){return i}));var i=function(){function t(e){_classCallCheck(this,t),this.isPlaying=!1,this.isPaused=!1,this.isLoved=!1,this.position=0,this.buffered={start:0,end:0},this.showActions=!1,this.image="",e.album&&e.title&&(this.id=e.id,this.duration=e.seconds?1e3*e.seconds:e.duration&&!isNaN(e.duration)?e.duration:0,this.title=e.title,this.source=new l(e),this.disc=e.disc||this.guessBySource(e),this.number=e.number,this.trackArtist=e.artist,this.type=e.type||"mp3")}return _createClass(t,[{key:"url",value:function(){return"/letter/".concat(this.artist.letter.escapedLetter,"/artist/").concat(encodeURIComponent(this.artist.name),"/album/").concat(encodeURIComponent(this.album.name),"/track/").concat(encodeURIComponent(this.title))}},{key:"toJSON",value:function(){return this.id}},{key:"guessBySource",value:function(t){for(var e=this.source.url,n=0,l=[1,2,3,4,5,6,7,8,9,10];n<l.length;n++){var i=l[n];if(-1!==e.indexOf(" - ".concat(i,"."))||-1!==e.indexOf("(".concat(i,") - "))||-1!==e.indexOf("CD".concat(i))||-1!==e.indexOf("\\".concat(i,"-")))return i}return 1}}]),t}()},zUnb:function(t,e,n){"use strict";n.r(e);var l=n("URqu"),i=n.n(l),a=n("SVse"),s=n("8Y7J"),r=function t(){_classCallCheck(this,t),"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then((function(t){})).catch((function(t){console.error("Registration failed with "+t)}))},u=n("XNvx"),o=n("ufXC"),c=n("MDLy"),h=n("+ooL"),d=n("OgP6"),b=n("ktVm"),m=function(){function t(e,n,l,i,a,s,r){var u=this;_classCallCheck(this,t),this.collectionService=e,this.coreService=n,this.loginService=l,this.configService=i,this.playerService=a,this.colorService=s,this.isPlaying=!1,this.scanperc=0,this.isReloading=!1,this.letter="N",this.path="JSMusicDB Next",this.isLoading=!1,this.hasBeenReloading=!1,this.isHostedApp="undefined"!=typeof Windows,this.loginService.hasToken&&(this.isLoading=!0,this.poll()),this.viewContainerRef=r,this.subscription=this.playerService.playlistAnnounced$.subscribe((function(t){u.isPlaying=!!t})),this.booleanState("tracking-state")?navigator.geolocation.getCurrentPosition((function(t){u.configService.getSunriseInfo(t.coords.latitude,t.coords.longitude).subscribe((function(t){u.configService.startDate=new Date(t.results.sunset),u.configService.stopDate=new Date(t.results.sunrise),u.configService.stopDate.setDate(u.configService.stopDate.getDate()+1),u.configService.geoSource.next(),u.configService.applyTheme()}))}),(function(t){u.configService.startDate=new Date,u.configService.startDate.setHours(21,0,0),u.configService.stopDate=new Date,u.configService.stopDate.setDate(u.configService.stopDate.getDate()+1),u.configService.stopDate.setHours(7,0,0),u.configService.geoSource.next(),u.configService.applyTheme()})):(this.configService.startDate=new Date,this.configService.startDate.setHours(21,0,0),this.configService.stopDate=new Date,this.configService.stopDate.setDate(this.configService.stopDate.getDate()+1),this.configService.stopDate.setHours(7,0,0),this.configService.geoSource.next(),this.configService.applyTheme())}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"ngOnInit",value:function(){this.mediaObject=document.querySelector("audio");var t=this.mediaObject.canPlayType("audio/flac");this.isFlacSupported="probably"===t||"maybe"===t}},{key:"getCollection",value:function(){var t=this;this.collectionService.getCollection().subscribe((function(e){return t.fillCollection(e)}),(function(t){return console.error(t)}))}},{key:"fillCollection",value:function(t){localStorage.setItem("lastParsed",(new Date).getTime().toString()),this.coreService.getCore().parseSourceJson(t,this.isFlacSupported),this.isLoading=!1}},{key:"hideVolumeWindow",value:function(){this.playerService.hideVolumeControl()}},{key:"poll",value:function(){var t=this;this.collectionService.poll().subscribe((function(e){t.scanperc=e.progress,"ready"!==e.status?(t.isReloading=!0,document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbscanning",{detail:{percentage:t.scanperc}})),setTimeout((function(e){t.poll()}),5e3),t.hasBeenReloading=!0):(t.isReloading=!1,t.hasBeenReloading&&document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbscanstop")),t.getCollection())}))}},{key:"onExternalPrev",value:function(t){this.playerService.prev()}},{key:"onExternalNext",value:function(t){this.playerService.next()}},{key:"onExternalToggle",value:function(t){this.playerService.togglePlayPause()}},{key:"onExternalStop",value:function(t){this.playerService.stop()}},{key:"onExternalBlob",value:function(){this.colorService.setBlob()}},{key:"booleanState",value:function(t){var e=localStorage.getItem(t);return!(!e||"true"!==e)}}]),t}(),g=n("pMnS"),f=n("Xg1U"),p=n("iInd"),v=n("978R"),y=n("z/SZ"),k=n("2uy1"),C=n("s7LF"),S=n("ztCj"),w=n("t083"),A=n("XtVx"),P=function t(){_classCallCheck(this,t)};function x(){return Object.assign(new v.a,{placement:"right",delay:250})}var L=function(){function t(e,n,l,i){var a=this;_classCallCheck(this,t),this.pathService=e,this.router=n,this.lastFMService=l,this.coreService=i,this.menuVisible=!1,this.topSearchVisible=!1,this.manualScrobblingList=[],this.onDocumentClick=function(t){t.target.classList.contains("side-nav--visible")&&a.toggleMenu()},this.core=this.coreService.getCore(),this.subscription=e.pathAnnounced$.subscribe((function(t){a.path=t,a.page=null,a.menuVisible=!1,a.disableActiveLetter(),a.activateLetter(t.letter)})),this.subscription2=e.pageAnnounced$.subscribe((function(t){a.page=t.page,a.path=null,a.menuVisible=!1,a.disableActiveLetter(),a.activateLetter(t.letter)})),this.subscription3=this.lastFMService.manualScrobbleList$.subscribe((function(t){a.manualScrobblingList=t})),this.subscription4=this.core.coreParsed$.subscribe((function(t){a.ngOnInit()})),this.search=new P,Object(S.c)("manual-scrobble-list").then((function(t){a.manualScrobblingList=t||[]}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.letters=this.core.sortedLetters}},{key:"disableActiveLetter",value:function(){this.letters.forEach((function(t){t.active&&(t.active=!1)}))}},{key:"activateLetter",value:function(t){t&&(t.active=!0)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.subscription2.unsubscribe()}},{key:"toggleMenu",value:function(){this.menuVisible=!this.menuVisible,this.menuVisible?this.slideOut():this.slideIn()}},{key:"slideOut",value:function(){var t=document.querySelector(".js-side-nav");t.classList.add("side-nav--animatable"),t.classList.add("side-nav--visible"),document.addEventListener("click",this.onDocumentClick),t.addEventListener("transitionend",this.onTransitionEnd)}},{key:"slideIn",value:function(){var t=document.querySelector(".js-side-nav");t.classList.add("side-nav--animatable"),t.classList.remove("side-nav--visible"),document.removeEventListener("click",this.onDocumentClick),t.addEventListener("transitionend",this.onTransitionEnd)}},{key:"onTransitionEnd",value:function(t){var e=document.querySelector(".js-side-nav");e.classList.remove("side-nav--animatable"),e.removeEventListener("transitionend",this.onTransitionEnd)}},{key:"onSubmit",value:function(){this.topSearchVisible=!1,this.menuVisible&&this.toggleMenu(),this.router.navigate(["/search",this.search.query])}},{key:"toggleSearch",value:function(){this.topSearchVisible=!this.topSearchVisible,!0===this.topSearchVisible&&setTimeout((function(){document.getElementById("mobileSearch").focus()}),100)}},{key:"selectArtist",value:function(t){this.router.navigate(["letter",t.artist.letter.escapedLetter,"artist",t.artist.sortName])}},{key:"selectAlbum",value:function(t){this.router.navigate(["letter",t.album.artist.letter.escapedLetter,"artist",t.album.artist.sortName,"album",t.album.sortName])}}]),t}(),_=s.mb({encapsulation:2,styles:[],data:{}});function T(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,5,"span",[],null,null,null,null,null)),(t()(),s.ob(1,0,null,null,1,"span",[["class","clickable d-none d-sm-inline"]],null,[[null,"click"]],(function(t,e,n){var l=!0,i=t.component;return"click"===e&&(l=!1!==i.selectArtist(i.path)&&l),l}),null,null)),(t()(),s.Hb(2,null,["",""])),(t()(),s.Hb(-1,null,[" \u2022\xa0 "])),(t()(),s.ob(4,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Hb(5,null,["",""]))],null,(function(t,e){var n=e.component;t(e,2,0,n.path.artist.albumArtist||n.path.artist.name),t(e,5,0,n.path.album.name)}))}function E(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Hb(1,null,["",""]))],null,(function(t,e){var n=e.component;t(e,1,0,n.path.artist.albumArtist||n.path.artist.name)}))}function I(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Hb(-1,null,["JSMusicDB Next"]))],null,null)}function O(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Hb(1,null,["",""]))],null,(function(t,e){t(e,1,0,e.component.page)}))}function M(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Hb(-1,null,["JSMusicDB Next"]))],null,null)}function j(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,0,"i",[["class","glyph glyph-magnifier"]],null,null,null,null,null))],null,null)}function N(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,0,"i",[["class","glyph glyph-clear"]],null,null,null,null,null))],null,null)}function B(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(2,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(3,{active:0}),(t()(),s.ob(4,0,null,null,3,"a",[["routerLink","/scrobble-cache"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(5,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(6,0,null,null,0,"span",[["class","glyph glyph-upload"]],null,null,null,null,null)),(t()(),s.Hb(7,null,[" Scrobble cache (",")"]))],(function(t,e){var n=t(e,3,0,"Scrobble cache"===e.component.page);t(e,2,0,n),t(e,5,0,"/scrobble-cache")}),(function(t,e){var n=e.component;t(e,4,0,s.Ab(e,5).target,s.Ab(e,5).href),t(e,7,0,n.manualScrobblingList.length)}))}function D(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(2,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(3,{active:0}),(t()(),s.ob(4,16777216,null,null,3,"a",[["routerLink","/scrobble-cache"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(5,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(6,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(7,0,null,null,0,"span",[["class","glyph glyph-upload"]],null,null,null,null,null))],(function(t,e){var n=e.component,l=t(e,3,0,"Scrobble cache"===n.page);t(e,2,0,"nav-item",l),t(e,5,0,"/scrobble-cache"),t(e,6,0,s.sb(1,"Scrobble cache (",n.manualScrobblingList.length,")"),"hover")}),(function(t,e){t(e,4,0,s.Ab(e,5).target,s.Ab(e,5).href,s.Ab(e,6).ariaDescribedby)}))}function R(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,38,"div",[["class","menu-top fixed-top"]],null,null,null,null,null)),(t()(),s.ob(1,0,null,null,7,"span",[["class","menu-toggle"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.toggleMenu()&&l),l}),null,null)),(t()(),s.ob(2,0,null,null,1,"button",[["aria-label","menu button"],["class","btn btn-menu d-md-none"]],null,null,null,null,null)),(t()(),s.ob(3,0,null,null,0,"span",[["aria-hidden","true"],["class","glyph glyph-hamburger"]],null,null,null,null,null)),(t()(),s.ob(4,0,null,null,4,"a",[["class","d-none d-md-inline-block"]],null,null,null,null,null)),(t()(),s.ob(5,0,null,null,3,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["class","logo"],["height","276.164px"],["version","1.1"],["viewBox","0 0 276.164 276.164"],["width","276.164px"],["x","0px"],["xmlns","http://www.w3.org/2000/svg"],["y","0px"]],null,null,null,null,null)),(t()(),s.ob(6,0,null,null,2,":svg:g",[],null,null,null,null,null)),(t()(),s.ob(7,0,null,null,0,":svg:path",[["d","M156.716,61.478c-4.111,6.276-8.881,11.511-14.212,15.609l-8.728,6.962c-13.339,11.855-22.937,21.433-28.542,28.464\n                  c-10.209,12.788-15.806,25.779-16.65,38.611c-0.942,14.473,3.187,28.21,12.275,40.84c9.636,13.458,21.8,20.754,36.164,21.69\n                  c3.291,0.218,6.897,0.182,9.896-0.015l-1.121-10.104c-2.09,0.192-4.306,0.223-6.628,0.068c-9.437-0.617-17.864-4.511-25.064-11.573\n                  c-7.524-7.333-10.895-15.415-10.287-24.7c1.149-17.59,12.562-35.004,33.925-51.792l9.543-7.599\n                  c8.394-7.174,15.192-16.191,20.216-26.825c4.971-10.556,7.886-21.983,8.673-33.96c0.466-7.037-0.513-15.775-2.874-25.965\n                  c-3.241-13.839-7.854-20.765-14.136-21.179c-2.232-0.138-4.676,0.986-7.658,3.617c-7.252,6.548-12.523,14.481-15.683,23.542\n                  c-2.438,6.926-4.057,16.189-4.805,27.529c-0.313,4.72,0.313,13.438,1.805,23.962l8.844-8.192c-0.028-1.183,0.005-2.413,0.096-3.703\n                  c0.466-7.221,2.289-15.062,5.394-23.293c3.956-10.296,7.689-13.409,10.133-14.204c0.668-0.218,1.32-0.298,2.015-0.254\n                  c3.185,0.212,6.358,1.559,5.815,9.979C164.664,46.132,161.831,53.693,156.716,61.478z"]],null,null,null,null,null)),(t()(),s.ob(8,0,null,null,0,":svg:path",[["d","M164.55,209.161c5.728-2.568,10.621-6.478,14.576-11.651c5.055-6.561,7.897-14.316,8.467-23.047\n                  c0.72-10.719-1.854-20.438-7.617-28.895c-6.322-9.264-14.98-14.317-25.745-15.026c-1.232-0.081-2.543-0.075-3.895,0.025\n                  l-2.304-17.191l-9.668,7.112l1.483,12.194c-5.789,2.393-10.827,6.17-15.017,11.255c-4.823,5.924-7.508,12.443-7.964,19.382\n                  c-0.466,7.208,1.142,13.81,4.782,19.583c1.895,3.081,4.507,5.82,7.498,8.058c4.906,3.65,10.563,3.376,11.459,1.393\n                  c0.906-1.983-2.455-5.095-5.09-9.248c-1.502-2.351-2.242-5.173-2.242-8.497c0-7.053,4.256-13.116,10.317-15.799l5.673,44.211\n                  l1.325,10.258c0.864,4.873,1.719,9.725,2.537,14.52c1,6.488,1.352,12.112,1.041,16.715c-0.419,6.375-2.408,11.584-5.919,15.493\n                  c-2.234,2.485-4.844,4.055-7.795,4.925c3.961-3.962,6.414-9.43,6.414-15.478c0-12.075-9.792-21.872-21.87-21.872\n                  c-3.353,0-6.491,0.812-9.329,2.159c-0.36,0.155-0.699,0.388-1.054,0.574c-0.779,0.425-1.559,0.85-2.286,1.362\n                  c-0.249,0.187-0.487,0.403-0.732,0.605c-4.888,3.816-8.091,9.616-8.375,16.229c0,0.01-0.011,0.021-0.011,0.031\n                  c0,0.005,0,0.01,0,0.016c-0.013,0.311-0.09,0.59-0.09,0.896c0,0.259,0.067,0.492,0.078,0.74\n                  c-0.011,7.084,2.933,13.179,8.839,18.118c5.584,4.666,12.277,7.28,19.892,7.777c4.327,0.28,8.505-0.217,12.407-1.485\n                  c3.189-1.041,6.275-2.62,9.149-4.687c6.96-5.022,10.75-11.584,11.272-19.532c0.399-6.063,0.094-13.235-0.937-21.411l-2.838-18.429\n                  l-7.156-52.899c7.984,1.532,14.027,8.543,14.027,16.968c0,5.986-1.937,15.431-5.551,20.376L164.55,209.161z"]],null,null,null,null,null)),(t()(),s.ob(9,0,null,null,10,"h1",[],null,null,null,null,null)),(t()(),s.eb(16777216,null,null,1,null,T)),s.nb(11,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.eb(16777216,null,null,1,null,E)),s.nb(13,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.eb(16777216,null,null,1,null,I)),s.nb(15,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.eb(16777216,null,null,1,null,O)),s.nb(17,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.eb(16777216,null,null,1,null,M)),s.nb(19,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.ob(20,0,null,null,4,"button",[["aria-label","search button"],["class","btn btn-menu btn-search d-md-none"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.toggleSearch()&&l),l}),null,null)),(t()(),s.eb(16777216,null,null,1,null,j)),s.nb(22,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.eb(16777216,null,null,1,null,N)),s.nb(24,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.ob(25,0,null,null,13,"form",[["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var l=!0,i=t.component;return"submit"===e&&(l=!1!==s.Ab(t,30).onSubmit(n)&&l),"reset"===e&&(l=!1!==s.Ab(t,30).onReset()&&l),"ngSubmit"===e&&(l=!1!==i.onSubmit()&&l),l}),null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(27,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(28,{visible:0}),s.nb(29,16384,null,0,C.t,[],null,null),s.nb(30,4210688,[["searchForm",4]],0,C.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s.Eb(2048,null,C.b,null,[C.j]),s.nb(32,16384,null,0,C.i,[[4,C.b]],null,null),(t()(),s.ob(33,0,null,null,5,"input",[["class","form-control"],["id","mobileSearch"],["name","search"],["placeholder","Search for"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var l=!0,i=t.component;return"input"===e&&(l=!1!==s.Ab(t,34)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==s.Ab(t,34).onTouched()&&l),"compositionstart"===e&&(l=!1!==s.Ab(t,34)._compositionStart()&&l),"compositionend"===e&&(l=!1!==s.Ab(t,34)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(i.search.query=n)&&l),l}),null,null)),s.nb(34,16384,null,0,C.c,[s.B,s.k,[2,C.a]],null,null),s.Eb(1024,null,C.f,(function(t){return[t]}),[C.c]),s.nb(36,671744,[["name",4]],0,C.k,[[2,C.b],[8,null],[8,null],[6,C.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s.Eb(2048,null,C.g,null,[C.k]),s.nb(38,16384,null,0,C.h,[[4,C.g]],null,null),(t()(),s.ob(39,0,null,null,87,"aside",[["class","js-side-nav side-nav"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(41,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(42,{"side-nav--visible":0}),(t()(),s.ob(43,0,null,null,83,"nav",[["class","js-side-nav-container side-nav__container"]],null,null,null,null,null)),(t()(),s.ob(44,0,null,null,82,"ul",[["class","side-nav__content nav flex-column"]],null,null,null,null,null)),(t()(),s.ob(45,0,null,null,15,"li",[["class","d-none d-md-block search-bar"]],null,null,null,null,null)),(t()(),s.ob(46,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),s.ob(47,0,null,null,13,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),s.ob(48,0,null,null,12,"form",[["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(t,e,n){var l=!0,i=t.component;return"submit"===e&&(l=!1!==s.Ab(t,50).onSubmit(n)&&l),"reset"===e&&(l=!1!==s.Ab(t,50).onReset()&&l),"ngSubmit"===e&&(l=!1!==i.onSubmit()&&l),l}),null,null)),s.nb(49,16384,null,0,C.t,[],null,null),s.nb(50,4210688,[["searchForm",4]],0,C.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s.Eb(2048,null,C.b,null,[C.j]),s.nb(52,16384,null,0,C.i,[[4,C.b]],null,null),(t()(),s.ob(53,0,null,null,5,"input",[["class","form-control"],["id","search"],["name","search"],["placeholder","Search for"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var l=!0,i=t.component;return"input"===e&&(l=!1!==s.Ab(t,54)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==s.Ab(t,54).onTouched()&&l),"compositionstart"===e&&(l=!1!==s.Ab(t,54)._compositionStart()&&l),"compositionend"===e&&(l=!1!==s.Ab(t,54)._compositionEnd(n.target.value)&&l),"ngModelChange"===e&&(l=!1!==(i.search.query=n)&&l),l}),null,null)),s.nb(54,16384,null,0,C.c,[s.B,s.k,[2,C.a]],null,null),s.Eb(1024,null,C.f,(function(t){return[t]}),[C.c]),s.nb(56,671744,[["name",4]],0,C.k,[[2,C.b],[8,null],[8,null],[6,C.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s.Eb(2048,null,C.g,null,[C.k]),s.nb(58,16384,null,0,C.h,[[4,C.g]],null,null),(t()(),s.ob(59,0,null,null,1,"button",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),s.ob(60,0,null,null,0,"i",[["class","glyph glyph-magnifier"]],null,null,null,null,null)),(t()(),s.ob(61,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(63,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(64,{active:0}),(t()(),s.ob(65,0,null,null,3,"a",[["routerLink","/home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,66).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(66,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(67,0,null,null,0,"span",[["class","glyph glyph-home"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Home"])),(t()(),s.ob(69,0,null,null,7,"li",[["class","d-sm-none"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(71,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(72,{active:0}),(t()(),s.ob(73,0,null,null,3,"a",[["routerLink","/letters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,74).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(74,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(75,0,null,null,0,"span",[["class","glyph glyph-characters"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Letters"])),(t()(),s.ob(77,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(79,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(80,{active:0}),(t()(),s.ob(81,0,null,null,3,"a",[["routerLink","/artists"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,82).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(82,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(83,0,null,null,0,"span",[["class","glyph glyph-people"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Artists"])),(t()(),s.ob(85,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(87,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(88,{active:0}),(t()(),s.ob(89,0,null,null,3,"a",[["routerLink","/albums"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,90).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(90,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(91,0,null,null,0,"span",[["class","glyph glyph-music-album"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Albums"])),(t()(),s.ob(93,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(95,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(96,{active:0}),(t()(),s.ob(97,0,null,null,3,"a",[["routerLink","/years"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,98).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(98,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(99,0,null,null,0,"span",[["class","glyph glyph-calendar"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Years"])),(t()(),s.ob(101,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(103,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(104,{active:0}),(t()(),s.ob(105,0,null,null,3,"a",[["routerLink","/playlists"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,106).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(106,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(107,0,null,null,0,"span",[["class","glyph glyph-music-info"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Playlists"])),(t()(),s.ob(109,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(111,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(112,{active:0}),(t()(),s.ob(113,0,null,null,3,"a",[["routerLink","/now-playing"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,114).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(114,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(115,0,null,null,0,"span",[["class","glyph glyph-audio"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Now playing"])),(t()(),s.eb(16777216,null,null,1,null,B)),s.nb(118,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.ob(119,0,null,null,7,"li",[],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(121,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(122,{active:0}),(t()(),s.ob(123,0,null,null,3,"a",[["routerLink","/settings"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,124).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(124,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),(t()(),s.ob(125,0,null,null,0,"span",[["class","glyph glyph-settings"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Settings"])),(t()(),s.ob(127,0,null,null,67,"aside",[["class","d-none d-lg-block side-nav-xl"]],null,null,null,null,null)),(t()(),s.ob(128,0,null,null,66,"ul",[["class","side-nav__content nav flex-column"]],null,null,null,null,null)),(t()(),s.ob(129,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(131,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(132,{active:0}),(t()(),s.ob(133,16777216,null,null,3,"a",[["routerLink","/home"],["tooltip","Home"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,134).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(134,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(135,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(136,0,null,null,0,"span",[["class","glyph glyph-home"]],null,null,null,null,null)),(t()(),s.ob(137,0,null,null,7,"li",[["class","d-md-none nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(139,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(140,{active:0}),(t()(),s.ob(141,16777216,null,null,3,"a",[["routerLink","/letters"],["tooltip","Letters"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,142).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(142,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(143,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(144,0,null,null,0,"span",[["class","glyph glyph-characters"]],null,null,null,null,null)),(t()(),s.ob(145,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(147,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(148,{active:0}),(t()(),s.ob(149,16777216,null,null,3,"a",[["routerLink","/artists"],["tooltip","Artists"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,150).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(150,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(151,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(152,0,null,null,0,"span",[["class","glyph glyph-people"]],null,null,null,null,null)),(t()(),s.ob(153,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(155,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(156,{active:0}),(t()(),s.ob(157,16777216,null,null,3,"a",[["routerLink","/albums"],["tooltip","Albums"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,158).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(158,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(159,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(160,0,null,null,0,"span",[["class","glyph glyph-music-album"]],null,null,null,null,null)),(t()(),s.ob(161,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(163,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(164,{active:0}),(t()(),s.ob(165,16777216,null,null,3,"a",[["routerLink","/years"],["tooltip","Years"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,166).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(166,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(167,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(168,0,null,null,0,"span",[["class","glyph glyph-calendar"]],null,null,null,null,null)),(t()(),s.ob(169,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(171,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(172,{active:0}),(t()(),s.ob(173,16777216,null,null,3,"a",[["routerLink","/playlists"],["tooltip","Playlists"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,174).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(174,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(175,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(176,0,null,null,0,"span",[["class","glyph glyph-music-info"]],null,null,null,null,null)),(t()(),s.ob(177,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(179,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(180,{active:0}),(t()(),s.ob(181,16777216,null,null,3,"a",[["routerLink","/now-playing"],["tooltip","Now Playing"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,182).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(182,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(183,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(184,0,null,null,0,"span",[["class","glyph glyph-audio"]],null,null,null,null,null)),(t()(),s.eb(16777216,null,null,1,null,D)),s.nb(186,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.ob(187,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(189,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(190,{active:0}),(t()(),s.ob(191,16777216,null,null,3,"a",[["routerLink","/settings"],["tooltip","Settings"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==s.Ab(t,192).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&l),l}),null,null)),s.nb(192,671744,null,0,p.l,[p.k,p.a,a.h],{routerLink:[0,"routerLink"]},null),s.nb(193,212992,null,0,v.c,[s.M,y.a,v.a,s.k,s.B,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.ob(194,0,null,null,0,"span",[["class","glyph glyph-settings"]],null,null,null,null,null))],(function(t,e){var n=e.component;t(e,11,0,n.path&&n.path.album),t(e,13,0,n.path&&n.path.artist&&!n.path.album),t(e,15,0,n.path&&!n.path.artist),t(e,17,0,!n.path&&n.page),t(e,19,0,!n.path&&!n.page),t(e,22,0,!n.topSearchVisible),t(e,24,0,n.topSearchVisible);var l=t(e,28,0,n.topSearchVisible);t(e,27,0,l),t(e,36,0,"search",n.search.query);var i=t(e,42,0,n.menuVisible);t(e,41,0,"js-side-nav side-nav",i),t(e,56,0,"search",n.search.query);var a=t(e,64,0,"Home"===n.page);t(e,63,0,a),t(e,66,0,"/home");var s=t(e,72,0,"Letters"===n.page);t(e,71,0,"d-sm-none",s),t(e,74,0,"/letters");var r=t(e,80,0,"Artists"===n.page);t(e,79,0,r),t(e,82,0,"/artists");var u=t(e,88,0,"Albums"===n.page);t(e,87,0,u),t(e,90,0,"/albums");var o=t(e,96,0,"Years"===n.page);t(e,95,0,o),t(e,98,0,"/years");var c=t(e,104,0,"Playlists"===n.page);t(e,103,0,c),t(e,106,0,"/playlists");var h=t(e,112,0,"Now playing"===n.page);t(e,111,0,h),t(e,114,0,"/now-playing"),t(e,118,0,n.manualScrobblingList.length>0);var d=t(e,122,0,"Settings"===n.page);t(e,121,0,d),t(e,124,0,"/settings");var b=t(e,132,0,"Home"===n.page);t(e,131,0,"nav-item",b),t(e,134,0,"/home"),t(e,135,0,"Home","hover");var m=t(e,140,0,"Letters"===n.page);t(e,139,0,"d-md-none nav-item",m),t(e,142,0,"/letters"),t(e,143,0,"Letters","hover");var g=t(e,148,0,"Artists"===n.page);t(e,147,0,"nav-item",g),t(e,150,0,"/artists"),t(e,151,0,"Artists","hover");var f=t(e,156,0,"Albums"===n.page);t(e,155,0,"nav-item",f),t(e,158,0,"/albums"),t(e,159,0,"Albums","hover");var p=t(e,164,0,"Years"===n.page);t(e,163,0,"nav-item",p),t(e,166,0,"/years"),t(e,167,0,"Years","hover");var v=t(e,172,0,"Playlists"===n.page);t(e,171,0,"nav-item",v),t(e,174,0,"/playlists"),t(e,175,0,"Playlists","hover");var y=t(e,180,0,"Now playing"===n.page);t(e,179,0,"nav-item",y),t(e,182,0,"/now-playing"),t(e,183,0,"Now Playing","hover"),t(e,186,0,n.manualScrobblingList.length>0);var k=t(e,190,0,"Settings"===n.page);t(e,189,0,"nav-item",k),t(e,192,0,"/settings"),t(e,193,0,"Settings","hover")}),(function(t,e){t(e,25,0,s.Ab(e,32).ngClassUntouched,s.Ab(e,32).ngClassTouched,s.Ab(e,32).ngClassPristine,s.Ab(e,32).ngClassDirty,s.Ab(e,32).ngClassValid,s.Ab(e,32).ngClassInvalid,s.Ab(e,32).ngClassPending),t(e,33,0,s.Ab(e,38).ngClassUntouched,s.Ab(e,38).ngClassTouched,s.Ab(e,38).ngClassPristine,s.Ab(e,38).ngClassDirty,s.Ab(e,38).ngClassValid,s.Ab(e,38).ngClassInvalid,s.Ab(e,38).ngClassPending),t(e,48,0,s.Ab(e,52).ngClassUntouched,s.Ab(e,52).ngClassTouched,s.Ab(e,52).ngClassPristine,s.Ab(e,52).ngClassDirty,s.Ab(e,52).ngClassValid,s.Ab(e,52).ngClassInvalid,s.Ab(e,52).ngClassPending),t(e,53,0,s.Ab(e,58).ngClassUntouched,s.Ab(e,58).ngClassTouched,s.Ab(e,58).ngClassPristine,s.Ab(e,58).ngClassDirty,s.Ab(e,58).ngClassValid,s.Ab(e,58).ngClassInvalid,s.Ab(e,58).ngClassPending),t(e,65,0,s.Ab(e,66).target,s.Ab(e,66).href),t(e,73,0,s.Ab(e,74).target,s.Ab(e,74).href),t(e,81,0,s.Ab(e,82).target,s.Ab(e,82).href),t(e,89,0,s.Ab(e,90).target,s.Ab(e,90).href),t(e,97,0,s.Ab(e,98).target,s.Ab(e,98).href),t(e,105,0,s.Ab(e,106).target,s.Ab(e,106).href),t(e,113,0,s.Ab(e,114).target,s.Ab(e,114).href),t(e,123,0,s.Ab(e,124).target,s.Ab(e,124).href),t(e,133,0,s.Ab(e,134).target,s.Ab(e,134).href,s.Ab(e,135).ariaDescribedby),t(e,141,0,s.Ab(e,142).target,s.Ab(e,142).href,s.Ab(e,143).ariaDescribedby),t(e,149,0,s.Ab(e,150).target,s.Ab(e,150).href,s.Ab(e,151).ariaDescribedby),t(e,157,0,s.Ab(e,158).target,s.Ab(e,158).href,s.Ab(e,159).ariaDescribedby),t(e,165,0,s.Ab(e,166).target,s.Ab(e,166).href,s.Ab(e,167).ariaDescribedby),t(e,173,0,s.Ab(e,174).target,s.Ab(e,174).href,s.Ab(e,175).ariaDescribedby),t(e,181,0,s.Ab(e,182).target,s.Ab(e,182).href,s.Ab(e,183).ariaDescribedby),t(e,191,0,s.Ab(e,192).target,s.Ab(e,192).href,s.Ab(e,193).ariaDescribedby)}))}var q=function(){function t(e,n){var l=this;_classCallCheck(this,t),this.coreService=e,this.router=n,this.activeLetter=null,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe((function(t){l.ngOnInit()}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.letters=this.core.sortedLetters}},{key:"onSelect",value:function(t){this.activeLetter&&(this.activeLetter.active=!1),this.activeLetter=t,this.router.navigate(["/letter",t.escapedLetter])}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),t}(),U=s.mb({encapsulation:2,styles:[],data:{}});function K(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,5,"li",[["class","nav-item align-self-stretch flex-grow-1 text-center"]],null,null,null,null,null)),(t()(),s.ob(1,0,null,null,4,"a",[],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.onSelect(t.context.$implicit)&&l),l}),null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(3,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(4,{active:0}),(t()(),s.Hb(5,null,["",""]))],(function(t,e){var n=t(e,4,0,e.context.$implicit.active);t(e,3,0,n)}),(function(t,e){t(e,5,0,e.context.$implicit.letter)}))}function H(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,2,"ul",[["class","nav d-none d-md-flex nav-letters"]],null,null,null,null,null)),(t()(),s.eb(16777216,null,null,1,null,K)),s.nb(2,278528,null,0,a.j,[s.M,s.J,s.q],{ngForOf:[0,"ngForOf"]},null)],(function(t,e){t(e,2,0,e.component.letters)}),null)}n("hR/0");var F=n("KI15"),V=n("1gFc"),J=n("meIv"),W=n("Pbcf"),z=function(t){return t.r=Math.floor(t.r),t.g=Math.floor(t.g),t.b=Math.floor(t.b),t.a=1,t},$=function t(e,n){return J.a.isReadable(e,n)?z(new J.a(e).toRgb()):t("#000"===n?new J.a(e).lighten(3):new J.a(e).darken(3),n)},X=function(t){return J.a.readability("#000",t)>J.a.readability("#fff",t)?"#000":"#fff"};function G(t,e,n){if(window.runningInElectron&&!n)document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbuntaint",{detail:{url:t}}));else{var l=new Image;l.crossOrigin="Anonymous",l.addEventListener("load",(function(t){var n=document.createElement("canvas"),i=n.getContext("2d");n.width=l.width,n.height=l.height,i.drawImage(l,0,0);var a=(new W.a).getColor(n).value;e(z({r:a[0],g:a[1],b:a[2]}))}),!1),l.src=t}}function Y(t){var e=z(new J.a(t).lighten().toRgb());return{rgba:t,textLight:$(t,"#fff"),textDark:$(t,"#000"),lighten:e,darken:z(new J.a(t).darken().toRgb()),letterColor:X(new J.a(t))}}function Z(t){var e=document.createElement("style"),n=t.rgba,l=t.darken,i=t.lighten,a=t.textLight,s=t.textDark,r=t.letterColor;e.setAttribute("type","text/css"),e.id="custom-css-node",e.textContent='\n      @charset "UTF-8";\n      :root {\n        --primary: rgba('.concat(n.r,", ").concat(n.g,", ").concat(n.b,", 1);\n        --darken: rgba(").concat(l.r,", ").concat(l.g,", ").concat(l.b,", 1);\n        --lighten: rgba(").concat(i.r,", ").concat(i.g,", ").concat(i.b,", 1);\n        --text-light: rgba(").concat(a.r,", ").concat(a.g,", ").concat(a.b,", 1);\n        --text-dark: rgba(").concat(s.r,", ").concat(s.g,", ").concat(s.b,", 1);\n        --letter-color: ").concat(r,";\n      }"),Q(),document.querySelector("body").appendChild(e)}function Q(){document.querySelector("#custom-css-node")&&document.querySelector("#custom-css-node").remove()}var tt,et=((tt=function(){function t(e,n,l,i,a,s,r){var u=this;_classCallCheck(this,t),this.pathService=e,this.playerService=n,this.router=l,this.lastFMService=i,this.coreService=a,this.animationService=s,this.colorService=r,this.showPlayer=!1,this.usesDynamicAccentColor=this.booleanState("dynamic-accent-color"),this.isPlaying=!1,this.isPaused=!1,this.hasScrobbledCurrentTrack=!1,this.isCurrentPlaylistLoaded=!1,this.isShuffled=!1,this.forceRestart=!1,this.showVolumeWindow=!1,this.volume=100,this.isHostedApp="undefined"!=typeof Windows,this.subscription=this.playerService.playlistAnnounced$.subscribe((function(t){t?(u.playlist=t.playlist,u.trackIndex=t.startIndex,u.isPaused=t.isPaused,u.isPlaying=t.isPlaying,u.isShuffled=t.isShuffled,u.forceRestart=t.forceRestart,u.showPlayer=u.isPaused||u.isPlaying,u.setTrack(t.position)):(u.isPlaying=!1,u.showPlayer=!1,u.mediaObject.pause())})),this.subscription5=this.playerService.hideVolumeWindowAnnounced$.subscribe((function(){u.showVolumeWindow=!1})),this.mediaObject=document.querySelector("audio"),this.mediaObject.crossOrigin="anonymous",this.mediaObject.canPlayType("audio/flac"),this.mediaObject.addEventListener("ended",(function(){u.next()})),this.mediaObject.addEventListener("timeupdate",(function(){u.updateTime()})),this.mediaObject.addEventListener("play",(function(){u.onplay()})),this.mediaObject.addEventListener("progress",(function(){u.onprogress()})),this.mediaObject.addEventListener("pause",(function(){u.onpause()})),this.mediaObject.addEventListener("ended",(function(){u.onstop()}));var o=localStorage.getItem("dsm");if(o&&(this.url=o),this.core=this.coreService.getCore(),this.subscription2=this.core.coreParsed$.subscribe((function(t){var e=localStorage.getItem("save-playlist-state");e&&"true"===e&&u.readCurrentPlaylist()})),this.subscription3=this.playerService.volumeAnnounced.subscribe((function(t){u.volume=t,u.mediaObject.volume=u.volume/100})),this.subscription4=e.pageAnnounced$.subscribe((function(t){"Now playing"===t.page&&(u.showVolumeWindow=!1)})),this.isHostedApp&&(this.systemMediaControls=Windows.Media.SystemMediaTransportControls.getForCurrentView(),this.displayUpdater=this.systemMediaControls.displayUpdater,this.systemMediaControls.isEnabled=!0,this.systemMediaControls.isPlayEnabled=!0,this.systemMediaControls.isPauseEnabled=!0,this.systemMediaControls.isStopEnabled=!0,this.systemMediaControls.isNextEnabled=!0,this.systemMediaControls.isPreviousEnabled=!0,this.systemMediaControls.addEventListener("buttonpressed",(function(t){var e=Windows.Media.SystemMediaTransportControlsButton;switch(t.button){case e.play:u.mediaObject.play();break;case e.pause:u.mediaObject.pause();break;case e.stop:u.playerService.stop();break;case e.next:u.next();break;case e.previous:u.prev();break;default:console.warn("key not mapped in application",t.button)}}),!1),this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.closed),-1===navigator.userAgent.indexOf("Mobi")){var c=document.querySelector("canvas"),h=c.offsetWidth,d=c.offsetHeight;c.width=h,c.height=d,c.getContext("2d"),this.audioCtx=new(window.AudioContext||window.webkitAudioContext);var b=this.audioCtx.createScriptProcessor(2048,1,1);b.connect(this.audioCtx.destination);var m=this.audioCtx.createAnalyser(),g=this.audioCtx.createMediaElementSource(this.mediaObject);m.fftSize=128;var f=m.frequencyBinCount;g.connect(m),m.connect(b),g.connect(this.audioCtx.destination),b.onaudioprocess=function(){var t=document.querySelector("canvas"),e=u.rgba||{r:0,g:110,b:205,a:1};d=t.offsetHeight,t.width=h=t.offsetWidth,t.height=d;var n=t.getContext("2d"),l=new Uint8Array(f);m.getByteFrequencyData(l),n.clearRect(0,0,h,d);for(var i,a=Math.floor(h/f*1.1),s=0,r=d/150*1.17,o=0;o<f;o++)i=l[o]*r,n.fillStyle="rgba(".concat(e.r,",").concat(e.g,",").concat(e.b,",").concat(l[o]/255,")"),n.fillRect(s,d-i/2,a,i/2),s+=a+1}}this.subscription6=this.colorService.color$.subscribe((function(t){u.rgba=t})),this.subscription7=this.colorService.blob$.subscribe((function(){var t=new Blob([window.externalBlob],{type:"image/png"}),e=URL.createObjectURL(t),n=new Image;n.src=e,G(n.src,(function(t){var e=Y(t);u.colorService.setColor(e.rgba),Z(e)}),!0)}))}return _createClass(t,[{key:"setTrack",value:function(t){if(this.track=this.playlist.tracks[this.trackIndex],!this.currentTrack||this.track&&this.currentTrack.id!==this.track.id||this.forceRestart){var e=localStorage.getItem("dsm");e&&(this.url=e);var n=localStorage.getItem("jwt");this.mediaObject.src="".concat(this.url,"/listen?path=").concat(encodeURIComponent(this.track.source.url),"&jwt=").concat(n),this.currentTrack=this.track,this.hasScrobbledCurrentTrack=!1,this.animationService.requestAnimation("enter",document.querySelector(".player h4")),this.animationService.requestAnimation("enter",document.querySelector(".player h5"))}this.isPlaying?this.mediaObject.play():this.mediaObject.pause(),this.isCurrentPlaylistLoaded&&(this.mediaObject.currentTime=localStorage.getItem("current-time")||0,this.isCurrentPlaylistLoaded=!1),t&&(this.mediaObject.currentTime=t)}},{key:"readCurrentPlaylist",value:function(){var t=this;Object(S.c)("current-playlist").then((function(e){var n=e;if(n){var l=t.coreService.getCore(),i=[];n.ids.forEach((function(t){i.push(l.tracks[t])}));var a=new F.a;a.tracks=i,a.name="Current Playlist",a.isContinues=n.isContinues||!1,a.type=n.type,t.isShuffled=n.isShuffled,t.isCurrentPlaylistLoaded=!0,t.playerService.doPlayPlaylist(a,n.current,!1,n.isShuffled)}}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.subscription2.unsubscribe(),this.subscription3.unsubscribe(),this.subscription4.unsubscribe(),this.subscription5.unsubscribe(),this.subscription6.unsubscribe(),this.subscription7.unsubscribe(),this.mediaObject.removeEventListener("ended"),this.mediaObject.removeEventListener("timeupdate"),this.mediaObject.removeEventListener("play"),this.showVolumeWindow=!1}},{key:"navigateToArtist",value:function(){this.router.navigate(["/letter",this.track.album.artist.letter.escapedLetter,"artist",this.track.album.artist.sortName])}},{key:"navigateToAlbum",value:function(){this.router.navigate(["/letter",this.track.album.artist.letter.escapedLetter,"artist",this.track.album.artist.sortName,"album",this.track.album.sortName])}},{key:"navigateToNowPlaying",value:function(){this.router.navigate(["/now-playing"])}},{key:"next",value:function(){this.trackIndex<this.playlist.tracks.length-1?(this.trackIndex++,this.playerService.next()):this.playlist.isContinues?(this.trackIndex=0,"random"===this.playlist.type||"radio"===this.playlist.type?this.playerService.nextPlaylist(this.playlist.type):this.playerService.nextAlbum(this.track.album)):this.playerService.stop()}},{key:"prev",value:function(){this.trackIndex>0&&(this.trackIndex--,this.playerService.prev())}},{key:"togglePlayPause",value:function(){this.playerService.togglePlayPause()}},{key:"updateTime",value:function(){if(this.track.position=1e3*this.mediaObject.currentTime,!this.hasScrobbledCurrentTrack&&(this.track.position>=t.SCROBBLETIME||this.track.position/this.track.duration>=.5&&performance.now()>t.SCROBBLETIME)){this.hasScrobbledCurrentTrack=!0;try{this.lastFMService.scrobbleTrack(this.track).subscribe((function(){}))}catch(e){console.error(e)}}localStorage.setItem("current-time",this.mediaObject.currentTime.toString())}},{key:"onplay",value:function(){var t,e=this;try{this.lastFMService.announceNowPlaying(this.track).subscribe()}catch(n){}document.title="".concat(this.track.title," by ").concat(this.track.trackArtist),"mediaSession"in navigator&&Object(S.c)("art-".concat(this.track.trackArtist,"-").concat(this.track.album.name)).then((function(t){t&&(navigator.mediaSession.metadata=new MediaMetadata({title:e.track.title,artist:e.track.trackArtist,album:e.track.album.name,artwork:[{src:t,sizes:"500x500",type:"image/png"}]})),navigator.mediaSession.setActionHandler("play",(function(){e.togglePlayPause()})),navigator.mediaSession.setActionHandler("pause",(function(){e.togglePlayPause()})),navigator.mediaSession.setActionHandler("previoustrack",(function(){e.prev()})),navigator.mediaSession.setActionHandler("nexttrack",(function(){e.next()}))})),this.isHostedApp&&(this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.playing,this.displayUpdater.type=Windows.Media.MediaPlaybackType.music,Object(S.c)("art-".concat(this.track.trackArtist,"-").concat(this.track.album.name)).then((function(t){try{void 0!==e.displayUpdater&&(e.displayUpdater.musicProperties.albumArtist=e.track.trackArtist,e.displayUpdater.musicProperties.artist=e.track.trackArtist,e.displayUpdater.musicProperties.albumTitle=e.track.album.name,e.displayUpdater.musicProperties.title=e.track.title,t&&(e.displayUpdater.thumbnail=Windows.Storage.Streams.RandomAccessStreamReference.createFromUri(new Windows.Foundation.Uri(t))),e.displayUpdater.update())}catch(n){console.error("error occurred",n)}e.updateWinTile(t)}))),document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbplaying",{detail:this.track})),this.audioCtx&&this.audioCtx.resume(),this.usesDynamicAccentColor=this.booleanState("dynamic-accent-color"),this.usesDynamicAccentColor&&(t=this.rgba)&&Z(Y(t))}},{key:"onstop",value:function(){document.querySelector("mdb-player").dispatchEvent(new Event("external.mdbstopped")),document.title="JSMusicDB Next",this.isHostedApp&&(this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.stopped),this.audioCtx&&this.audioCtx.suspend(),Q()}},{key:"onpause",value:function(){document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbpaused",{detail:this.track})),document.title="JSMusicDB Next",this.isHostedApp&&(this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.paused),this.audioCtx&&this.audioCtx.suspend(),Q()}},{key:"onChangeArt",value:function(t){var e=this;this.usesDynamicAccentColor?G(t.detail.art,(function(t){var n=Y(t);e.colorService.setColor(n.rgba),Z(n)}),!1):(this.colorService.setColor({r:0,g:110,b:205,a:1}),Q())}},{key:"toggleShuffle",value:function(){this.isShuffled=!this.isShuffled,this.playerService.shufflePlaylist(this.isShuffled)}},{key:"toggleLoved",value:function(){this.track.isLoved=!this.track.isLoved,this.lastFMService.toggleLoved(this.track).subscribe()}},{key:"toggleVolumeWindow",value:function(t){t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),this.showVolumeWindow=!this.showVolumeWindow}},{key:"onprogress",value:function(){var t=this.mediaObject.buffered;0!==t.length&&(this.track.buffered.start=1e3*t.start(0!==t.length?t.length-1:0),this.track.buffered.end=1e3*t.end(0!==t.length?t.length-1:0))}},{key:"setVolume",value:function(){this.mediaObject.volume=this.volume/100,this.playerService.setVolume(this.volume)}},{key:"jump",value:function(t){var e=(t.clientX||t.changedTouches[0].clientX)/document.querySelector(".player").clientWidth;this.playerService.setPosition(this.track.duration/1e3*e)}},{key:"booleanState",value:function(t){var e=localStorage.getItem(t);return!(!e||"true"!==e)}},{key:"updateWinTile",value:function(t){var e=Windows.UI.Notifications;e.TileUpdateManager.createTileUpdaterForApplication("App").clear();var n=e.TileUpdateManager.getTemplateContent(e.TileTemplateType.tileSquare150x150PeekImageAndText02),l=n.getElementsByTagName("text")[0];l.innerText=this.track.title,(l=n.getElementsByTagName("text")[1]).innerText=this.track.trackArtist,t&&(n.getElementsByTagName("image")[0].attributes[1].value=t);var i=new Date,a=new Date(i.getTime()+Number(this.track.duration)),s=n.importNode(this.getTileContent(t,"tileSquare310x310ImageAndText02").getElementsByTagName("binding").item(0),!0);n.getElementsByTagName("visual").item(0).appendChild(s),s=n.importNode(this.getTileContent(t,"tileWide310x150PeekImage02").getElementsByTagName("binding").item(0),!0),n.getElementsByTagName("visual").item(0).appendChild(s),s=n.importNode(this.getTileContent(t,"tileSquare71x71Image").getElementsByTagName("binding").item(0),!0),n.getElementsByTagName("visual").item(0).appendChild(s);var r=new e.TileNotification(n);r.expirationTime=a,e.TileUpdateManager.createTileUpdaterForApplication("App").update(r)}},{key:"getTileContent",value:function(t,e){var n=Windows.UI.Notifications,l=n.TileUpdateManager.getTemplateContent(n.TileTemplateType[e]);try{l.getElementsByTagName("text")[0].innerText=this.track.title}catch(i){console.error(i)}try{l.getElementsByTagName("text")[1].innerText=this.track.trackArtist}catch(i){console.error(i)}return t&&(l.getElementsByTagName("image")[0].attributes[1].value=t),l}}]),t}()).SCROBBLETIME=24e4,tt),nt=s.mb({encapsulation:2,styles:[],data:{}});function lt(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,0,"i",[["class","glyph glyph-pause"]],null,null,null,null,null))],null,null)}function it(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,0,"i",[["class","glyph glyph-play"]],null,null,null,null,null))],null,null)}function at(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,53,"div",[["class","player"]],null,null,null,null,null)),(t()(),s.ob(1,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),s.ob(2,0,null,null,4,"div",[["class","progress"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.jump(n)&&l),l}),null,null)),(t()(),s.ob(3,0,null,null,3,"div",[["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),s.Eb(512,null,a.w,a.x,[s.k,s.r,s.B]),s.nb(5,278528,null,0,a.n,[a.w],{ngStyle:[0,"ngStyle"]},null),s.Cb(6,{width:0}),(t()(),s.ob(7,0,null,null,38,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),s.ob(8,0,null,null,37,"div",[["class","row row-sm"]],null,null,null,null,null)),(t()(),s.ob(9,0,null,null,1,"div",[["class","col-xs-4 col-player-art"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.navigateToNowPlaying()&&l),l}),null,null)),(t()(),s.ob(10,0,null,null,0,"album-art",[],[[8,"artist",0],[8,"album",0]],[[null,"art"]],(function(t,e,n){var l=!0;return"art"===e&&(l=!1!==t.component.onChangeArt(n)&&l),l}),null,null)),(t()(),s.ob(11,0,null,null,9,"div",[["class","col-xs-11 col-player-special"]],null,null,null,null,null)),(t()(),s.ob(12,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),s.Hb(13,null,["",""])),(t()(),s.ob(14,0,null,null,6,"h5",[],null,null,null,null,null)),(t()(),s.ob(15,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.navigateToArtist()&&l),l}),null,null)),(t()(),s.Hb(16,null,["",""])),(t()(),s.ob(17,0,null,null,3,"span",[["class","hidden-xs color-type-secondary"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" \u2022 "])),(t()(),s.ob(19,0,null,null,1,"a",[],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.navigateToAlbum()&&l),l}),null,null)),(t()(),s.Hb(20,null,["",""])),(t()(),s.ob(21,0,null,null,24,"div",[["class","col-xs-9 text-right col-player-controls"]],null,null,null,null,null)),(t()(),s.ob(22,0,null,null,1,"a",[["class","btn btn-link"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.prev()&&l),l}),null,null)),(t()(),s.ob(23,0,null,null,0,"span",[["class","glyph glyph-previous"]],null,null,null,null,null)),(t()(),s.ob(24,0,null,null,4,"a",[["class","btn btn-link"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.togglePlayPause()&&l),l}),null,null)),(t()(),s.eb(16777216,null,null,1,null,lt)),s.nb(26,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.eb(16777216,null,null,1,null,it)),s.nb(28,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.ob(29,0,null,null,1,"a",[["class","btn btn-link"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.next()&&l),l}),null,null)),(t()(),s.ob(30,0,null,null,0,"span",[["class","glyph glyph-next"]],null,null,null,null,null)),(t()(),s.ob(31,0,null,null,4,"a",[["class","btn btn-link d-none d-md-inline-block"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.toggleVolumeWindow(n)&&l),l}),null,null)),(t()(),s.ob(32,0,null,null,3,"span",[["class","glyph"]],null,null,null,null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(34,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(35,{"glyph-volume":0,"glyph-mute":1}),(t()(),s.ob(36,0,null,null,4,"a",[["class","btn btn-link d-none d-md-inline-block btn-love"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.toggleLoved()&&l),l}),null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(38,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(39,{active:0}),(t()(),s.ob(40,0,null,null,0,"i",[["class","glyph glyph-star-outline"]],null,null,null,null,null)),(t()(),s.ob(41,0,null,null,4,"a",[["class","btn btn-link d-none d-md-inline-block btn-shuffle"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.toggleShuffle()&&l),l}),null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(43,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(44,{active:0}),(t()(),s.ob(45,0,null,null,0,"i",[["class","glyph glyph-shuffle"]],null,null,null,null,null)),(t()(),s.ob(46,0,null,null,7,"div",[["class","volume-control"]],[[8,"hidden",0]],null,null,null,null)),(t()(),s.ob(47,0,null,null,6,"input",[["max","100"],["min","0"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"change"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(t,e,n){var l=!0,i=t.component;return"input"===e&&(l=!1!==s.Ab(t,48)._handleInput(n.target.value)&&l),"blur"===e&&(l=!1!==s.Ab(t,48).onTouched()&&l),"compositionstart"===e&&(l=!1!==s.Ab(t,48)._compositionStart()&&l),"compositionend"===e&&(l=!1!==s.Ab(t,48)._compositionEnd(n.target.value)&&l),"change"===e&&(l=!1!==s.Ab(t,49).onChange(n.target.value)&&l),"input"===e&&(l=!1!==s.Ab(t,49).onChange(n.target.value)&&l),"blur"===e&&(l=!1!==s.Ab(t,49).onTouched()&&l),"ngModelChange"===e&&(l=!1!==(i.volume=n)&&l),"input"===e&&(l=!1!==i.setVolume()&&l),"change"===e&&(l=!1!==i.setVolume()&&l),l}),null,null)),s.nb(48,16384,null,0,C.c,[s.B,s.k,[2,C.a]],null,null),s.nb(49,16384,null,0,C.n,[s.B,s.k],null,null),s.Eb(1024,null,C.f,(function(t,e){return[t,e]}),[C.c,C.n]),s.nb(51,671744,null,0,C.k,[[8,null],[8,null],[8,null],[6,C.f]],{model:[0,"model"]},{update:"ngModelChange"}),s.Eb(2048,null,C.g,null,[C.k]),s.nb(53,16384,null,0,C.h,[[4,C.g]],null,null)],(function(t,e){var n=e.component,l=t(e,6,0,n.track.position/n.track.duration*100+"%");t(e,5,0,l),t(e,26,0,n.isPlaying),t(e,28,0,n.isPaused);var i=t(e,35,0,n.volume>0,0==n.volume);t(e,34,0,"glyph",i);var a=t(e,39,0,n.track.isLoved);t(e,38,0,"btn btn-link d-none d-md-inline-block btn-love",a);var s=t(e,44,0,n.isShuffled);t(e,43,0,"btn btn-link d-none d-md-inline-block btn-shuffle",s),t(e,51,0,n.volume)}),(function(t,e){var n=e.component;t(e,10,0,n.track.trackArtist,n.track.album.name),t(e,13,0,n.track.title),t(e,16,0,n.track.trackArtist),t(e,20,0,n.track.album.name),t(e,46,0,!n.showVolumeWindow),t(e,47,0,s.Ab(e,53).ngClassUntouched,s.Ab(e,53).ngClassTouched,s.Ab(e,53).ngClassPristine,s.Ab(e,53).ngClassDirty,s.Ab(e,53).ngClassValid,s.Ab(e,53).ngClassInvalid,s.Ab(e,53).ngClassPending)}))}function st(t){return s.Jb(0,[(t()(),s.eb(16777216,null,null,1,null,at)),s.nb(1,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null)],(function(t,e){t(e,1,0,e.component.showPlayer)}),null)}var rt=n("IheW"),ut=n("Gcu2"),ot=s.mb({encapsulation:2,styles:[],data:{}});function ct(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),s.Hb(1,null,[" progress: ","% "]))],null,(function(t,e){t(e,1,0,e.component.scanperc)}))}function ht(t){return s.Jb(0,[(t()(),s.ob(0,0,null,null,12,"div",[["id","reloading"]],null,null,null,null,null)),(t()(),s.ob(1,0,null,null,11,"div",[["class","container"]],null,null,null,null,null)),(t()(),s.ob(2,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),s.ob(3,0,null,null,9,"div",[["class","col"]],null,null,null,null,null)),(t()(),s.Hb(-1,null,[" Collection is being reloaded, please wait. "])),(t()(),s.eb(16777216,null,null,1,null,ct)),s.nb(6,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.ob(7,0,null,null,5,"div",[["class","progress-bar"]],null,null,null,null,null)),(t()(),s.ob(8,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.ob(9,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.ob(10,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.ob(11,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.ob(12,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null))],(function(t,e){t(e,6,0,e.component.scanperc)}),null)}function dt(t){return s.Jb(0,[(t()(),s.eb(16777216,null,null,1,null,ht)),s.nb(1,16384,null,0,a.k,[s.M,s.J],{ngIf:[0,"ngIf"]},null),(t()(),s.ob(2,0,null,null,6,"div",[],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.hideVolumeWindow&&l),l}),null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(4,278528,null,0,a.i,[a.u],{ngClass:[0,"ngClass"]},null),s.Cb(5,{isPlaying:0}),(t()(),s.ob(6,0,null,null,2,"mdb-topmenu",[],null,null,null,R,_)),s.Eb(5120,null,v.a,x,[]),s.nb(8,245760,null,0,L,[A.a,p.k,w.a,b.a],null,null),(t()(),s.ob(9,0,null,null,2,"div",[["class","fixed-top"],["style","z-index: 1029;"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.hideVolumeWindow&&l),l}),null,null)),(t()(),s.ob(10,0,null,null,1,"mdb-letters",[],null,null,null,H,U)),s.nb(11,245760,null,0,q,[b.a,p.k],null,null),(t()(),s.ob(12,0,null,null,5,"div",[["class","main-content"]],null,[[null,"click"]],(function(t,e,n){var l=!0;return"click"===e&&(l=!1!==t.component.hideVolumeWindow&&l),l}),null,null)),s.Eb(512,null,a.u,a.v,[s.q,s.r,s.k,s.B]),s.nb(14,278528,null,0,a.i,[a.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Cb(15,{isPlaying:0}),(t()(),s.ob(16,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),s.nb(17,212992,null,0,p.n,[p.b,s.M,s.j,[8,null],s.h],null,null),(t()(),s.ob(18,0,null,null,0,"audio",[["style","display: none;"]],null,null,null,null,null)),(t()(),s.ob(19,0,null,null,0,"canvas",[],null,null,null,null,null)),(t()(),s.ob(20,0,null,null,1,"mdb-player",[],null,[[null,"mdbprev"],[null,"mdbnext"],[null,"mdbtoggle"],[null,"mdbstop"],[null,"click"],[null,"mdbblob"]],(function(t,e,n){var l=!0,i=t.component;return"mdbprev"===e&&(l=!1!==i.onExternalPrev(n)&&l),"mdbnext"===e&&(l=!1!==i.onExternalNext(n)&&l),"mdbtoggle"===e&&(l=!1!==i.onExternalToggle(n)&&l),"mdbstop"===e&&(l=!1!==i.onExternalStop(n)&&l),"click"===e&&(l=!1!==i.hideVolumeWindow()&&l),"mdbblob"===e&&(l=!1!==i.onExternalBlob()&&l),l}),st,nt)),s.nb(21,180224,null,0,et,[A.a,o.a,p.k,w.a,b.a,V.a,h.a],null,null)],(function(t,e){var n=e.component;t(e,1,0,n.isReloading);var l=t(e,5,0,n.isPlaying);t(e,4,0,l),t(e,8,0),t(e,11,0);var i=t(e,15,0,n.isPlaying);t(e,14,0,"main-content",i),t(e,17,0)}),null)}var bt=s.kb("mdb-root",m,(function(t){return s.Jb(0,[(t()(),s.ob(0,16777216,null,null,10,"mdb-root",[],null,null,null,dt,ot)),s.Eb(4608,null,A.a,A.a,[]),s.Eb(4608,null,V.a,V.a,[]),s.Eb(512,null,c.a,c.a,[rt.c]),s.Eb(512,null,b.a,b.a,[]),s.Eb(512,null,d.a,d.a,[rt.c]),s.Eb(512,null,w.a,w.a,[rt.c]),s.Eb(512,null,ut.a,ut.a,[b.a,w.a]),s.Eb(512,null,o.a,o.a,[w.a,b.a,ut.a]),s.Eb(512,null,h.a,h.a,[]),s.nb(10,245760,null,0,m,[c.a,b.a,u.a,d.a,o.a,h.a,s.M],null,null)],(function(t,e){t(e,10,0)}),null)}),{},{},[]),mt=n("cUpR"),gt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){var e=!1;return 0===t.indexOf("mdb")&&(e=!0),e}},{key:"addEventListener",value:function(t,e,n){var l=this,i=this.manager.getZone(),a=function(t){i.run((function(){return n(t)}))};return this.manager.getZone().runOutsideAngular((function(){l.manager.addEventListener(t,"external."+e,a)}))}},{key:"addGlobalEventListener",value:function(t,e,n){var l=this,i=this.manager.getZone(),a=function(t){return i.run((function(){return n(t)}))};return this.manager.getZone().runOutsideAngular((function(){l.manager.addGlobalEventListener(t,e,a)}))}}]),t}(),ft=function(){function t(e,n){_classCallCheck(this,t),this.loginService=e,this.router=n}return _createClass(t,[{key:"canActivate",value:function(t,e){var n=this;return new Promise((function(t){var l=e.url;window.scrollTo(0,0),t(n.checkLogin(l))}))}},{key:"checkLogin",value:function(t){return!!localStorage.getItem("jwt")||(this.router.navigate(["/login"]),!1)}}]),t}(),pt=function(){return n.e(9).then(n.bind(null,"f+ep")).then((function(t){return t.LoginModuleNgFactory}))},vt=function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"L6id")).then((function(t){return t.HomeModuleNgFactory}))},yt=function(){return n.e(8).then(n.bind(null,"uob2")).then((function(t){return t.LettersModuleNgFactory}))},kt=function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,"q+AI")).then((function(t){return t.ArtistsModuleNgFactory}))},Ct=function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"RZ0Q")).then((function(t){return t.AlbumsModuleNgFactory}))},St=function(){return Promise.all([n.e(0),n.e(20)]).then(n.bind(null,"bYjM")).then((function(t){return t.YearsModuleNgFactory}))},wt=function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"6bSv")).then((function(t){return t.PlaylistsModuleNgFactory}))},At=function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"wPTJ")).then((function(t){return t.NowPlayingModuleNgFactory}))},Pt=function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"3F3D")).then((function(t){return t.SettingsModuleNgFactory}))},xt=function(){return n.e(15).then(n.bind(null,"VtoZ")).then((function(t){return t.ScrobbleCacheModuleNgFactory}))},Lt=function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"k0NY")).then((function(t){return t.SearchModuleNgFactory}))},_t=function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"g2JG")).then((function(t){return t.LetterDetailModuleNgFactory}))},Tt=function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"9/lQ")).then((function(t){return t.ArtistDetailModuleNgFactory}))},Et=function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"r0Lh")).then((function(t){return t.AlbumDetailModuleNgFactory}))},It=function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"L6id")).then((function(t){return t.HomeModuleNgFactory}))};p.m.forRoot([{path:"login",loadChildren:pt},{path:"home",loadChildren:vt,canActivate:[ft]},{path:"letters",loadChildren:yt,canActivate:[ft]},{path:"artists",loadChildren:kt,canActivate:[ft]},{path:"albums",loadChildren:Ct,canActivate:[ft]},{path:"years",loadChildren:St,canActivate:[ft]},{path:"playlists",loadChildren:wt,canActivate:[ft]},{path:"now-playing",loadChildren:At,canActivate:[ft]},{path:"settings",loadChildren:Pt,canActivate:[ft]},{path:"scrobble-cache",loadChildren:xt,canActivate:[ft]},{path:"search/:query",loadChildren:Lt,canActivate:[ft]},{path:"letter/:letter",loadChildren:_t,canActivate:[ft]},{path:"letter/:letter/artist/:artist",loadChildren:Tt,canActivate:[ft]},{path:"letter/:letter/artist/:artist/album/:album",loadChildren:Et,canActivate:[ft]},{path:"",loadChildren:It,canActivate:[ft]}],{preloadingStrategy:p.e});var Ot=n("hDf6"),Mt=s.lb(r,[m],(function(t){return s.xb([s.yb(512,s.j,s.X,[[8,[g.a,f.a,bt]],[3,s.j],s.v]),s.yb(4352,s.s,"en-GB",[]),s.yb(4608,a.m,a.l,[s.s,[2,a.z]]),s.yb(5120,s.fb,s.jb,[s.x]),s.yb(5120,s.c,s.gb,[]),s.yb(5120,s.q,s.hb,[]),s.yb(5120,s.r,s.ib,[]),s.yb(4608,mt.b,mt.k,[a.c]),s.yb(6144,s.E,null,[mt.b]),s.yb(4608,mt.e,mt.g,[]),s.yb(5120,mt.c,(function(t,e,n,l,i,a,s,r){return[new mt.i(t,e,n),new mt.n(l),new mt.m(i,a,s,r),new gt]}),[a.c,s.x,s.z,a.c,a.c,mt.e,s.Y,[2,mt.f]]),s.yb(4608,mt.d,mt.d,[mt.c,s.x]),s.yb(135680,mt.l,mt.l,[a.c]),s.yb(4608,mt.j,mt.j,[mt.d,mt.l,s.c]),s.yb(6144,s.C,null,[mt.j]),s.yb(6144,mt.o,null,[mt.l]),s.yb(4608,s.K,s.K,[s.x]),s.yb(4608,rt.j,rt.p,[a.c,s.z,rt.n]),s.yb(4608,rt.q,rt.q,[rt.j,rt.o]),s.yb(5120,rt.a,(function(t){return[t]}),[rt.q]),s.yb(4608,rt.m,rt.m,[]),s.yb(6144,rt.k,null,[rt.m]),s.yb(4608,rt.i,rt.i,[rt.k]),s.yb(6144,rt.b,null,[rt.i]),s.yb(4608,rt.f,rt.l,[rt.b,s.p]),s.yb(4608,rt.c,rt.c,[rt.f]),s.yb(4608,C.r,C.r,[]),s.yb(5120,p.a,p.x,[p.k]),s.yb(4608,p.e,p.e,[]),s.yb(6144,p.f,null,[p.e]),s.yb(135680,p.o,p.o,[p.k,s.u,s.i,s.p,p.f]),s.yb(4608,p.d,p.d,[]),s.yb(5120,p.C,p.t,[p.k,a.q,p.g]),s.yb(5120,p.h,p.A,[p.y]),s.yb(5120,s.b,(function(t){return[t]}),[p.h]),s.yb(4608,v.a,v.a,[]),s.yb(4608,k.a,k.a,[s.x,s.C,s.z]),s.yb(4608,y.a,y.a,[s.j,s.x,s.p,k.a,s.g]),s.yb(4608,u.a,u.a,[rt.c]),s.yb(4608,ft,ft,[u.a,p.k]),s.yb(1073742336,a.b,a.b,[]),s.yb(1024,s.l,mt.p,[]),s.yb(1024,s.w,(function(){return[p.s()]}),[]),s.yb(512,p.y,p.y,[s.p]),s.yb(1024,s.d,(function(t,e){return[mt.q(t),p.z(e)]}),[[2,s.w],p.y]),s.yb(512,s.e,s.e,[[2,s.d]]),s.yb(131584,s.g,s.g,[s.x,s.Y,s.p,s.l,s.j,s.e]),s.yb(1073742336,s.f,s.f,[s.g]),s.yb(1073742336,mt.a,mt.a,[[3,mt.a]]),s.yb(1073742336,rt.e,rt.e,[]),s.yb(1073742336,rt.d,rt.d,[]),s.yb(1073742336,C.q,C.q,[]),s.yb(1073742336,C.d,C.d,[]),s.yb(1024,p.r,p.v,[[3,p.k]]),s.yb(512,p.q,p.c,[]),s.yb(512,p.b,p.b,[]),s.yb(256,p.g,{preloadingStrategy:p.e},[]),s.yb(1024,a.h,p.u,[a.p,[2,a.a],p.g]),s.yb(512,a.g,a.g,[a.h,a.p]),s.yb(512,s.i,s.i,[]),s.yb(512,s.u,s.H,[s.i,[2,s.I]]),s.yb(1024,p.i,(function(){return[[{path:"login",loadChildren:pt},{path:"home",loadChildren:vt,canActivate:[ft]},{path:"letters",loadChildren:yt,canActivate:[ft]},{path:"artists",loadChildren:kt,canActivate:[ft]},{path:"albums",loadChildren:Ct,canActivate:[ft]},{path:"years",loadChildren:St,canActivate:[ft]},{path:"playlists",loadChildren:wt,canActivate:[ft]},{path:"now-playing",loadChildren:At,canActivate:[ft]},{path:"settings",loadChildren:Pt,canActivate:[ft]},{path:"scrobble-cache",loadChildren:xt,canActivate:[ft]},{path:"search/:query",loadChildren:Lt,canActivate:[ft]},{path:"letter/:letter",loadChildren:_t,canActivate:[ft]},{path:"letter/:letter/artist/:artist",loadChildren:Tt,canActivate:[ft]},{path:"letter/:letter/artist/:artist/album/:album",loadChildren:Et,canActivate:[ft]},{path:"",loadChildren:It,canActivate:[ft]}]]}),[]),s.yb(1024,p.k,p.w,[s.g,p.q,p.b,a.g,s.p,s.u,s.i,p.i,p.g,[2,p.p],[2,p.j]]),s.yb(1073742336,p.m,p.m,[[2,p.r],[2,p.k]]),s.yb(1073742336,v.d,v.d,[]),s.yb(1073742336,Ot.a,Ot.a,[]),s.yb(1073742336,r,r,[]),s.yb(256,s.W,!0,[]),s.yb(256,rt.n,"XSRF-TOKEN",[]),s.yb(256,rt.o,"X-XSRF-TOKEN",[])])}));a.t(i.a),Object(s.Q)(),window.addEventListener("beforeinstallprompt",(function(t){t.preventDefault(),window.deferredPrompt=t})),mt.h().bootstrapModuleFactory(Mt).catch((function(t){return console.error(t)}))}},[[0,1,19]]]);