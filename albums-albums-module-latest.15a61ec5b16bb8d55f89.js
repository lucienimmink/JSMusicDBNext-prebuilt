function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){return e&&_defineProperties(t.prototype,e),i&&_defineProperties(t,i),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{fX0g:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),r=i("fXoL"),c=i("ktVm"),s=i("XtVx"),o=i("tyNb"),a=i("Vmu9"),l=i("UrAU"),u=[1,"animated-page"],b=["imageLazyLoadArea","",1,"container","container-longlist"],f=[4,"vsFor","vsForSize","vsForScrollParent","vsForExcess"],m=[1,"jump-list",3,"ngClass"],v=[4,"ngFor","ngForOf"],h=["class","row",4,"ngFor","ngForOf"],p=[1,"row"],g=[1,"col"],d=[3,"click"],T=[1,"small","muted"],w=[3,"click",4,"ngFor","ngForOf"],y=[1,"image-wrapper"],L=[3,"album"],k=[1,"text-wrapper"],V=[1,"text"],A=["class","small muted",4,"ngIf"];function C(t,e){if(1&t&&(r.Vb(0,"span",T),r.Jc(1),r.Tb()),2&t){var i=r.gc().$implicit;r.Ac(1),r.Lc("Year: ",i.year,"")}}function F(t,e){if(1&t){var i=r.Wb();r.Vb(0,"li",d),r.bc("click",(function(t){r.xc(i);var n=e.$implicit;return r.gc(3).navigateToAlbum(n)})),r.Vb(1,"div",y),r.Sb(2,"mdb-album",L),r.Tb(),r.Vb(3,"div",k),r.Vb(4,"span",V),r.Jc(5),r.Tb(),r.Hc(6,C,2,1,"span",A),r.Tb(),r.Tb()}if(2&t){var n=e.$implicit;r.Ac(2),r.mc("album",n),r.Ac(5),r.Kc(n.name),r.Ac(6),r.mc("ngIf",n.year)}}function J(t,e){if(1&t){var i=r.Wb();r.Vb(0,"div",p),r.Vb(1,"div",g),r.Vb(2,"h4"),r.Vb(3,"a",d),r.bc("click",(function(t){return r.xc(i),r.gc(2).toggleJumpList()})),r.Jc(4),r.Tb(),r.Jc(5," \xa0 "),r.Vb(6,"span",T),r.Jc(7),r.Tb(),r.Tb(),r.Vb(8,"ul"),r.Hc(9,F,7,3,"li",w),r.Tb(),r.Tb(),r.Tb()}if(2&t){var n=e.$implicit;r.Ac(4),r.Kc(n.albumArtist||n.name),r.Ac(7),r.Lc("(",n.albums&&n.albums.length,")"),r.Ac(9),r.mc("ngForOf",n.albums)}}function O(t,e){if(1&t&&(r.Vb(0,"div"),r.Hc(1,J,10,3,"div",h),r.Tb()),2&t){var i=e.vsCollection;r.Ac(1),r.mc("ngForOf",i)}}function S(t,e){if(1&t){var i=r.Wb();r.Vb(0,"li"),r.Vb(1,"a",d),r.bc("click",(function(t){r.xc(i);var n=e.$implicit;return r.gc().jumpToLetter(n)})),r.Jc(2),r.Tb(),r.Tb()}if(2&t){var n=e.$implicit;r.Ac(2),r.Kc(n.letter)}}var D,P,_=function(t){return{visible:t}},j=[{path:"",component:(D=function(){function t(e,i,n){var r=this;_classCallCheck(this,t),this.coreService=e,this.pathService=i,this.router=n,this.items=[],this.letters=[],this.showJumpList=!1,this.cummlativeLength=[],this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe((function(t){r.ngOnInit()}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;(new Date).getTime(),this.pathService.announcePage("Albums");var e=this.core.artists;this.letters=this.core.sortedLetters;var i=Object.keys(e).sort((function(t,e){return t<e?-1:1})),n=[];i.forEach((function(e){n.push(t.core.artists[e])})),this.items=n,this.items.forEach((function(e,i){var n=t.getSize(e,i);t.cummlativeLength[i]=i>0?{l:t.cummlativeLength[i-1].l+n,letter:e.letter.letter}:{l:n,letter:e.letter.letter}}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"navigateToAlbum",value:function(t){this.router.navigate(["/letter",t.artist.letter.escapedLetter,"artist",t.artist.sortName,"album",t.sortName])}},{key:"getSize",value:function(t,e){return 90*t.albums.length+49}},{key:"toggleJumpList",value:function(){this.showJumpList=!this.showJumpList}},{key:"jumpToLetter",value:function(t){var e=this;this.showJumpList=!1,this.items.some((function(i,n){var r=!1;return i.letter.letter===t.letter&&(window.scrollTo(0,e.cummlativeLength[n>0?n-1:0].l),r=!0),r}))}}]),t}(),D.ngComponentDef=r.Lb({type:D,selectors:[["app-albums-list"]],factory:function(t){return new(t||D)(r.Rb(c.a),r.Rb(s.a),r.Rb(o.c))},consts:6,vars:8,template:function(t,e){1&t&&(r.Vb(0,"div",u),r.Vb(1,"div",b),r.Hc(2,O,2,1,"div",f),r.Tb(),r.Vb(3,"div",m),r.Vb(4,"ol"),r.Hc(5,S,3,1,"li",v),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.Ac(2),r.mc("vsFor",e.items)("vsForSize",e.getSize)("vsForScrollParent","body")("vsForExcess",2),r.Ac(3),r.mc("ngClass",r.pc(6,_,e.showJumpList)),r.Ac(5),r.mc("ngForOf",e.letters))},directives:[a.a,n.j,n.k,l.a,n.l],encapsulation:2}),D)}],x=((P=function t(){_classCallCheck(this,t)}).ngModuleDef=r.Pb({type:P}),P.ngInjectorDef=r.Ob({factory:function(t){return new(t||P)},imports:[[o.e.forChild(j)],o.e]}),P.ngLocaleIdDef="en-GB",P);o.e.forChild(j);var I=i("hDf6");i.d(e,"AlbumsModule",(function(){return z}));var $,z=(($=function t(){_classCallCheck(this,t)}).ngModuleDef=r.Pb({type:$}),$.ngInjectorDef=r.Ob({factory:function(t){return new(t||$)},imports:[[n.c,x,I.a]]}),$.ngLocaleIdDef="en-GB",$)}}]);