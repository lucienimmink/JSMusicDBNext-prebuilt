(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{RmqX:function(s,t,i){"use strict";i.r(t),i.d(t,"SearchModule",(function(){return A}));var e=i("ofXK"),c=i("hDf6"),r=i("tyNb"),n=i("ktVm"),a=i("XtVx"),b=i("fXoL"),l=i("EAnT"),o=i("UrAU"),u=i("cpgm");function f(s,t){1&s&&(b.Nb(0,"div",9),b.sc(1," More artists are found. Refine search for less results "),b.Mb())}function p(s,t){if(1&s&&(b.Nb(0,"div",10),b.Lb(1,"mdb-artist",11),b.Mb()),2&s){const s=t.$implicit;b.zb(1),b.fc("artist",s)}}function h(s,t){if(1&s&&(b.Nb(0,"div"),b.Nb(1,"h4"),b.sc(2," Artists "),b.Nb(3,"span",5),b.sc(4),b.Mb(),b.Mb(),b.rc(5,f,2,0,"div",6),b.Nb(6,"div",7),b.rc(7,p,2,1,"div",8),b.Mb(),b.Mb()),2&s){const s=b.Zb();b.zb(4),b.uc("(",s.artists.list.length,")"),b.zb(1),b.fc("ngIf",s.artists.overflow),b.zb(2),b.fc("ngForOf",s.artists.list)}}function d(s,t){1&s&&(b.Nb(0,"div",9),b.sc(1," More albums are found. Refine search for less results "),b.Mb())}function m(s,t){if(1&s&&(b.Nb(0,"div",13),b.Lb(1,"mdb-album",14),b.Mb()),2&s){const s=t.$implicit;b.zb(1),b.fc("album",s)}}function g(s,t){if(1&s&&(b.Nb(0,"div"),b.Nb(1,"h4"),b.sc(2," Albums "),b.Nb(3,"span",5),b.sc(4),b.Mb(),b.Mb(),b.rc(5,d,2,0,"div",6),b.Nb(6,"div",7),b.rc(7,m,2,1,"div",12),b.Mb(),b.Mb()),2&s){const s=b.Zb();b.zb(4),b.uc("(",s.albums.list.length,")"),b.zb(1),b.fc("ngIf",s.albums.overflow),b.zb(2),b.fc("ngForOf",s.albums.list)}}function M(s,t){1&s&&(b.Nb(0,"div",9),b.sc(1," More tracks are found. Refine search for less results "),b.Mb())}function v(s,t){1&s&&(b.Nb(0,"span"),b.Lb(1,"span",21),b.Mb())}function N(s,t){1&s&&(b.Nb(0,"span"),b.Lb(1,"span",22),b.Mb())}const y=function(s){return{active:s}};function I(s,t){if(1&s){const s=b.Ob();b.Nb(0,"li",17),b.Vb("click",(function(){b.oc(s);const i=t.$implicit;return b.Zb(2).select(i)})),b.Nb(1,"div",18),b.rc(2,v,2,0,"span",4),b.rc(3,N,2,0,"span",4),b.sc(4),b.Lb(5,"br"),b.Nb(6,"span",19),b.sc(7),b.Mb(),b.Mb(),b.Nb(8,"div",20),b.sc(9),b.ac(10,"timeFormat"),b.Mb(),b.Mb()}if(2&s){const s=t.$implicit;b.fc("ngClass",b.ic(9,y,s.isPlaying||s.isPaused)),b.zb(2),b.fc("ngIf",!s.isPlaying&&s.isPaused),b.zb(1),b.fc("ngIf",s.isPlaying&&!s.isPaused),b.zb(1),b.uc("",s.title," "),b.zb(3),b.vc(" ",s.trackArtist," \u2022 ",s.album.name," "),b.zb(2),b.uc(" ",b.bc(10,7,s.duration)," ")}}function k(s,t){if(1&s&&(b.Nb(0,"div"),b.Nb(1,"h4"),b.sc(2," Tracks "),b.Nb(3,"span",5),b.sc(4),b.Mb(),b.Mb(),b.rc(5,M,2,0,"div",6),b.Nb(6,"ol",15),b.rc(7,I,11,11,"li",16),b.Mb(),b.Mb()),2&s){const s=b.Zb();b.zb(4),b.uc("(",s.tracks.list.length,")"),b.zb(1),b.fc("ngIf",s.tracks.overflow),b.zb(2),b.fc("ngForOf",s.tracks.list)}}const z=[{path:"",component:(()=>{class s{constructor(s,t,i,e){this.pathService=s,this.coreService=t,this.router=i,this.route=e,this.MAXALLOWEDITEMS=100,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe(s=>{this.ngOnInit()}),this.query=decodeURIComponent(this.route.snapshot.params.query),this.route.params.subscribe(s=>{this.query=s.query,this.ngOnInit()})}ngOnInit(){this.pathService.announcePage(`Results for "${this.query}"`),this.artists=this.spliceList(this.core.searchArtist(this.query),this.MAXALLOWEDITEMS),this.albums=this.spliceList(this.core.searchAlbum(this.query),this.MAXALLOWEDITEMS),this.tracks=this.spliceList(this.core.searchTrack(this.query),this.MAXALLOWEDITEMS)}spliceList(s,t){let i=!1,e=s;return s.length>t&&(e=s.splice(0,t),i=!0),{list:e,overflow:i}}ngOnDestroy(){this.subscription.unsubscribe()}select(s){this.router.navigate(["/letter",s.album.artist.letter.escapedLetter,"artist",s.album.artist.sortName,"album",s.album.sortName])}}return s.\u0275fac=function(t){return new(t||s)(b.Kb(a.a),b.Kb(n.a),b.Kb(r.c),b.Kb(r.a))},s.\u0275cmp=b.Eb({type:s,selectors:[["ng-component"]],decls:7,vars:3,consts:[[1,"animated-page"],[1,"container"],[1,"row"],[1,"col"],[4,"ngIf"],[1,"small","muted","color-type-secondary"],["class","alert alert-info",4,"ngIf"],[1,"media-container"],["class","artist-panel media-panel",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"artist-panel","media-panel"],[3,"artist"],["class","album-panel media-panel",4,"ngFor","ngForOf"],[1,"album-panel","media-panel"],[3,"album"],[1,"list-group","list-tracks"],["class","list-group-item","style","display: flex;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"display","flex",3,"ngClass","click"],[1,"col-9","col-md-10","track-info"],[1,"small","muted"],[1,"col-3","col-md-2","text-right"],[1,"glyph","glyph-pause"],[1,"glyph","glyph-play"]],template:function(s,t){1&s&&(b.Nb(0,"div",0),b.Nb(1,"div",1),b.Nb(2,"div",2),b.Nb(3,"div",3),b.rc(4,h,8,3,"div",4),b.rc(5,g,8,3,"div",4),b.rc(6,k,8,3,"div",4),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&s&&(b.zb(4),b.fc("ngIf",t.artists.list&&t.artists.list.length>0),b.zb(1),b.fc("ngIf",t.albums.list&&t.albums.list.length>0),b.zb(1),b.fc("ngIf",t.tracks.list&&t.tracks.list.length>0))},directives:[e.k,e.j,l.a,o.a,e.i],pipes:[u.a],encapsulation:2}),s})()}];let L=(()=>{class s{}return s.\u0275mod=b.Ib({type:s}),s.\u0275inj=b.Hb({factory:function(t){return new(t||s)},imports:[[r.e.forChild(z)],r.e]}),s})(),A=(()=>{class s{}return s.\u0275mod=b.Ib({type:s}),s.\u0275inj=b.Hb({factory:function(t){return new(t||s)},imports:[[e.b,L,c.a]]}),s})()}}]);