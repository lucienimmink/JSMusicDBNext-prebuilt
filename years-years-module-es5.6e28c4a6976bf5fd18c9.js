function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{ZutQ:function(e,t,i){"use strict";i.r(t),i.d(t,"YearsModule",(function(){return w}));var r=i("ofXK"),n=i("hDf6"),s=i("tyNb"),a=i("ktVm"),c=i("XtVx"),o=i("fXoL"),l=i("Vmu9"),u=i("UrAU");function b(e,t){if(1&e){var i=o.Mb();o.Lb(0,"li",8),o.Sb("click",(function(){o.lc(i);var e=t.$implicit;return o.Wb(3).navigateToAlbum(e)})),o.Lb(1,"div",11),o.Jb(2,"mdb-album",12),o.Kb(),o.Lb(3,"div",13),o.Lb(4,"span",14),o.pc(5),o.Kb(),o.Lb(6,"span",9),o.pc(7),o.Kb(),o.Kb(),o.Kb()}if(2&e){var r=t.$implicit;o.xb(2),o.cc("album",r),o.xb(3),o.qc(r.name),o.xb(2),o.qc(r.artist.albumArtist||r.artist.name)}}function f(e,t){if(1&e){var i=o.Mb();o.Lb(0,"div",6),o.Lb(1,"div",7),o.Lb(2,"h4"),o.Lb(3,"a",8),o.Sb("click",(function(){return o.lc(i),o.Wb(2).toggleJumpList()})),o.pc(4),o.Kb(),o.pc(5," \xa0 "),o.Lb(6,"span",9),o.pc(7),o.Kb(),o.Kb(),o.Lb(8,"ul"),o.oc(9,b,8,3,"li",10),o.Kb(),o.Kb(),o.Kb()}if(2&e){var r=t.$implicit;o.xb(4),o.qc(r.year),o.xb(3),o.rc("(",r.albums&&r.albums.length,")"),o.xb(2),o.cc("ngForOf",r.albums)}}function p(e,t){if(1&e&&(o.Lb(0,"div"),o.oc(1,f,10,3,"div",5),o.Kb()),2&e){var i=t.vsCollection;o.xb(1),o.cc("ngForOf",i)}}function m(e,t){if(1&e){var i=o.Mb();o.Lb(0,"li"),o.Lb(1,"a",8),o.Sb("click",(function(){o.lc(i);var e=t.$implicit;return o.Wb().jumpToLetter(e)})),o.pc(2),o.Kb(),o.Kb()}if(2&e){var r=t.$implicit;o.xb(2),o.qc(r)}}var v,h,g,y=function(e){return{visible:e}},d=[{path:"",component:(v=function(){function e(t,i,r){var n=this;_classCallCheck(this,e),this.coreService=t,this.pathService=i,this.router=r,this.items=[],this.years=[],this.showJumpList=!1,this.cummlativeLength=[],this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe((function(e){n.ngOnInit()}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.pathService.announcePage("Years");var t=Object.keys(this.core.years).sort((function(e,t){return parseInt(e,10)<parseInt(t,10)?1:-1})),i=[];t.forEach((function(t){"undefined"!==t&&(i.push(e.core.years[t]),e.years.push(t))})),this.items=i,this.items.forEach((function(t,i){var r=e.getSize(t,i);e.cummlativeLength[i]=i>0?{l:e.cummlativeLength[i-1].l+r,year:t.year.year}:{l:r,year:t.year.year}}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"navigateToAlbum",value:function(e){this.router.navigate(["/letter",e.artist.letter.escapedLetter,"artist",e.artist.sortName,"album",e.sortName])}},{key:"getSize",value:function(e,t){return 90*e.albums.length+39}},{key:"toggleJumpList",value:function(){this.showJumpList=!this.showJumpList}},{key:"jumpToLetter",value:function(e){var t=this;this.showJumpList=!1,this.items.some((function(i,r){var n=!1;if(i.year===parseInt(e,10)){var s=r>0?r-1:0;0===s?window.scrollTo(0,0):window.scrollTo(0,t.cummlativeLength[s].l),n=!0}return n}))}}]),e}(),v.\u0275fac=function(e){return new(e||v)(o.Ib(a.a),o.Ib(c.a),o.Ib(s.c))},v.\u0275cmp=o.Cb({type:v,selectors:[["app-years"]],decls:6,vars:8,consts:[[1,"animated-page"],["imageLazyLoadArea","",1,"container","container-longlist"],[4,"vsFor","vsForSize","vsForScrollParent","vsForExcess"],[1,"jump-list","jump-list-years",3,"ngClass"],[4,"ngFor","ngForOf"],["class","row",4,"ngFor","ngForOf"],[1,"row"],[1,"col"],[3,"click"],[1,"small","muted","color-type-secondary"],[3,"click",4,"ngFor","ngForOf"],[1,"image-wrapper"],[3,"album"],[1,"text-wrapper"],[1,"text"]],template:function(e,t){1&e&&(o.Lb(0,"div",0),o.Lb(1,"div",1),o.oc(2,p,2,1,"div",2),o.Kb(),o.Lb(3,"div",3),o.Lb(4,"ol"),o.oc(5,m,3,1,"li",4),o.Kb(),o.Kb(),o.Kb()),2&e&&(o.xb(2),o.cc("vsFor",t.items)("vsForSize",t.getSize)("vsForScrollParent","body")("vsForExcess",2),o.xb(1),o.cc("ngClass",o.fc(6,y,t.showJumpList)),o.xb(2),o.cc("ngForOf",t.years))},directives:[l.a,r.i,r.j,u.a],encapsulation:2}),v)}],L=((g=function e(){_classCallCheck(this,e)}).\u0275mod=o.Gb({type:g}),g.\u0275inj=o.Fb({factory:function(e){return new(e||g)},imports:[[s.e.forChild(d)],s.e]}),g),w=((h=function e(){_classCallCheck(this,e)}).\u0275mod=o.Gb({type:h}),h.\u0275inj=o.Fb({factory:function(e){return new(e||h)},imports:[[r.b,L,n.a]]}),h)}}]);