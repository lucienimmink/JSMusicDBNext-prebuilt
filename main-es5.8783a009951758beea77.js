(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+ooL":function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("K9Ia"),i=function(){function t(){this.colorSource=new l.a,this.blobSource=new l.a,this.color$=this.colorSource.asObservable(),this.blob$=this.blobSource.asObservable()}return t.prototype.setColor=function(t){this.colorSource.next(t)},t.prototype.setBlob=function(){this.blobSource.next(!0)},t}()},"/1T7":function(t,n,e){"use strict";n.a=function(){function t(t){this.tracks=[],this.discs=[],this.sortedDiscs=[],this.modified=0,this.isContinues=!0,t.album&&t.title&&(this.name=t.album,this.sortName=this.name.toUpperCase(),this.year=t.year,this.modified=t.modified,this.year&&-1!==this.year.indexOf("-")&&(this.year=this.year.split("-")[0]))}return t.prototype.url=function(){return"/letter/"+this.artist.letter.escapedLetter+"/artist/"+encodeURIComponent(this.artist.name)+"/album/"+encodeURIComponent(this.name)},t}()},0:function(t,n,e){t.exports=e("zUnb")},"1gFc":function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){function t(){}return t.prototype.requestAnimation=function(t,n,e){void 0===t&&(t="enter"),void 0===e&&(e=!0),n&&(n.classList.contains(t)&&n.classList.remove(t),setTimeout(function(){n.classList.add(t)},10),e&&setTimeout(function(){n.classList.remove(t)},150))},t}()},Gcu2:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("K9Ia"),i=e("LNEh"),r=(e("ktVm"),e("t083"),e("KI15")),s=function(){function t(t,n){this.coreService=t,this.lastfmservice=n,this.playlistSubject=new l.a,this.playlistAnnounced$=this.playlistSubject.asObservable(),this.numberOfTracksInAPlaylist=100,this.username=localStorage.getItem("lastfm-username"),this.core=this.coreService.getCore()}return t.prototype.generateRandom=function(){var t=this,n=Object.keys(this.core.tracks),e=this.shuffle(n).splice(0,this.numberOfTracksInAPlaylist),l=new r.a;return l.name=this.numberOfTracksInAPlaylist+" random tracks",e.map(function(n){l.tracks.push(t.core.tracks[n])}),l},t.prototype.generateRadio=function(){var t=this;this.lastfmservice.getTopArtists(this.username).subscribe(function(n){t.playlistSubject.next(t.extractArtists(n))})},t.prototype.extractTracks=function(t){var n=this,e=new r.a;return e.name="Loved tracks on Last.FM",t.map(function(t){var l=n.core.getTrackByArtistAndName(t.artist.name,t.name);l&&e.tracks.push(l)}),e},t.prototype.extractArtists=function(t){var n=this,e=[],l=[];return t.forEach(function(t,r){t.dummy=!0;var s=new i.a(t),a=n.core.artists[s.sortName];a&&r<10?e.push(a):l.push(a)}),this.generateRadioList(e,l)},t.prototype.generateRadioList=function(t,n){var e=new r.a;e.name=this.numberOfTracksInAPlaylist+" random tracks based on your recently listened tracks";for(var l=0;l<this.numberOfTracksInAPlaylist;l++)e.tracks.push(this.getRandomTrackFromList(l%3==0||l%5==0?t:l%4==0||l%7==0?n:this.core.artistsList()));return e},t.prototype.getRandomTrackFromList=function(t){var n=this.shuffle(t)[0];if(n){var e=this.shuffle(n.albums)[0],l=this.shuffle(e.tracks)[0];return l.duration<=6e5?l:this.getRandomTrackFromList(t)}return this.getRandomTrackFromList(t)},t.prototype.shuffle=function(t){for(var n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),l=t[n];t[n]=t[e],t[e]=l}return t},t.prototype.getNextTrackForPlaylist=function(t,n){var e=this.getRandomTrackFromList(t);return e?n.tracks.length>1&&n.tracks[n.tracks.length-1].artist===e.artist&&t.length>1?this.getNextTrackForPlaylist(t,n):e:null},t}()},KI15:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){return function(){this.tracks=[],this.isOwn=!1,this.isContinues=!1}}()},LNEh:function(t,n,e){"use strict";n.a=function(){function t(t){this.albums=[],(t.album&&t.title||t.dummy)&&(this.name=t.name||t.artist||"",this.albumArtist=t.albumartist||t.albumArtist||"",this.sortName=this.stripFromName(this.albumArtist?this.albumArtist.toUpperCase():t.sortName?t.sortName.toUpperCase():this.name.toUpperCase(),["the ",'"',"a "]),this.bio=t.bio,this.isCollection=!!this.albumArtist&&this.name!==this.albumArtist)}return t.prototype.url=function(){return"/letter/"+this.letter.escapedLetter+"/artist/"+encodeURIComponent(this.albumArtist||this.name)+"/"},t.prototype.sortAlbumsBy=function(t,n){void 0===t&&(t="name"),void 0===n&&(n="asc"),this.albums.sort(function(e,l){if(-1!==t.indexOf(".")){var i=t.split(".");return e[i[0]][i[1]]<l[i[0]][i[1]]?"asc"===n?-1:1:e[i[0]][i[1]]>l[i[0]][i[1]]?"asc"===n?1:-1:0}return e[t]<l[t]?"asc"===n?-1:1:e[t]>l[t]?"asc"===n?1:-1:0})},t.prototype.sortAndReturnAlbumsBy=function(t,n){return void 0===t&&(t="name"),void 0===n&&(n="asc"),this.sortAlbumsBy(t,n),this.albums},t.prototype.stripFromName=function(t,n){var e=t?t.toUpperCase():"";return e=e.trim(),n.forEach(function(t){var n=t.toUpperCase();0===e.indexOf(n)&&(e=e.substring(n.length))}),e},t}()},MDLy:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("XlPw"),i=e("9Z1F"),r=e("Gi3i"),s=function(){function t(t){this.http=t,this.collectionUrl="/data/node-music.json",this.reloadUrl="/rescan",this.pollUrl="/progress",this.dsm=localStorage.getItem("dsm")}return t.prototype.getCollection=function(){return this.dsm=localStorage.getItem("dsm"),this.http.get(this.dsm+this.collectionUrl).pipe(Object(i.a)(this.handleError))},t.prototype.reload=function(){var t=this.dsm+this.reloadUrl,n=localStorage.getItem("jwt");return this.http.get(t+"?_ts="+(new Date).getTime()+"&jwt="+n).pipe(Object(i.a)(this.handleError))},t.prototype.poll=function(){var t=this.dsm+this.pollUrl,n=localStorage.getItem("jwt");return this.http.get(t+"?_ts="+(new Date).getTime()+"&jwt="+n).pipe(Object(r.a)(300),Object(i.a)(this.handleError))},t.prototype.handleError=function(t){var n=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error";return Object(l.a)(n)},t}()},OgP6:function(t,n,e){"use strict";e.d(n,"a",function(){return s});var l=e("K9Ia"),i=e("XlPw"),r=e("9Z1F"),s=function(){function t(t){this.http=t,this.geoSource=new l.a,this.themeSource=new l.a,this.modeSource=new l.a,this.theme$=this.themeSource.asObservable(),this.mode$=this.modeSource.asObservable(),this.geo$=this.geoSource.asObservable(),this._theme=localStorage.getItem("theme")||"light",this._mode="light",this.counter=0,this.COUNTERTIMER=6e4}return Object.defineProperty(t.prototype,"theme",{get:function(){return this._theme},set:function(t){var n=this;this._theme!==t&&(this._theme=t),"auto"!==this._theme||this.counter?"auto"===this._theme||(this.setStyleSheet(this._theme),clearInterval(this.counter),this.counter=0,this._mode=this._theme):(this.counter=setInterval(function(){n.checkTheme()},this.COUNTERTIMER),this.checkTheme())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},enumerable:!0,configurable:!0}),t.prototype.getSunriseInfo=function(t,n){return void 0===t&&(t=51),void 0===n&&(n=5),this.http.get("https://api.sunrise-sunset.org/json?lat="+t+"&lng="+n+"&formatted=0").pipe(Object(r.a)(this.handleError))},t.prototype.applyTheme=function(){var t=this;"auto"===this._theme?(this.counter||(this.counter=setInterval(function(){t.checkTheme()},this.COUNTERTIMER)),this.checkTheme(!0)):this.setStyleSheet(this._theme)},t.prototype.checkTheme=function(t){void 0===t&&(t=!1);var n=new Date;n<this.stopDate&&n>this.startDate&&"dark"!==this._mode?(this._mode="dark",this.setStyleSheet(this._mode)):(n>this.stopDate||n<this.startDate)&&"light"!==this._mode&&(this._mode="light",this.setStyleSheet(this._mode)),t&&this.setStyleSheet(this._mode)},t.prototype.handleError=function(t){return Object(i.a)(null)},t.prototype.setStyleSheet=function(t){var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href","prod"!==window.ENV&&window.ENV?"/dist/sass/"+t+".css":"global/css/"+t+".css"),n.setAttribute("id","customStylesheet");var e=document.getElementById("customStylesheet");e&&document.getElementsByTagName("head")[0].removeChild(e),document.getElementsByTagName("head")[0].appendChild(n),localStorage.setItem("theme",this._theme),localStorage.setItem("style",t),this.themeSource.next(this._theme),this.modeSource.next(t)},t}()},XNvx:function(t,n,e){"use strict";var l=e("XlPw"),i=e("t/Na"),r=e("9Z1F"),s={cipher:{},hash:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t}}};s.cipher.aes=function(t){this.h[0][0][0]||this.w();var n,e,l,i,r=this.h[0][4],a=this.h[1],u=1;if(4!==(n=t.length)&&6!==n&&8!==n)throw new s.exception.invalid("invalid aes key size");for(this.a=[l=t.slice(0),i=[]],t=n;t<4*n+28;t++)e=l[t-1],(t%n==0||8===n&&t%n==4)&&(e=r[e>>>24]<<24^r[e>>16&255]<<16^r[e>>8&255]<<8^r[255&e],t%n==0&&(e=e<<8^e>>>24^u<<24,u=u<<1^283*(u>>7))),l[t]=l[t-n]^e;for(n=0;t;n++,t--)e=l[3&n?t:t-4],i[n]=t<=4||n<4?e:a[0][r[e>>>24]]^a[1][r[e>>16&255]]^a[2][r[e>>8&255]]^a[3][r[255&e]]},s.cipher.aes.prototype={encrypt:function(t){return this.H(t,0)},decrypt:function(t){return this.H(t,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],w:function(){var t,n,e,l,i,r,s,a=this.h[0],u=this.h[1],o=a[4],c=u[4],h=[],p=[];for(t=0;t<256;t++)p[(h[t]=t<<1^283*(t>>7))^t]=t;for(n=e=0;!o[n];n^=l||1,e=p[e]||1)for(o[n]=r=(r=e^e<<1^e<<2^e<<3^e<<4)>>8^255&r^99,c[r]=n,s=16843009*(i=h[t=h[l=h[n]]])^65537*t^257*l^16843008*n,i=257*h[r]^16843008*r,t=0;t<4;t++)a[t][n]=i=i<<24^i>>>8,u[t][r]=s=s<<24^s>>>8;for(t=0;t<5;t++)a[t]=a[t].slice(0),u[t]=u[t].slice(0)},H:function(t,n){if(4!==t.length)throw new s.exception.invalid("invalid aes block size");var e=this.a[n],l=t[0]^e[0],i=t[n?3:1]^e[1],r=t[2]^e[2];t=t[n?1:3]^e[3];var a,u,o,c,h=e.length/4-2,p=4,d=[0,0,0,0],b=(a=this.h[n])[0],m=a[1],g=a[2],f=a[3],y=a[4];for(c=0;c<h;c++)a=b[l>>>24]^m[i>>16&255]^g[r>>8&255]^f[255&t]^e[p],u=b[i>>>24]^m[r>>16&255]^g[t>>8&255]^f[255&l]^e[p+1],o=b[r>>>24]^m[t>>16&255]^g[l>>8&255]^f[255&i]^e[p+2],t=b[t>>>24]^m[l>>16&255]^g[i>>8&255]^f[255&r]^e[p+3],p+=4,l=a,i=u,r=o;for(c=0;c<4;c++)d[n?3&-c:c]=y[l>>>24]<<24^y[i>>16&255]<<16^y[r>>8&255]<<8^y[255&t]^e[p++],a=l,l=i,i=r,r=t,t=a;return d}},s.bitArray={bitSlice:function(t,n,e){return t=s.bitArray.P(t.slice(n/32),32-(31&n)).slice(1),void 0===e?t:s.bitArray.clamp(t,e-n)},concat:function(t,n){if(0===t.length||0===n.length)return t.concat(n);var e=t[t.length-1],l=s.bitArray.getPartial(e);return 32===l?t.concat(n):s.bitArray.P(n,l,0|e,t.slice(0,t.length-1))},bitLength:function(t){var n=t.length;return 0===n?0:32*(n-1)+s.bitArray.getPartial(t[n-1])},clamp:function(t,n){if(32*t.length<n)return t;var e=(t=t.slice(0,Math.ceil(n/32))).length;return n&=31,e>0&&n&&(t[e-1]=s.bitArray.partial(n,t[e-1]&2147483648>>n-1,1)),t},partial:function(t,n,e){return 32===t?n:(e?0|n:n<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,n){if(s.bitArray.bitLength(t)!==s.bitArray.bitLength(n))return!1;var e,l=0;for(e=0;e<t.length;e++)l|=t[e]^n[e];return 0===l},P:function(t,n,e,l){var i;for(i=0,void 0===l&&(l=[]);n>=32;n-=32)l.push(e),e=0;if(0===n)return l.concat(t);for(i=0;i<t.length;i++)l.push(e|t[i]>>>n),e=t[i]<<32-n;return t=s.bitArray.getPartial(i=t.length?t[t.length-1]:0),l.push(s.bitArray.partial(n+t&31,n+t>32?e:l.pop(),1)),l},k:function(t,n){return[t[0]^n[0],t[1]^n[1],t[2]^n[2],t[3]^n[3]]}},s.codec.utf8String={fromBits:function(t){var n,e,l="",i=s.bitArray.bitLength(t);for(n=0;n<i/8;n++)0==(3&n)&&(e=t[n/4]),l+=String.fromCharCode(e>>>24),e<<=8;return decodeURIComponent(escape(l))},toBits:function(t){t=unescape(encodeURIComponent(t));var n,e=[],l=0;for(n=0;n<t.length;n++)l=l<<8|t.charCodeAt(n),3==(3&n)&&(e.push(l),l=0);return 3&n&&e.push(s.bitArray.partial(8*(3&n),l)),e}},s.codec.hex={fromBits:function(t){var n,e="";for(n=0;n<t.length;n++)e+=(0xf00000000000+(0|t[n])).toString(16).substr(4);return e.substr(0,s.bitArray.bitLength(t)/4)},toBits:function(t){var n,e,l=[];for(e=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",n=0;n<t.length;n+=8)l.push(0^parseInt(t.substr(n,8),16));return s.bitArray.clamp(l,4*e)}},s.codec.base64={D:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,n){var e,l="",i=0,r=s.codec.base64.D,a=0,u=s.bitArray.bitLength(t);for(e=0;6*l.length<u;)l+=r.charAt((a^t[e]>>>i)>>>26),i<6?(a=t[e]<<6-i,i+=26,e++):(a<<=6,i-=6);for(;3&l.length&&!n;)l+="=";return l},toBits:function(t){t=t.replace(/\s|=/g,"");var n,e,l=[],i=0,r=s.codec.base64.D,a=0;for(n=0;n<t.length;n++){if((e=r.indexOf(t.charAt(n)))<0)throw new s.exception.invalid("this isn't base64!");i>26?(l.push(a^e>>>(i-=26)),a=e<<32-i):a^=e<<32-(i+=6)}return 56&i&&l.push(s.bitArray.partial(56&i,a,1)),l}},s.hash.sha256=function(t){this.a[0]||this.w(),t?(this.n=t.n.slice(0),this.i=t.i.slice(0),this.e=t.e):this.reset()},s.hash.sha256.hash=function(t){return(new s.hash.sha256).update(t).finalize()},s.hash.sha256.prototype={blockSize:512,reset:function(){return this.n=this.N.slice(0),this.i=[],this.e=0,this},update:function(t){"string"==typeof t&&(t=s.codec.utf8String.toBits(t));var n,e=this.i=s.bitArray.concat(this.i,t);for(t=this.e=(n=this.e)+s.bitArray.bitLength(t),n=512+n&-512;n<=t;n+=512)this.C(e.splice(0,16));return this},finalize:function(){var t,n=this.i,e=this.n;for(t=(n=s.bitArray.concat(n,[s.bitArray.partial(1,1)])).length+2;15&t;t++)n.push(0);for(n.push(Math.floor(this.e/4294967296)),n.push(0|this.e);n.length;)this.C(n.splice(0,16));return this.reset(),e},N:[],a:[],w:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var n,e=0,l=2;t:for(;e<64;l++){for(n=2;n*n<=l;n++)if(l%n==0)continue t;e<8&&(this.N[e]=t(Math.pow(l,.5))),this.a[e]=t(Math.pow(l,1/3)),e++}},C:function(t){var n,e,l=t.slice(0),i=this.n,r=this.a,s=i[0],a=i[1],u=i[2],o=i[3],c=i[4],h=i[5],p=i[6],d=i[7];for(t=0;t<64;t++)n=(n=t<16?l[t]:l[15&t]=((n=l[t+1&15])>>>7^n>>>18^n>>>3^n<<25^n<<14)+((e=l[t+14&15])>>>17^e>>>19^e>>>10^e<<15^e<<13)+l[15&t]+l[t+9&15]|0)+d+(c>>>6^c>>>11^c>>>25^c<<26^c<<21^c<<7)+(p^c&(h^p))+r[t],d=p,p=h,h=c,c=o+n|0,o=u,u=a,s=n+((a=s)&u^o&(a^u))+(a>>>2^a>>>13^a>>>22^a<<30^a<<19^a<<10)|0;i[0]=i[0]+s|0,i[1]=i[1]+a|0,i[2]=i[2]+u|0,i[3]=i[3]+o|0,i[4]=i[4]+c|0,i[5]=i[5]+h|0,i[6]=i[6]+p|0,i[7]=i[7]+d|0}},s.mode.ccm={name:"ccm",encrypt:function(t,n,e,l,i){var r,a=n.slice(0),u=s.bitArray,o=u.bitLength(e)/8,c=u.bitLength(a)/8;if(i=i||64,l=l||[],o<7)throw new s.exception.invalid("ccm: iv must be at least 7 bytes");for(r=2;r<4&&c>>>8*r;r++);return r<15-o&&(r=15-o),e=u.clamp(e,8*(15-r)),n=s.mode.ccm.G(t,n,e,l,i,r),a=s.mode.ccm.I(t,a,e,n,i,r),u.concat(a.data,a.tag)},decrypt:function(t,n,e,l,i){i=i||64,l=l||[];var r=s.bitArray,a=r.bitLength(e)/8,u=r.bitLength(n),o=r.clamp(n,u-i),c=r.bitSlice(n,u-i);if(u=(u-i)/8,a<7)throw new s.exception.invalid("ccm: iv must be at least 7 bytes");for(n=2;n<4&&u>>>8*n;n++);if(n<15-a&&(n=15-a),e=r.clamp(e,8*(15-n)),o=s.mode.ccm.I(t,o,e,c,i,n),t=s.mode.ccm.G(t,o.data,e,l,i,n),!r.equal(o.tag,t))throw new s.exception.corrupt("ccm: tag doesn't match");return o.data},G:function(t,n,e,l,i,r){var a=[],u=s.bitArray,o=u.k;if((i/=8)%2||i<4||i>16)throw new s.exception.invalid("ccm: invalid tag length");if(l.length>4294967295||n.length>4294967295)throw new s.exception.bug("ccm: can't deal with 4GiB or more data");if(r=[u.partial(8,(l.length?64:0)|i-2<<2|r-1)],(r=u.concat(r,e))[3]|=u.bitLength(n)/8,r=t.encrypt(r),l.length)for((e=u.bitLength(l)/8)<=65279?a=[u.partial(16,e)]:e<=4294967295&&(a=u.concat([u.partial(16,65534)],[e])),a=u.concat(a,l),l=0;l<a.length;l+=4)r=t.encrypt(o(r,a.slice(l,l+4)));for(l=0;l<n.length;l+=4)r=t.encrypt(o(r,n.slice(l,l+4)));return u.clamp(r,8*i)},I:function(t,n,e,l,i,r){var a,u=s.bitArray;a=u.k;var o=n.length,c=u.bitLength(n);if(e=u.concat([u.partial(8,r-1)],e).concat([0,0,0]).slice(0,4),l=u.bitSlice(a(l,t.encrypt(e)),0,i),!o)return{tag:l,data:[]};for(a=0;a<o;a+=4)e[3]++,i=t.encrypt(e),n[a]^=i[0],n[a+1]^=i[1],n[a+2]^=i[2],n[a+3]^=i[3];return{tag:l,data:u.clamp(n,c)}}},s.mode.ocb2={name:"ocb2",encrypt:function(t,n,e,l,i,r){if(128!==s.bitArray.bitLength(e))throw new s.exception.invalid("ocb iv must be 128 bits");var a,u=s.mode.ocb2.A,o=s.bitArray,c=o.k,h=[0,0,0,0];e=u(t.encrypt(e));var p,d=[];for(l=l||[],i=i||64,a=0;a+4<n.length;a+=4)h=c(h,p=n.slice(a,a+4)),d=d.concat(c(e,t.encrypt(c(e,p)))),e=u(e);return p=n.slice(a),n=o.bitLength(p),a=t.encrypt(c(e,[0,0,0,n])),p=o.clamp(c(p,a),n),h=c(h,c(p,a)),h=t.encrypt(c(h,c(e,u(e)))),l.length&&(h=c(h,r?l:s.mode.ocb2.pmac(t,l))),d.concat(o.concat(p,o.clamp(h,i)))},decrypt:function(t,n,e,l,i,r){if(128!==s.bitArray.bitLength(e))throw new s.exception.invalid("ocb iv must be 128 bits");i=i||64;var a,u,o=s.mode.ocb2.A,c=s.bitArray,h=c.k,p=[0,0,0,0],d=o(t.encrypt(e)),b=s.bitArray.bitLength(n)-i,m=[];for(l=l||[],e=0;e+4<b/32;e+=4)a=h(d,t.decrypt(h(d,n.slice(e,e+4)))),p=h(p,a),m=m.concat(a),d=o(d);if(a=t.encrypt(h(d,[0,0,0,u=b-32*e])),a=h(a,c.clamp(n.slice(e),u)),p=h(p,a),p=t.encrypt(h(p,h(d,o(d)))),l.length&&(p=h(p,r?l:s.mode.ocb2.pmac(t,l))),!c.equal(c.clamp(p,i),c.bitSlice(n,b)))throw new s.exception.corrupt("ocb: tag doesn't match");return m.concat(c.clamp(a,u))},pmac:function(t,n){var e,l=s.mode.ocb2.A,i=s.bitArray,r=i.k,a=[0,0,0,0],u=t.encrypt([0,0,0,0]);for(u=r(u,l(l(u))),e=0;e+4<n.length;e+=4)u=l(u),a=r(a,t.encrypt(r(u,n.slice(e,e+4))));return n=n.slice(e),i.bitLength(n)<128&&(u=r(u,l(u)),n=i.concat(n,[-2147483648])),a=r(a,n),t.encrypt(r(l(r(u,l(u))),a))},A:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},s.misc.hmac=function(t,n){this.M=n=n||s.hash.sha256;var e=[[],[]],l=n.prototype.blockSize/32;for(this.l=[new n,new n],t.length>l&&(t=n.hash(t)),n=0;n<l;n++)e[0][n]=909522486^t[n],e[1][n]=1549556828^t[n];this.l[0].update(e[0]),this.l[1].update(e[1])},s.misc.hmac.prototype.encrypt=s.misc.hmac.prototype.mac=function(t,n){return t=new this.M(this.l[0]).update(t,n).finalize(),new this.M(this.l[1]).update(t).finalize()},s.misc.pbkdf2=function(t,n,e,l,i){if(e=e||1e3,l<0||e<0)throw s.exception.invalid("invalid params to pbkdf2");"string"==typeof t&&(t=s.codec.utf8String.toBits(t)),t=new(i=i||s.misc.hmac)(t);var r,a,u,o,c=[],h=s.bitArray;for(o=1;32*c.length<(l||1);o++){for(i=r=t.encrypt(h.concat(n,[o])),a=1;a<e;a++)for(r=t.encrypt(r),u=0;u<r.length;u++)i[u]^=r[u];c=c.concat(i)}return l&&(c=h.clamp(c,l)),c},s.random={randomWords:function(t,n){var e,l=[];if(0===(n=this.isReady(n)))throw new s.exception.notready("generator isn't seeded");for(2&n&&this.U(!(1&n)),n=0;n<t;n+=4)(n+1)%65536==0&&this.L(),e=this.u(),l.push(e[0],e[1],e[2],e[3]);return this.L(),l.slice(0,t)},setDefaultParanoia:function(t){this.t=t},addEntropy:function(t,n,e){e=e||"user";var l,i,r=(new Date).valueOf(),a=this.q[e],u=this.isReady();switch(void 0===(l=this.F[e])&&(l=this.F[e]=this.R++),void 0===a&&(a=this.q[e]=0),this.q[e]=(this.q[e]+1)%this.b.length,typeof t){case"number":break;case"object":if(void 0===n)for(e=n=0;e<t.length;e++)for(i=t[e];i>0;)n++,i>>>=1;this.b[a].update([l,this.J++,2,n,r,t.length].concat(t));break;case"string":void 0===n&&(n=t.length),this.b[a].update([l,this.J++,3,n,r,t.length]),this.b[a].update(t);break;default:throw new s.exception.bug("random: addEntropy only supports number, array or string")}this.j[a]+=n,this.f+=n,0===u&&(0!==this.isReady()&&this.K("seeded",Math.max(this.g,this.f)),this.K("progress",this.getProgress()))},isReady:function(t){return t=this.B[void 0!==t?t:this.t],this.g&&this.g>=t?this.j[0]>80&&(new Date).valueOf()>this.O?3:1:this.f>=t?2:0},getProgress:function(t){return this.g>=(t=this.B[t||this.t])?1[0]:this.f>t?1[0]:this.f/t},startCollectors:function(){if(!this.m){if(window.addEventListener)window.addEventListener("load",this.o,!1),window.addEventListener("mousemove",this.p,!1);else{if(!document.attachEvent)throw new s.exception.bug("can't attach event");document.attachEvent("onload",this.o),document.attachEvent("onmousemove",this.p)}this.m=!0}},stopCollectors:function(){this.m&&(window.removeEventListener?(window.removeEventListener("load",this.o),window.removeEventListener("mousemove",this.p)):window.detachEvent&&(window.detachEvent("onload",this.o),window.detachEvent("onmousemove",this.p)),this.m=!1)},addEventListener:function(t,n){this.r[t][this.Q++]=n},removeEventListener:function(t,n){var e;t=this.r[t];var l=[];for(e in t)t.hasOwnProperty[e]&&t[e]===n&&l.push(e);for(n=0;n<l.length;n++)delete t[e=l[n]]},b:[new s.hash.sha256],j:[0],z:0,q:{},J:0,F:{},R:0,g:0,f:0,O:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],s:void 0,t:6,m:!1,r:{progress:{},seeded:{}},Q:0,B:[0,48,64,96,128,192,256,384,512,768,1024],u:function(){for(var t=0;t<4&&(this.d[t]=this.d[t]+1|0,!this.d[t]);t++);return this.s.encrypt(this.d)},L:function(){this.a=this.u().concat(this.u()),this.s=new s.cipher.aes(this.a)},T:function(t){for(this.a=s.hash.sha256.hash(this.a.concat(t)),this.s=new s.cipher.aes(this.a),t=0;t<4&&(this.d[t]=this.d[t]+1|0,!this.d[t]);t++);},U:function(t){var n,e=[],l=0;for(this.O=e[0]=(new Date).valueOf()+3e4,n=0;n<16;n++)e.push(4294967296*Math.random()|0);for(n=0;n<this.b.length&&(e=e.concat(this.b[n].finalize()),l+=this.j[n],this.j[n]=0,t||!(this.z&1<<n));n++);this.z>=1<<this.b.length&&(this.b.push(new s.hash.sha256),this.j.push(0)),this.f-=l,l>this.g&&(this.g=l),this.z++,this.T(e)},p:function(t){s.random.addEntropy([t.x||t.clientX||t.offsetX,t.y||t.clientY||t.offsetY],2,"mouse")},o:function(){s.random.addEntropy(new Date,2,"loadtime")},K:function(t,n){var e;t=s.random.r[t];var l=[];for(e in t)t.hasOwnProperty(e)&&l.push(t[e]);for(e=0;e<l.length;e++)l[e](n)}},s.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(t,n,e,l){e=e||{},l=l||{};var i=s.json,r=i.c({iv:s.random.randomWords(4,0)},i.defaults);if(i.c(r,e),"string"==typeof r.salt&&(r.salt=s.codec.base64.toBits(r.salt)),"string"==typeof r.iv&&(r.iv=s.codec.base64.toBits(r.iv)),!s.mode[r.mode]||!s.cipher[r.cipher]||"string"==typeof t&&r.iter<=100||64!==r.ts&&96!==r.ts&&128!==r.ts||128!==r.ks&&192!==r.ks&&256!==r.ks||r.iv.length<2||r.iv.length>4)throw new s.exception.invalid("json encrypt: invalid parameters");return"string"==typeof t&&(t=(e=s.misc.cachedPbkdf2(t,r)).key.slice(0,r.ks/32),r.salt=e.salt),"string"==typeof n&&(n=s.codec.utf8String.toBits(n)),e=new s.cipher[r.cipher](t),i.c(l,r),l.key=t,r.ct=s.mode[r.mode].encrypt(e,n,r.iv,r.adata,r.tag),i.encode(i.V(r,i.defaults))},decrypt:function(t,n,e,l){e=e||{},l=l||{};var i=s.json;if("string"==typeof(n=i.c(i.c(i.c({},i.defaults),i.decode(n)),e,!0)).salt&&(n.salt=s.codec.base64.toBits(n.salt)),"string"==typeof n.iv&&(n.iv=s.codec.base64.toBits(n.iv)),!s.mode[n.mode]||!s.cipher[n.cipher]||"string"==typeof t&&n.iter<=100||64!==n.ts&&96!==n.ts&&128!==n.ts||128!==n.ks&&192!==n.ks&&256!==n.ks||!n.iv||n.iv.length<2||n.iv.length>4)throw new s.exception.invalid("json decrypt: invalid parameters");return"string"==typeof t&&(t=(e=s.misc.cachedPbkdf2(t,n)).key.slice(0,n.ks/32),n.salt=e.salt),e=new s.cipher[n.cipher](t),e=s.mode[n.mode].decrypt(e,n.ct,n.iv,n.adata,n.tag),i.c(l,n),l.key=t,s.codec.utf8String.fromBits(e)},encode:function(t){var n,e="{",l="";for(n in t)if(t.hasOwnProperty(n)){if(!n.match(/^[a-z0-9]+$/i))throw new s.exception.invalid("json encode: invalid property name");switch(e+=l+n+":",l=",",typeof t[n]){case"number":case"boolean":e+=t[n];break;case"string":e+='"'+escape(t[n])+'"';break;case"object":e+='"'+s.codec.base64.fromBits(t[n],1)+'"';break;default:throw new s.exception.bug("json encode: unsupported type")}}return e+"}"},decode:function(t){if(!(t=t.replace(/\s/g,"")).match(/^\{.*\}$/))throw new s.exception.invalid("json decode: this isn't json!");t=t.replace(/^\{|\}$/g,"").split(/,/);var n,e,l={};for(n=0;n<t.length;n++){if(!(e=t[n].match(/^([a-z][a-z0-9]*):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new s.exception.invalid("json decode: this isn't json!");l[e[1]]=e[2]?parseInt(e[2],10):e[1].match(/^(ct|salt|iv)$/)?s.codec.base64.toBits(e[3]):unescape(e[3])}return l},c:function(t,n,e){if(void 0===t&&(t={}),void 0===n)return t;var l;for(l in n)if(n.hasOwnProperty(l)){if(e&&void 0!==t[l]&&t[l]!==n[l])throw new s.exception.invalid("required parameter overridden");t[l]=n[l]}return t},V:function(t,n){var e,l={};for(e in t)t.hasOwnProperty(e)&&t[e]!==n[e]&&(l[e]=t[e]);return l},W:function(t,n){var e,l={};for(e=0;e<n.length;e++)void 0!==t[n[e]]&&(l[n[e]]=t[n[e]]);return l}},s.encrypt=s.json.encrypt,s.decrypt=s.json.decrypt,s.misc.S={},s.misc.cachedPbkdf2=function(t,n){var e,l=s.misc.S;return e=(n=n||{}).iter||1e3,(e=(l=l[t]=l[t]||{})[e]=l[e]||{firstSalt:n.salt&&n.salt.length?n.salt.slice(0):s.random.randomWords(2,0)})[l=void 0===n.salt?e.firstSalt:n.salt]=e[l]||s.misc.pbkdf2(t,l,n.iter),{key:e[l].slice(0),salt:l.slice(0)}};var a={};!function(){function t(t){var n=window.btoa(t);return(n=(n=n.split("=")[0]).replace(/\+/g,"-")).replace(/\//g,"_")}function n(t){var n=t;switch((n=(n=n.replace(/-/g,"+")).replace(/_/g,"/")).length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new i("Illegal base64url string!")}return window.atob(n)}function e(t){this.message=t,this.toString=function(){return"No such algorithm: "+this.message}}function l(t){this.message=t,this.toString=function(){return"Not implemented: "+this.message}}function i(t){this.message=t,this.toString=function(){return"Malformed input: "+this.message}}function r(t,n){if("sha256"!=t)throw new e("HMAC does not support hash "+t);this.hash=s.hash.sha256,this.key=s.codec.utf8String.toBits(n)}function u(t,n){if("sha1"==t)this.hash="sha1";else{if("sha256"!=t)throw new e("JWT algorithm: "+t);this.hash="sha256"}this.keyPEM=n}function o(t,n){this.objectStr=t,this.pkAlgorithm=n}r.prototype={update:function(t){this.data=t},finalize:function(){},sign:function(){var n=new s.misc.hmac(this.key,this.hash).encrypt(this.data);return t(window.atob(s.codec.base64.fromBits(n)))},verify:function(n){var e=new s.misc.hmac(this.key,this.hash).encrypt(this.data);return t(window.atob(s.codec.base64.fromBits(e)))==n}},u.prototype={update:function(t){this.data=t},finalize:function(){},sign:function(){var e=new RSAKey;e.readPrivateKeyFromPEMString(this.keyPEM);var l=e.signString(this.data,this.hash);return t(n(hex2b64(l)))},verify:function(t){return this.keyPEM.verifyString(this.data,function(t){var n,e,l="",i=0;for(n=0;n<t.length;++n){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t.charAt(n));r<0||(0==i?(l+=int2char(r>>2),e=3&r,i=1):1==i?(l+=int2char(e<<2|r>>4),e=15&r,i=2):2==i?(l+=int2char(e),l+=int2char(r>>2),e=3&r,i=3):(l+=int2char(e<<2|r>>4),l+=int2char(15&r),i=0))}return 1==i&&(l+=int2char(e<<2)),l}(t))}};var c={parse:function(t){var e=t.split(".");if(3!=e.length)throw new MalformedWebToken("Must have three parts");var l=new o;return l.headerSegment=e[0],l.payloadSegment=e[1],l.cryptoSegment=e[2],l.pkAlgorithm=n(e[0]),l}};function h(t){return"string"==typeof t?JSON.parse(t):t}function p(t,n){if("ES256"===t)throw new l("ECDSA-SHA256 not yet implemented");if("ES384"===t)throw new l("ECDSA-SHA384 not yet implemented");if("ES512"===t)throw new l("ECDSA-SHA512 not yet implemented");if("HS256"===t)return new r("sha256",n);if("HS384"===t)throw new l("HMAC-SHA384 not yet implemented");if("HS512"===t)throw new l("HMAC-SHA512 not yet implemented");if("RS256"===t)return new u("sha256",n);throw"RS384"===t?new l("RSA-SHA384 not yet implemented"):"RS512"===t?new l("RSA-SHA512 not yet implemented"):new e("Unknown algorithm: "+t)}o.prototype={serialize:function(n){var e=p(h(this.pkAlgorithm).alg,n),l=t(this.pkAlgorithm),i=t(this.objectStr);return e.update(l+"."+i),e.finalize(),l+"."+i+"."+e.sign()},verify:function(t){var n=p(h(this.pkAlgorithm).alg,t);return n.update(this.headerSegment+"."+this.payloadSegment),n.finalize(),n.verify(this.cryptoSegment)}},a.WebToken=o,a.WebTokenParser=c,a.base64urlencode=t,a.base64urldecode=n}(),e.d(n,"a",function(){return u});var u=function(){function t(t){this.http=t,this.hasToken=!1,localStorage.getItem("jwt")&&(this.hasToken=!0)}return t.prototype.doLogin=function(t,n){void 0===n&&(n=!1);var e=t;n||(localStorage.setItem("dsm",t.dsmport),e=this.encode(t));var l={headers:new i.g({"X-Cred":e})};return this.http.post(localStorage.getItem("dsm")+"/login",null,l).pipe(Object(r.a)(this.handleError))},t.prototype.autoLogin=function(){var t=localStorage.getItem("jwt");return t?this.doLogin(t,!0):(localStorage.removeItem("jwt"),Object(l.a)(null))},t.prototype.encode=function(t){return new a.WebToken(JSON.stringify(t),JSON.stringify({alg:"HS256",typ:"JWT"})).serialize("jsmusicdbnext")},t.prototype.handleError=function(t){return Object(l.a)(null)},t}()},XtVx:function(t,n,e){"use strict";e.d(n,"a",function(){return i});var l=e("K9Ia"),i=function(){function t(){this.pathAnnouncementSource=new l.a,this.pageAnnouncementSource=new l.a,this.pathAnnounced$=this.pathAnnouncementSource.asObservable(),this.pageAnnounced$=this.pageAnnouncementSource.asObservable()}return t.prototype.announcePath=function(t){this.pathAnnouncementSource.next(t)},t.prototype.announcePage=function(t,n){void 0===n&&(n=null),this.pageAnnouncementSource.next({page:t,letter:n})},t}()},crnd:function(t,n){function e(t){return Promise.resolve().then(function(){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n})}e.keys=function(){return[]},e.resolve=e,t.exports=e,e.id="crnd"},hDf6:function(t,n,e){"use strict";e.d(n,"a",function(){return l});var l=function(){return function(){}}()},ktVm:function(t,n,e){"use strict";var l=e("K9Ia"),i=e("/1T7"),r=e("LNEh"),s=function(){function t(t){this.artists=[],this.active=!1,t.album&&t.title&&(this.letter=t.letter||this.getFirstLetterOf(t.albumArtist||t.albumartist||t.artist),"1"===this.letter&&(this.letter="#"),this.escapedLetter=encodeURIComponent(this.letter))}return t.prototype.url=function(){return"/letter/"+this.escapedLetter+"/"},t.prototype.sortArtistsBy=function(t,n){void 0===t&&(t="sortName"),void 0===n&&(n="asc"),this.artists.sort("albums"===t?function(t,e){return t.albums.length>e.albums.length?"asc"===n?-1:1:t.albums.length<e.albums.length?"asc"===n?1:-1:0}:function(e,l){if(-1!==t.indexOf(".")){var i=t.split(".");return e[i[0]][i[1]]<l[i[0]][i[1]]?"asc"===n?-1:1:e[i[0]][i[1]]>l[i[0]][i[1]]?"asc"===n?1:-1:0}return e[t].toUpperCase()<l[t].toUpperCase()?"asc"===n?-1:1:e[t].toUpperCase()>l[t].toUpperCase()?"asc"===n?1:-1:0})},t.prototype.sortAndReturnArtistsBy=function(t,n){return void 0===t&&(t="name"),void 0===n&&(n="asc"),this.sortArtistsBy(t,n),this.artists},t.prototype.getFirstLetterOf=function(t){var n="";return n=this.stripFromName(t,["the ",'"',"a "]),this.groupIfSpecialChar(n.substr(0,1))},t.prototype.stripFromName=function(t,n){var e=t?t.toUpperCase():"";return e=e.trim(),n.forEach(function(t){var n=t.toUpperCase();0===e.indexOf(n)&&(e=e.substring(n.length))}),e},t.prototype.groupIfSpecialChar=function(t){return-1!==["1","2","3","4","5","6","7","8","9","0","(",")","[","]","{","}","_","-","."].indexOf(t)?"#":t},t}(),a=e("/+cc"),u=e.n(a),o=function(){return function(){var t=this;this.doSearch=function(n){var e=n.query,l=n.keys;return new u.a(n.list,t.options(void 0===l?["name"]:l)).search(e)},this.options=function(t){return{keys:t,threshold:.25,shouldSort:!0}}}}(),c=e("uwnU"),h=function(){return function(t){this.albums=[],this.sanitize=function(t){var n=parseInt(t,10);return isNaN(n)&&(n=0),n},t.year&&(this.year=this.sanitize(t.year))}}(),p="1.5.0",d=function(){function t(){this.artists={},this.albums={},this.tracks={},this.letters={},this.years={},this.sortedLetters=[],this.sortedAlbums=[],this.isCoreParsed=!1,this.coreParsedSource=new l.a,this.coreParsed$=this.coreParsedSource.asObservable(),this.totals={artists:0,albums:0,tracks:0,playingTime:0,parsingTime:0},this.latestAdditions=[],this.search=new o,console.info("Core init "+p)}return t.prototype.resetCollection=function(){this.artists={},this.albums={},this.tracks={},this.letters={},this.years={},this.sortedLetters=[],this.sortedAlbums=[],this.totals={artists:0,albums:0,tracks:0,playingTime:0,parsingTime:0},this.latestAdditions=[]},t.prototype.parseSourceJson=function(t,n){var e,l,i=this;void 0===n&&(n=!0);var r=(new Date).getTime();if(t.length)try{for(var s=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}(t),a=s.next();!a.done;a=s.next())this.parseLine(a.value,n)}catch(c){e={error:c}}finally{try{a&&!a.done&&(l=s.return)&&l.call(s)}finally{if(e)throw e.error}}else t.tree&&this.parseTree(t.tree);var u=Object.keys(this.letters).sort(function(t,n){return t<n?-1:1}),o=[];u.forEach(function(t,n){o.push(i.letters[t]),i.letters[t].sortAndReturnArtistsBy("name","asc")}),this.sortedLetters=o,this.totals.parsingTime+=(new Date).getTime()-r,this.coreParsedSource.next(!0),this.isCoreParsed=!0},t.prototype.getTrackByArtistAndName=function(t,n){var e=new r.a({name:t,dummy:!0}),l=this.artists[e.sortName],i=null;return l&&l.albums.some(function(t){t.tracks.some(function(t){if(t.title&&t.title.toLowerCase()===n.toLowerCase())return i||(i=t),!0})}),i},t.prototype.getTrackById=function(t){var n=new c.a({});return this.tracks.forEach(function(e){e.id===t&&(n=e)}),n},t.prototype.getArtistByName=function(t){var n=new r.a({name:t,dummy:!0});return this.artists[n.sortName]},t.prototype.getAlbumByArtistAndName=function(t,n){var e=null;return t.albums.forEach(function(t){t.name.toLowerCase()===n.toLowerCase()&&(e=t)}),e},t.prototype.getTrackByAlbumAndName=function(t,n){var e=null;return t.tracks.forEach(function(t){t.title.toLowerCase()===n.toLowerCase()&&(e=t)}),e},t.prototype.artistsList=function(){var t=this,n=[];return Object.keys(this.artists).sort(function(t,n){return t<n?-1:1}).forEach(function(e,l){n.push(t.artists[e])}),n},t.prototype.trackList=function(){var t=this,n=[];return Object.keys(this.tracks).sort(function(t,n){return t<n?-1:1}).forEach(function(e,l){n.push(t.tracks[e])}),n},t.prototype.searchArtist=function(t){return this.search.doSearch({query:t,list:this.artistsList()})},t.prototype.searchAlbum=function(t){return this.search.doSearch({query:t,list:this.sortedAlbums})},t.prototype.searchTrack=function(t){return this.search.doSearch({query:t,keys:["title"],list:this.trackList()})},t.prototype.getLatestAdditions=function(t){return void 0===t&&(t=14),0!==this.latestAdditions.length?this.latestAdditions:(this.sortedAlbums.sort(function(t,n){return t.modified>n.modified?-1:t.modified<n.modified?1:0}),this.latestAdditions=this.sortedAlbums.splice(0,t),this.latestAdditions)},t.prototype.getNextAlbum=function(t){var n=t.artist,e=n.albums.indexOf(t),l=n.albums[e+1];return l||(l=this.getNextArtist(n).albums[0]),l},t.prototype.getNextArtist=function(t){var n=t.letter,e=n.artists.indexOf(t),l=n.artists[e+1];return l||(l=this.getNextLetter(n).artists[0]),l},t.prototype.getNextLetter=function(t){var n=this.sortedLetters.indexOf(t),e=this.sortedLetters[n+1];return e||(e=this.sortedLetters[0]),e},t.prototype.instanceIfPresent=function(t,n,e,l,i){var r=null;return e[n]?r=e[n]:(e[n]=l,r=l,i(t)),r},t.prototype.handleLetter=function(t){return this.instanceIfPresent(this,t.letter,this.letters,t,function(t){})},t.prototype.handleArtist=function(t,n){return this.instanceIfPresent(this,n.sortName,this.artists,n,function(e){t.artists.push(n),n.letter=t,e.totals.artists++})},t.prototype.handleAlbum=function(t,n,e){return void 0===e&&(e=!0),this.instanceIfPresent(this,t.sortName+"|"+n.sortName,this.albums,n,function(l){if("flac"===n.type&&e||"flac"!==n.type)if(n.artist=t,t.albums.push(n),t.sortAndReturnAlbumsBy("year","asc"),l.sortedAlbums.push(n),l.totals.albums++,l.years[n.year])l.years[n.year].albums.push(n);else{var i=new h(n);i.albums.push(n),l.years[i.year]=i}})},t.prototype.handleTrack=function(t,n,e,l){return void 0===l&&(l=!0),this.instanceIfPresent(this,e.id,this.tracks,e,function(i){if(n.type=n.type&&n.type!==e.type?"mixed":e.type,"flac"===e.type&&l||"flac"!==e.type){i.totals.tracks++,i.totals.playingTime+=e.duration,e.artist=t,e.album=n,n.tracks.push(e);var r=e.disc;n.discs["disc-"+r]?n.discs["disc-"+r].push(e):(n.discs["disc-"+r]=[],n.discs["disc-"+r].push(e)),n.discs["disc-"+r].sort(function(t,n){return t.number<n.number?-1:1}),n.tracks.sort(function(t,n){return t.disc<n.disc?-1:t.disc===n.disc&&t.number<n.number?-1:1})}else console.warn("skipping flac track, flac is not supported")})},t.prototype.parseLine=function(t,n){void 0===n&&(n=!0);var e=new s(t);e.letter&&(e=this.handleLetter(e));var l=new r.a(t);l.name&&(l=this.handleArtist(e,l));var a=new i.a(t);a.name&&(a=this.handleAlbum(l,a,n));var u=new c.a(t);u.title&&(u=this.handleTrack(l,a,u,n))},t.prototype.parseTree=function(t){for(var n in t){var e=new s(t[n]);for(var l in e=this.handleLetter(e),t[n].artists){var a=new r.a(t[n].artists[l]);for(var u in a=this.handleArtist(e,a),t[n].artists[l].albums){var o=new i.a(t[n].artists[l].albums[u]);for(var h in o=this.handleAlbum(a,o),t[n].artists[l].albums[u].tracks){var p=new c.a(t[n].artists[l].albums[u].tracks[h]);p=this.handleTrack(a,o,p)}}}}},t}();e.d(n,"a",function(){return b});var b=function(){function t(){this.core=new d}return t.prototype.getCore=function(){return this.core},t}()},t083:function(t,n,e){"use strict";var l=e("K9Ia"),i=e("XlPw"),r=e("9Z1F"),s=e("t/Na"),a=e("ztCj"),u=function(){function t(){}return t.prototype.encodeKey=function(t){return encodeURIComponent(t)},t.prototype.encodeValue=function(t){return encodeURIComponent(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();e.d(n,"a",function(){return h});var o="956c1818ded606576d6941de5ff793a5",c="4d183e73f7578dee78557665e9be3acc",h=function(){function t(t){this.http=t,this.manualScrobbleListSource=new l.a,this.manualScrobbleList$=this.manualScrobbleListSource.asObservable(),this.hexcase=0,this.b64pad=""}return t.prototype.getLovedTracks=function(t){return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:{api_key:o,format:"json",limit:"1000",method:"user.getlovedtracks",user:t}}).pipe(Object(r.a)(this.handleError))},t.prototype.toggleLoved=function(t){var n=localStorage.getItem("lastfm-token"),e=(new URLSearchParams,t.isLoved?"track.love":"track.unlove"),l=new s.h({encoder:new u}).set("method",e).set("api_key",o).set("api_sig",this.signTrack(t.trackArtist,t.album.name,t.title,null,n,e)).set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("sk",n),i=new s.g({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:l,headers:i}).pipe(Object(r.a)(this.handleError))},t.prototype.getTrackInfo=function(t,n){if(t){var e=new s.h({encoder:new u}).set("method","track.getInfo").set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("api_key",o).set("format","json").set("user",n);return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:e}).pipe(Object(r.a)(this.handleError))}return Object(i.a)(null)},t.prototype.getTopArtists=function(t){var n=new s.h({encoder:new u}).set("api_key",o).set("format","json").set("limit","50").set("method","user.gettopartists").set("period","1month").set("user",t);return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:n}).pipe(Object(r.a)(this.handleError))},t.prototype.getSimilairArtists=function(t){var n=new s.h({encoder:new u}).set("api_key",o).set("format","json").set("limit","20").set("autocorrect","1").set("method","artist.getSimilar").set("artist",t.name);return this.http.get("https://ws.audioscrobbler.com/2.0/",{params:n}).pipe(Object(r.a)(this.handleError))},t.prototype.authenticate=function(t){var n=new s.h({encoder:new u}).set("api_key",o).set("api_sig",this.signAuthentication(t.user,t.password)).set("format","json").set("username",t.user).set("password",t.password),e=new s.g({"Content-Type":"application/x-www-form-urlencoded"});return this.http.post("https://ws.audioscrobbler.com/2.0/?method=auth.getMobileSession",null,{params:n,headers:e}).pipe(Object(r.a)(this.handleError))},t.prototype.announceNowPlaying=function(t){if("mdb-skipped"!==localStorage.getItem("lastfm-username")){var n=new Date,e=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes()+n.getTimezoneOffset(),n.getSeconds())/1e3,l=localStorage.getItem("lastfm-token"),i=new s.g({"Content-Type":"application/x-www-form-urlencoded"}),a=new s.h({encoder:new u}).set("method","track.updateNowPlaying").set("api_key",o).set("api_sig",this.signTrack(t.trackArtist,t.album.name,t.title,e,l,"track.updateNowPlaying")).set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("timestamp",e.toString()).set("sk",l);return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:a,headers:i}).pipe(Object(r.a)(this.handleError))}},t.prototype.scrobbleTrack=function(t){var n=this,e=localStorage.getItem("lastfm-username"),l=new Date,i=Date.UTC(l.getFullYear(),l.getMonth(),l.getDate(),l.getHours(),l.getMinutes()+l.getTimezoneOffset(),l.getSeconds())/1e3;if("mdb-skipped"!==e){var c=localStorage.getItem("lastfm-token");if(!this.booleanState("manual-scrobble-state")){var h=new s.g({"Content-Type":"application/x-www-form-urlencoded"}),p=new s.h({encoder:new u}).set("method","track.scrobble").set("api_key",o).set("api_sig",this.signTrack(t.trackArtist,t.album.name,t.title,i,c,"track.scrobble")).set("artist",t.trackArtist).set("album",t.album.name).set("track",t.title).set("timestamp",i.toString()).set("sk",c);return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:p,headers:h}).pipe(Object(r.a)(this.handleError))}Object(a.c)("manual-scrobble-list").then(function(e){var l=e||[],r={artist:t.trackArtist,album:t.album.name,track:t.title,timestamp:i.toString()};l.unshift(r),Object(a.d)("manual-scrobble-list",l),n.manualScrobbleListSource.next(l)})}else{var d="art-"+t.trackArtist+"-"+t.album.name;Object(a.c)(d).then(function(e){n.saveInLocal(t,i,e||"global/images/no-cover.png")})}},t.prototype.updateManualScrobbleList=function(){var t=this;Object(a.c)("manual-scrobble-list").then(function(n){t.manualScrobbleListSource.next(n||[])})},t.prototype.saveInLocal=function(t,n,e){var l={artist:{"#text":t.trackArtist},album:{"#text":t.album.name},image:[{"#text":e}],name:t.title,date:{uts:n}},i=[];Object(a.c)("recentlyListened").then(function(t){t&&(i=t.tracks).length>10&&(i=i.splice(0,10)),i.unshift(l);var n={_id:"recentlyListened",tracks:i};Object(a.d)(n._id,n.tracks)})},t.prototype.scrobbleCachedTrack=function(t){var n=localStorage.getItem("lastfm-token"),e=new s.g({"Content-Type":"application/x-www-form-urlencoded"}),l=new s.h({encoder:new u}).set("method","track.scrobble").set("api_key",o).set("api_sig",this.signTrack(t.artist,t.album,t.track,t.timestamp,n,"track.scrobble")).set("artist",t.artist).set("album",t.album).set("track",t.track).set("timestamp",t.timestamp.toString()).set("sk",n);return this.http.post("https://ws.audioscrobbler.com/2.0/",null,{params:l,headers:e,responseType:"text"}).pipe(Object(r.a)(this.handleError))},t.prototype.booleanState=function(t){var n=localStorage.getItem(t);return!(!n||"true"!==n)},t.prototype.signAuthentication=function(t,n){return this.hex_md5("api_key"+o+"methodauth.getMobileSessionpassword"+n+"username"+t+c)},t.prototype.signTrack=function(t,n,e,l,i,r){return this.hex_md5(l?"album"+n+"api_key"+o+"artist"+t+"method"+r+"sk"+i+"timestamp"+l+"track"+e+c:"album"+n+"api_key"+o+"artist"+t+"method"+r+"sk"+i+"track"+e+c)},t.prototype.handleError=function(t){return Object(i.a)(null)},t.prototype.hex_md5=function(t){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(t)))},t.prototype.rstr2hex=function(t){try{this.hexcase=this.hexcase}catch(r){this.hexcase=0}for(var n,e=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",l="",i=0;i<t.length;i++)n=t.charCodeAt(i),l+=e.charAt(n>>>4&15)+e.charAt(15&n);return l},t.prototype.rstr_md5=function(t){return this.binl2rstr(this.binl_md5(this.rstr2binl(t),8*t.length))},t.prototype.str2rstr_utf8=function(t){for(var n,e,l="",i=-1;++i<t.length;)n=t.charCodeAt(i),e=i+1<t.length?t.charCodeAt(i+1):0,55296<=n&&n<=56319&&56320<=e&&e<=57343&&(n=65536+((1023&n)<<10)+(1023&e),i++),n<=127?l+=String.fromCharCode(n):n<=2047?l+=String.fromCharCode(192|n>>>6&31,128|63&n):n<=65535?l+=String.fromCharCode(224|n>>>12&15,128|n>>>6&63,128|63&n):n<=2097151&&(l+=String.fromCharCode(240|n>>>18&7,128|n>>>12&63,128|n>>>6&63,128|63&n));return l},t.prototype.binl2rstr=function(t){for(var n="",e=0;e<32*t.length;e+=8)n+=String.fromCharCode(t[e>>5]>>>e%32&255);return n},t.prototype.binl_md5=function(t,n){t[n>>5]|=128<<n%32,t[14+(n+64>>>9<<4)]=n;for(var e=1732584193,l=-271733879,i=-1732584194,r=271733878,s=0;s<t.length;s+=16){var a=e,u=l,o=i,c=r;e=this.md5_ff(e,l,i,r,t[s+0],7,-680876936),r=this.md5_ff(r,e,l,i,t[s+1],12,-389564586),i=this.md5_ff(i,r,e,l,t[s+2],17,606105819),l=this.md5_ff(l,i,r,e,t[s+3],22,-1044525330),e=this.md5_ff(e,l,i,r,t[s+4],7,-176418897),r=this.md5_ff(r,e,l,i,t[s+5],12,1200080426),i=this.md5_ff(i,r,e,l,t[s+6],17,-1473231341),l=this.md5_ff(l,i,r,e,t[s+7],22,-45705983),e=this.md5_ff(e,l,i,r,t[s+8],7,1770035416),r=this.md5_ff(r,e,l,i,t[s+9],12,-1958414417),i=this.md5_ff(i,r,e,l,t[s+10],17,-42063),l=this.md5_ff(l,i,r,e,t[s+11],22,-1990404162),e=this.md5_ff(e,l,i,r,t[s+12],7,1804603682),r=this.md5_ff(r,e,l,i,t[s+13],12,-40341101),i=this.md5_ff(i,r,e,l,t[s+14],17,-1502002290),l=this.md5_ff(l,i,r,e,t[s+15],22,1236535329),e=this.md5_gg(e,l,i,r,t[s+1],5,-165796510),r=this.md5_gg(r,e,l,i,t[s+6],9,-1069501632),i=this.md5_gg(i,r,e,l,t[s+11],14,643717713),l=this.md5_gg(l,i,r,e,t[s+0],20,-373897302),e=this.md5_gg(e,l,i,r,t[s+5],5,-701558691),r=this.md5_gg(r,e,l,i,t[s+10],9,38016083),i=this.md5_gg(i,r,e,l,t[s+15],14,-660478335),l=this.md5_gg(l,i,r,e,t[s+4],20,-405537848),e=this.md5_gg(e,l,i,r,t[s+9],5,568446438),r=this.md5_gg(r,e,l,i,t[s+14],9,-1019803690),i=this.md5_gg(i,r,e,l,t[s+3],14,-187363961),l=this.md5_gg(l,i,r,e,t[s+8],20,1163531501),e=this.md5_gg(e,l,i,r,t[s+13],5,-1444681467),r=this.md5_gg(r,e,l,i,t[s+2],9,-51403784),i=this.md5_gg(i,r,e,l,t[s+7],14,1735328473),l=this.md5_gg(l,i,r,e,t[s+12],20,-1926607734),e=this.md5_hh(e,l,i,r,t[s+5],4,-378558),r=this.md5_hh(r,e,l,i,t[s+8],11,-2022574463),i=this.md5_hh(i,r,e,l,t[s+11],16,1839030562),l=this.md5_hh(l,i,r,e,t[s+14],23,-35309556),e=this.md5_hh(e,l,i,r,t[s+1],4,-1530992060),r=this.md5_hh(r,e,l,i,t[s+4],11,1272893353),i=this.md5_hh(i,r,e,l,t[s+7],16,-155497632),l=this.md5_hh(l,i,r,e,t[s+10],23,-1094730640),e=this.md5_hh(e,l,i,r,t[s+13],4,681279174),r=this.md5_hh(r,e,l,i,t[s+0],11,-358537222),i=this.md5_hh(i,r,e,l,t[s+3],16,-722521979),l=this.md5_hh(l,i,r,e,t[s+6],23,76029189),e=this.md5_hh(e,l,i,r,t[s+9],4,-640364487),r=this.md5_hh(r,e,l,i,t[s+12],11,-421815835),i=this.md5_hh(i,r,e,l,t[s+15],16,530742520),l=this.md5_hh(l,i,r,e,t[s+2],23,-995338651),e=this.md5_ii(e,l,i,r,t[s+0],6,-198630844),r=this.md5_ii(r,e,l,i,t[s+7],10,1126891415),i=this.md5_ii(i,r,e,l,t[s+14],15,-1416354905),l=this.md5_ii(l,i,r,e,t[s+5],21,-57434055),e=this.md5_ii(e,l,i,r,t[s+12],6,1700485571),r=this.md5_ii(r,e,l,i,t[s+3],10,-1894986606),i=this.md5_ii(i,r,e,l,t[s+10],15,-1051523),l=this.md5_ii(l,i,r,e,t[s+1],21,-2054922799),e=this.md5_ii(e,l,i,r,t[s+8],6,1873313359),r=this.md5_ii(r,e,l,i,t[s+15],10,-30611744),i=this.md5_ii(i,r,e,l,t[s+6],15,-1560198380),l=this.md5_ii(l,i,r,e,t[s+13],21,1309151649),e=this.md5_ii(e,l,i,r,t[s+4],6,-145523070),r=this.md5_ii(r,e,l,i,t[s+11],10,-1120210379),i=this.md5_ii(i,r,e,l,t[s+2],15,718787259),l=this.md5_ii(l,i,r,e,t[s+9],21,-343485551),e=this.safe_add(e,a),l=this.safe_add(l,u),i=this.safe_add(i,o),r=this.safe_add(r,c)}return Array(e,l,i,r)},t.prototype.rstr2binl=function(t){for(var n=Array(t.length>>2),e=0;e<n.length;e++)n[e]=0;for(e=0;e<8*t.length;e+=8)n[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return n},t.prototype.md5_cmn=function(t,n,e,l,i,r){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(n,t),this.safe_add(l,r)),i),e)},t.prototype.md5_ff=function(t,n,e,l,i,r,s){return this.md5_cmn(n&e|~n&l,t,n,i,r,s)},t.prototype.md5_gg=function(t,n,e,l,i,r,s){return this.md5_cmn(n&l|e&~l,t,n,i,r,s)},t.prototype.md5_hh=function(t,n,e,l,i,r,s){return this.md5_cmn(n^e^l,t,n,i,r,s)},t.prototype.md5_ii=function(t,n,e,l,i,r,s){return this.md5_cmn(e^(n|~l),t,n,i,r,s)},t.prototype.safe_add=function(t,n){var e=(65535&t)+(65535&n);return(t>>16)+(n>>16)+(e>>16)<<16|65535&e},t.prototype.bit_rol=function(t,n){return t<<n|t>>>32-n},t}()},ufXC:function(t,n,e){"use strict";e.d(n,"a",function(){return a});var l=e("ztCj"),i=e("K9Ia"),r=e("KI15"),s=(e("Gcu2"),e("ktVm"),e("t083"),function(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var l,i,r=e.call(t),s=[];try{for(;(void 0===n||n-- >0)&&!(l=r.next()).done;)s.push(l.value)}catch(a){i={error:a}}finally{try{l&&!l.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return s}),a=function(){function t(t,n,e){var l=this;this.lastFMService=t,this.coreService=n,this.playlistService=e,this.playlistSource=new i.a,this.volumeSource=new i.a,this.hideVolumeWindowAsSource=new i.a,this.playlistAnnounced$=this.playlistSource.asObservable(),this.volumeAnnounced=this.volumeSource.asObservable(),this.hideVolumeWindowAnnounced$=this.hideVolumeWindowAsSource.asObservable(),this.isPlaying=!1,this.isPaused=!1,this.isShuffled=!1,this.forceRestart=!1,this.volume=100,this.lastfmUserName=localStorage.getItem("lastfm-username"),this.subscription=this.playlistService.playlistAnnounced$.subscribe(function(t){l.doPlayPlaylist(t,0,!0,l.isShuffled)})}return t.prototype.setPosition=function(t){this.position=t,this.announce(),this.position=null},t.prototype.doPlayAlbum=function(t,n,e,l){void 0===e&&(e=!1),void 0===l&&(l=!1),this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.setPlaylist(t,n,e,l,"album"),this.announce()},t.prototype.doQueueAlbum=function(t){var n=this.currentPlaylist,e=n.playlist,l=n.startIndex,i=new r.a;i.name="queued playlist",i.type="queue",i.tracks=function(){for(var t=[],n=0;n<arguments.length;n++)t=t.concat(s(arguments[n]));return t}(e.tracks,t.tracks),this.setPlaylist(i,l,!1,!1,"playlist")},t.prototype.doPlayPlaylist=function(t,n,e,l){void 0===e&&(e=!1),void 0===l&&(l=!1),this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.setPlaylist(t,n,e,l,"playlist"),this.announce()},t.prototype.doPlayTrack=function(t){this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1);var n=new r.a;n.isOwn=!0,n.name=t.title,n.tracks.push(t),this.currentPlaylist={playlist:n,startIndex:0,isPlaying:this.isPlaying=!0,isPaused:this.isPaused=!1,isShuffled:!1,forceRestart:this.forceRestart=!0,isContinues:!1},this.announce()},t.prototype.nextPlaylist=function(t){if(this.booleanState("continues-play"))if("random"===t){var n=this.playlistService.generateRandom();this.doPlayPlaylist(n,0,!0,this.isShuffled)}else this.playlistService.generateRadio();else this.stop()},t.prototype.nextAlbum=function(t){if(this.booleanState("continues-play")){var n=this.coreService.getCore().getNextAlbum(t);n?this.doPlayAlbum(n,0,!0,this.isShuffled):(console.warn("no new album found, stopping playback"),this.stop())}else this.stop()},t.prototype.playlistToString=function(){var t=[];return this.currentPlaylist.playlist.tracks.forEach(function(n){n&&t.push(n.id)}),JSON.stringify({ids:t,isShuffled:this.isShuffled,isContinues:this.currentPlaylist.isContinues,current:this.currentPlaylist.startIndex,type:this.currentPlaylist.type})},t.prototype.playlistSync=function(){var t=[];return this.currentPlaylist.playlist.tracks.forEach(function(n){n&&t.push(n.id)}),{ids:t,isShuffled:this.isShuffled,isContinues:this.currentPlaylist.isContinues,current:this.currentPlaylist.startIndex,type:this.currentPlaylist.type}},t.prototype.getCurrentPlaylist=function(){return this.currentPlaylist},t.prototype.shufflePlaylist=function(t){this.isShuffled=t,this.currentPlaylist.playlist.tracks.sort(this.sortPlaylist),t&&(this.currentPlaylist.playlist.tracks=this.shuffle(this.currentPlaylist.playlist.tracks)),this.currentPlaylist.startIndex=this.currentPlaylist.playlist.tracks.indexOf(this.currentTrack),this.currentPlaylist.forceRestart=!1,this.announce()},t.prototype.sortPlaylist=function(t,n){return t.disc<n.disc?-1:t.disc>n.disc?1:t.number<n.number?-1:t.number>n.number?1:0},t.prototype.shuffle=function(t){for(var n=t.length-1;n>0;n--){var e=Math.floor(Math.random()*(n+1)),l=t[n];t[n]=t[e],t[e]=l}return t},t.prototype.next=function(){this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.currentPlaylist&&(this.currentPlaylist.startIndex++,this.currentPlaylist.forceRestart=!1,this.announce())},t.prototype.prev=function(){this.currentTrack&&(this.currentTrack.isPaused=!1,this.currentTrack.isPlaying=!1),this.currentPlaylist&&(this.currentPlaylist.startIndex--,this.currentPlaylist.startIndex<=0&&(this.currentPlaylist.startIndex=0),this.currentPlaylist.forceRestart=!1,this.announce())},t.prototype.pause=function(){this.currentPlaylist&&(this.isPlaying=!1,this.isPaused=!0,this.currentPlaylist.forceRestart=!1,this.announce())},t.prototype.resume=function(){this.currentPlaylist&&(this.isPlaying=!0,this.isPaused=!1,this.currentPlaylist.forceRestart=!1,this.announce())},t.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,this.currentPlaylist=null,Object(l.b)("current-playlist"),localStorage.removeItem("current-time"),this.playlistSource.next(this.currentPlaylist)},t.prototype.togglePlayPause=function(){this.isPlaying?this.pause():this.resume()},t.prototype.announce=function(){var t=this;this.currentPlaylist&&(this.currentTrack=this.currentPlaylist.playlist.tracks[this.currentPlaylist.startIndex],this.lastfmUserName&&this.lastFMService.getTrackInfo(this.currentTrack,this.lastfmUserName).subscribe(function(n){t.currentTrack&&n.track&&(t.currentTrack.isLoved="1"===n.track.userloved)}),this.currentTrack&&(this.currentTrack.isPaused=this.isPaused,this.currentTrack.isPlaying=this.isPlaying,this.currentPlaylist.isPlaying=this.isPlaying,this.currentPlaylist.isPaused=this.isPaused,this.currentPlaylist.isShuffled=this.isShuffled,this.currentPlaylist.position=this.position,Object(l.d)("current-playlist",this.playlistSync()),this.playlistSource.next(this.currentPlaylist)))},t.prototype.getVolume=function(){return this.volume},t.prototype.setVolume=function(t){this.volume=t,this.volumeSource.next(this.volume)},t.prototype.hideVolumeControl=function(){this.hideVolumeWindowAsSource.next(!0)},t.prototype.booleanState=function(t){var n=localStorage.getItem(t);return!(!n||"true"!==n)},t.prototype.setPlaylist=function(t,n,e,l,i){void 0===n&&(n=0),void 0===e&&(e=!0),void 0===l&&(l=!1),void 0===i&&(i="album"),this.currentPlaylist={playlist:t,startIndex:n,isPlaying:this.isPlaying=!0,isPaused:this.isPaused=!1,isShuffled:this.isShuffled=l,forceRestart:this.forceRestart=e,isContinues:t.isContinues||"album"===i,type:t.type}},t}()},uwnU:function(t,n,e){"use strict";var l=function(){return function(t){this.url=t.file||t.url||t.path||t.id}}();n.a=function(){function t(t){this.isPlaying=!1,this.isPaused=!1,this.isLoved=!1,this.position=0,this.buffered={start:0,end:0},this.showActions=!1,this.image="",t.album&&t.title&&(this.id=t.id,this.duration=t.seconds?1e3*t.seconds:t.duration&&!isNaN(t.duration)?t.duration:0,this.title=t.title,this.source=new l(t),this.disc=t.disc||this.guessBySource(t),this.number=t.number,this.trackArtist=t.artist,this.type=t.type||"mp3")}return t.prototype.url=function(){return"/letter/"+this.artist.letter.escapedLetter+"/artist/"+encodeURIComponent(this.artist.name)+"/album/"+encodeURIComponent(this.album.name)+"/track/"+encodeURIComponent(this.title)},t.prototype.toJSON=function(){return this.id},t.prototype.guessBySource=function(t){var n,e,l=this.source.url;try{for(var i=function(t){var n="function"==typeof Symbol&&t[Symbol.iterator],e=0;return n?n.call(t):{next:function(){return t&&e>=t.length&&(t=void 0),{value:t&&t[e++],done:!t}}}}([1,2,3,4,5,6,7,8,9,10]),r=i.next();!r.done;r=i.next()){var s=r.value;if(-1!==l.indexOf(" - "+s+".")||-1!==l.indexOf("("+s+") - ")||-1!==l.indexOf("CD"+s)||-1!==l.indexOf("\\"+s+"-"))return s}}catch(a){n={error:a}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(n)throw n.error}}return 1},t}()},zUnb:function(t,n,e){"use strict";e.r(n);var l=e("URqu"),i=e.n(l),r=e("Ip0R"),s=e("CcnG"),a=function(){return function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(function(t){}).catch(function(t){console.error("Registration failed with "+t)})}}(),u=e("XNvx"),o=e("ufXC"),c=e("MDLy"),h=e("+ooL"),p=e("OgP6"),d=e("ktVm"),b=function(){function t(t,n,e,l,i,r,s){var a=this;this.collectionService=t,this.coreService=n,this.loginService=e,this.configService=l,this.playerService=i,this.colorService=r,this.isPlaying=!1,this.scanperc=0,this.isReloading=!1,this.letter="N",this.path="JSMusicDB Next",this.isLoading=!1,this.hasBeenReloading=!1,this.isHostedApp="undefined"!=typeof Windows,this.loginService.hasToken&&(this.isLoading=!0,this.poll()),this.viewContainerRef=s,this.subscription=this.playerService.playlistAnnounced$.subscribe(function(t){a.isPlaying=!!t}),this.booleanState("tracking-state")?navigator.geolocation.getCurrentPosition(function(t){a.configService.getSunriseInfo(t.coords.latitude,t.coords.longitude).subscribe(function(t){a.configService.startDate=new Date(t.results.sunset),a.configService.stopDate=new Date(t.results.sunrise),a.configService.stopDate.setDate(a.configService.stopDate.getDate()+1),a.configService.geoSource.next(),a.configService.applyTheme()})},function(t){a.configService.startDate=new Date,a.configService.startDate.setHours(21,0,0),a.configService.stopDate=new Date,a.configService.stopDate.setDate(a.configService.stopDate.getDate()+1),a.configService.stopDate.setHours(7,0,0),a.configService.geoSource.next(),a.configService.applyTheme()}):(this.configService.startDate=new Date,this.configService.startDate.setHours(21,0,0),this.configService.stopDate=new Date,this.configService.stopDate.setDate(this.configService.stopDate.getDate()+1),this.configService.stopDate.setHours(7,0,0),this.configService.geoSource.next(),this.configService.applyTheme())}return t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.ngOnInit=function(){this.mediaObject=document.querySelector("audio");var t=this.mediaObject.canPlayType("audio/flac");this.isFlacSupported="probably"===t||"maybe"===t},t.prototype.getCollection=function(){var t=this;this.collectionService.getCollection().subscribe(function(n){return t.fillCollection(n)},function(t){return console.error(t)})},t.prototype.fillCollection=function(t){localStorage.setItem("lastParsed",(new Date).getTime().toString()),this.coreService.getCore().parseSourceJson(t,this.isFlacSupported),this.isLoading=!1},t.prototype.hideVolumeWindow=function(){this.playerService.hideVolumeControl()},t.prototype.poll=function(){var t=this;this.collectionService.poll().subscribe(function(n){t.scanperc=n.progress,"ready"!==n.status?(t.isReloading=!0,document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbscanning",{detail:{percentage:t.scanperc}})),setTimeout(function(n){t.poll()},5e3),t.hasBeenReloading=!0):(t.isReloading=!1,t.hasBeenReloading&&document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbscanstop")),t.getCollection())})},t.prototype.onExternalPrev=function(t){this.playerService.prev()},t.prototype.onExternalNext=function(t){this.playerService.next()},t.prototype.onExternalToggle=function(t){this.playerService.togglePlayPause()},t.prototype.onExternalStop=function(t){this.playerService.stop()},t.prototype.onExternalBlob=function(){this.colorService.setBlob()},t.prototype.booleanState=function(t){var n=localStorage.getItem(t);return!(!n||"true"!==n)},t}(),m=e("pMnS"),g=e("Xg1U"),f=e("ZYCi"),y=e("eajB"),v=e("lqqz"),k=e("NJnL"),C=e("gIcY"),S=e("ztCj"),w=e("t083"),A=e("XtVx"),L=function(){return function(){}}();function P(){return Object.assign(new y.a,{placement:"right",delay:250})}var x=function(){function t(t,n,e,l){var i=this;this.pathService=t,this.router=n,this.lastFMService=e,this.coreService=l,this.menuVisible=!1,this.topSearchVisible=!1,this.manualScrobblingList=[],this.onDocumentClick=function(t){t.target.classList.contains("side-nav--visible")&&i.toggleMenu()},this.core=this.coreService.getCore(),this.subscription=t.pathAnnounced$.subscribe(function(t){i.path=t,i.page=null,i.menuVisible=!1,i.disableActiveLetter(),i.activateLetter(t.letter)}),this.subscription2=t.pageAnnounced$.subscribe(function(t){i.page=t.page,i.path=null,i.menuVisible=!1,i.disableActiveLetter(),i.activateLetter(t.letter)}),this.subscription3=this.lastFMService.manualScrobbleList$.subscribe(function(t){i.manualScrobblingList=t}),this.subscription4=this.core.coreParsed$.subscribe(function(t){i.ngOnInit()}),this.search=new L,Object(S.c)("manual-scrobble-list").then(function(t){i.manualScrobblingList=t||[]})}return t.prototype.ngOnInit=function(){this.letters=this.core.sortedLetters},t.prototype.disableActiveLetter=function(){this.letters.forEach(function(t){t.active&&(t.active=!1)})},t.prototype.activateLetter=function(t){t&&(t.active=!0)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.subscription2.unsubscribe()},t.prototype.toggleMenu=function(){this.menuVisible=!this.menuVisible,this.menuVisible?this.slideOut():this.slideIn()},t.prototype.slideOut=function(){var t=document.querySelector(".js-side-nav");t.classList.add("side-nav--animatable"),t.classList.add("side-nav--visible"),document.addEventListener("click",this.onDocumentClick),t.addEventListener("transitionend",this.onTransitionEnd)},t.prototype.slideIn=function(){var t=document.querySelector(".js-side-nav");t.classList.add("side-nav--animatable"),t.classList.remove("side-nav--visible"),document.removeEventListener("click",this.onDocumentClick),t.addEventListener("transitionend",this.onTransitionEnd)},t.prototype.onTransitionEnd=function(t){var n=document.querySelector(".js-side-nav");n.classList.remove("side-nav--animatable"),n.removeEventListener("transitionend",this.onTransitionEnd)},t.prototype.onSubmit=function(){this.topSearchVisible=!1,this.menuVisible&&this.toggleMenu(),this.router.navigate(["/search",this.search.query])},t.prototype.toggleSearch=function(){this.topSearchVisible=!this.topSearchVisible,!0===this.topSearchVisible&&setTimeout(function(){document.getElementById("mobileSearch").focus()},100)},t.prototype.selectArtist=function(t){this.router.navigate(["letter",t.artist.letter.escapedLetter,"artist",t.artist.sortName])},t.prototype.selectAlbum=function(t){this.router.navigate(["letter",t.album.artist.letter.escapedLetter,"artist",t.album.artist.sortName,"album",t.album.sortName])},t}(),T=s.ob({encapsulation:2,styles:[],data:{}});function q(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,4,"span",[],null,null,null,null,null)),(t()(),s.qb(1,0,null,null,1,"span",[["class","clickable d-none d-sm-inline"]],null,[[null,"click"]],function(t,n,e){var l=!0,i=t.component;return"click"===n&&(l=!1!==i.selectArtist(i.path)&&l),l},null,null)),(t()(),s.Jb(2,null,[""," \u2022 "])),(t()(),s.qb(3,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Jb(4,null,["",""]))],null,function(t,n){var e=n.component;t(n,2,0,e.path.artist.albumArtist||e.path.artist.name),t(n,4,0,e.path.album.name)})}function E(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Jb(1,null,["",""]))],null,function(t,n){var e=n.component;t(n,1,0,e.path.artist.albumArtist||e.path.artist.name)})}function O(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Jb(-1,null,["JSMusicDB Next"]))],null,null)}function I(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Jb(1,null,["",""]))],null,function(t,n){t(n,1,0,n.component.page)})}function _(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),s.Jb(-1,null,["JSMusicDB Next"]))],null,null)}function j(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,0,"i",[["class","glyph glyph-magnifier"]],null,null,null,null,null))],null,null)}function D(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,0,"i",[["class","glyph glyph-clear"]],null,null,null,null,null))],null,null)}function M(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(2,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(3,{active:0}),(t()(),s.qb(4,0,null,null,3,"a",[["routerLink","/scrobble-cache"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,5).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(5,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(6,0,null,null,0,"span",[["class","glyph glyph-upload"]],null,null,null,null,null)),(t()(),s.Jb(7,null,[" Scrobble cache (",")"]))],function(t,n){var e=t(n,3,0,"Scrobble cache"===n.component.page);t(n,2,0,e),t(n,5,0,"/scrobble-cache")},function(t,n){var e=n.component;t(n,4,0,s.Cb(n,5).target,s.Cb(n,5).href),t(n,7,0,e.manualScrobblingList.length)})}function N(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(2,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(3,{active:0}),(t()(),s.qb(4,16777216,null,null,3,"a",[["routerLink","/scrobble-cache"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,5).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(5,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(6,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(7,0,null,null,0,"span",[["class","glyph glyph-upload"]],null,null,null,null,null))],function(t,n){var e=n.component,l=t(n,3,0,"Scrobble cache"===e.page);t(n,2,0,"nav-item",l),t(n,5,0,"/scrobble-cache"),t(n,6,0,s.ub(1,"Scrobble cache (",e.manualScrobblingList.length,")"),"hover")},function(t,n){t(n,4,0,s.Cb(n,5).target,s.Cb(n,5).href,s.Cb(n,6).ariaDescribedby)})}function R(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,38,"div",[["class","menu-top fixed-top"]],null,null,null,null,null)),(t()(),s.qb(1,0,null,null,7,"span",[["class","menu-toggle"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleMenu()&&l),l},null,null)),(t()(),s.qb(2,0,null,null,1,"button",[["aria-label","menu button"],["class","btn btn-menu d-md-none"]],null,null,null,null,null)),(t()(),s.qb(3,0,null,null,0,"span",[["aria-hidden","true"],["class","glyph glyph-hamburger"]],null,null,null,null,null)),(t()(),s.qb(4,0,null,null,4,"a",[["class","d-none d-md-inline-block"]],null,null,null,null,null)),(t()(),s.qb(5,0,null,null,3,":svg:svg",[[":xml:space","preserve"],[":xmlns:xlink","http://www.w3.org/1999/xlink"],["class","logo"],["height","276.164px"],["version","1.1"],["viewBox","0 0 276.164 276.164"],["width","276.164px"],["x","0px"],["xmlns","http://www.w3.org/2000/svg"],["y","0px"]],null,null,null,null,null)),(t()(),s.qb(6,0,null,null,2,":svg:g",[],null,null,null,null,null)),(t()(),s.qb(7,0,null,null,0,":svg:path",[["d","M156.716,61.478c-4.111,6.276-8.881,11.511-14.212,15.609l-8.728,6.962c-13.339,11.855-22.937,21.433-28.542,28.464\n                  c-10.209,12.788-15.806,25.779-16.65,38.611c-0.942,14.473,3.187,28.21,12.275,40.84c9.636,13.458,21.8,20.754,36.164,21.69\n                  c3.291,0.218,6.897,0.182,9.896-0.015l-1.121-10.104c-2.09,0.192-4.306,0.223-6.628,0.068c-9.437-0.617-17.864-4.511-25.064-11.573\n                  c-7.524-7.333-10.895-15.415-10.287-24.7c1.149-17.59,12.562-35.004,33.925-51.792l9.543-7.599\n                  c8.394-7.174,15.192-16.191,20.216-26.825c4.971-10.556,7.886-21.983,8.673-33.96c0.466-7.037-0.513-15.775-2.874-25.965\n                  c-3.241-13.839-7.854-20.765-14.136-21.179c-2.232-0.138-4.676,0.986-7.658,3.617c-7.252,6.548-12.523,14.481-15.683,23.542\n                  c-2.438,6.926-4.057,16.189-4.805,27.529c-0.313,4.72,0.313,13.438,1.805,23.962l8.844-8.192c-0.028-1.183,0.005-2.413,0.096-3.703\n                  c0.466-7.221,2.289-15.062,5.394-23.293c3.956-10.296,7.689-13.409,10.133-14.204c0.668-0.218,1.32-0.298,2.015-0.254\n                  c3.185,0.212,6.358,1.559,5.815,9.979C164.664,46.132,161.831,53.693,156.716,61.478z"]],null,null,null,null,null)),(t()(),s.qb(8,0,null,null,0,":svg:path",[["d","M164.55,209.161c5.728-2.568,10.621-6.478,14.576-11.651c5.055-6.561,7.897-14.316,8.467-23.047\n                  c0.72-10.719-1.854-20.438-7.617-28.895c-6.322-9.264-14.98-14.317-25.745-15.026c-1.232-0.081-2.543-0.075-3.895,0.025\n                  l-2.304-17.191l-9.668,7.112l1.483,12.194c-5.789,2.393-10.827,6.17-15.017,11.255c-4.823,5.924-7.508,12.443-7.964,19.382\n                  c-0.466,7.208,1.142,13.81,4.782,19.583c1.895,3.081,4.507,5.82,7.498,8.058c4.906,3.65,10.563,3.376,11.459,1.393\n                  c0.906-1.983-2.455-5.095-5.09-9.248c-1.502-2.351-2.242-5.173-2.242-8.497c0-7.053,4.256-13.116,10.317-15.799l5.673,44.211\n                  l1.325,10.258c0.864,4.873,1.719,9.725,2.537,14.52c1,6.488,1.352,12.112,1.041,16.715c-0.419,6.375-2.408,11.584-5.919,15.493\n                  c-2.234,2.485-4.844,4.055-7.795,4.925c3.961-3.962,6.414-9.43,6.414-15.478c0-12.075-9.792-21.872-21.87-21.872\n                  c-3.353,0-6.491,0.812-9.329,2.159c-0.36,0.155-0.699,0.388-1.054,0.574c-0.779,0.425-1.559,0.85-2.286,1.362\n                  c-0.249,0.187-0.487,0.403-0.732,0.605c-4.888,3.816-8.091,9.616-8.375,16.229c0,0.01-0.011,0.021-0.011,0.031\n                  c0,0.005,0,0.01,0,0.016c-0.013,0.311-0.09,0.59-0.09,0.896c0,0.259,0.067,0.492,0.078,0.74\n                  c-0.011,7.084,2.933,13.179,8.839,18.118c5.584,4.666,12.277,7.28,19.892,7.777c4.327,0.28,8.505-0.217,12.407-1.485\n                  c3.189-1.041,6.275-2.62,9.149-4.687c6.96-5.022,10.75-11.584,11.272-19.532c0.399-6.063,0.094-13.235-0.937-21.411l-2.838-18.429\n                  l-7.156-52.899c7.984,1.532,14.027,8.543,14.027,16.968c0,5.986-1.937,15.431-5.551,20.376L164.55,209.161z"]],null,null,null,null,null)),(t()(),s.qb(9,0,null,null,10,"h1",[],null,null,null,null,null)),(t()(),s.gb(16777216,null,null,1,null,q)),s.pb(11,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.gb(16777216,null,null,1,null,E)),s.pb(13,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.gb(16777216,null,null,1,null,O)),s.pb(15,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.gb(16777216,null,null,1,null,I)),s.pb(17,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.gb(16777216,null,null,1,null,_)),s.pb(19,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.qb(20,0,null,null,4,"button",[["aria-label","search button"],["class","btn btn-menu btn-search d-md-none"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleSearch()&&l),l},null,null)),(t()(),s.gb(16777216,null,null,1,null,j)),s.pb(22,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.gb(16777216,null,null,1,null,D)),s.pb(24,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.qb(25,0,null,null,13,"form",[["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0,i=t.component;return"submit"===n&&(l=!1!==s.Cb(t,30).onSubmit(e)&&l),"reset"===n&&(l=!1!==s.Cb(t,30).onReset()&&l),"ngSubmit"===n&&(l=!1!==i.onSubmit()&&l),l},null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(27,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(28,{visible:0}),s.pb(29,16384,null,0,C.t,[],null,null),s.pb(30,4210688,[["searchForm",4]],0,C.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s.Gb(2048,null,C.b,null,[C.j]),s.pb(32,16384,null,0,C.i,[[4,C.b]],null,null),(t()(),s.qb(33,0,null,null,5,"input",[["class","form-control"],["id","mobileSearch"],["name","search"],["placeholder","Search for"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,i=t.component;return"input"===n&&(l=!1!==s.Cb(t,34)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==s.Cb(t,34).onTouched()&&l),"compositionstart"===n&&(l=!1!==s.Cb(t,34)._compositionStart()&&l),"compositionend"===n&&(l=!1!==s.Cb(t,34)._compositionEnd(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(i.search.query=e)&&l),l},null,null)),s.pb(34,16384,null,0,C.c,[s.D,s.k,[2,C.a]],null,null),s.Gb(1024,null,C.f,function(t){return[t]},[C.c]),s.pb(36,671744,[["name",4]],0,C.k,[[2,C.b],[8,null],[8,null],[6,C.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s.Gb(2048,null,C.g,null,[C.k]),s.pb(38,16384,null,0,C.h,[[4,C.g]],null,null),(t()(),s.qb(39,0,null,null,87,"aside",[["class","js-side-nav side-nav"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(41,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(42,{"side-nav--visible":0}),(t()(),s.qb(43,0,null,null,83,"nav",[["class","js-side-nav-container side-nav__container"]],null,null,null,null,null)),(t()(),s.qb(44,0,null,null,82,"ul",[["class","side-nav__content nav flex-column"]],null,null,null,null,null)),(t()(),s.qb(45,0,null,null,15,"li",[["class","d-none d-md-block search-bar"]],null,null,null,null,null)),(t()(),s.qb(46,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(t()(),s.qb(47,0,null,null,13,"div",[["class","input-group"]],null,null,null,null,null)),(t()(),s.qb(48,0,null,null,12,"form",[["novalidate",""],["role","form"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(t,n,e){var l=!0,i=t.component;return"submit"===n&&(l=!1!==s.Cb(t,50).onSubmit(e)&&l),"reset"===n&&(l=!1!==s.Cb(t,50).onReset()&&l),"ngSubmit"===n&&(l=!1!==i.onSubmit()&&l),l},null,null)),s.pb(49,16384,null,0,C.t,[],null,null),s.pb(50,4210688,[["searchForm",4]],0,C.j,[[8,null],[8,null]],null,{ngSubmit:"ngSubmit"}),s.Gb(2048,null,C.b,null,[C.j]),s.pb(52,16384,null,0,C.i,[[4,C.b]],null,null),(t()(),s.qb(53,0,null,null,5,"input",[["class","form-control"],["id","search"],["name","search"],["placeholder","Search for"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,i=t.component;return"input"===n&&(l=!1!==s.Cb(t,54)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==s.Cb(t,54).onTouched()&&l),"compositionstart"===n&&(l=!1!==s.Cb(t,54)._compositionStart()&&l),"compositionend"===n&&(l=!1!==s.Cb(t,54)._compositionEnd(e.target.value)&&l),"ngModelChange"===n&&(l=!1!==(i.search.query=e)&&l),l},null,null)),s.pb(54,16384,null,0,C.c,[s.D,s.k,[2,C.a]],null,null),s.Gb(1024,null,C.f,function(t){return[t]},[C.c]),s.pb(56,671744,[["name",4]],0,C.k,[[2,C.b],[8,null],[8,null],[6,C.f]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),s.Gb(2048,null,C.g,null,[C.k]),s.pb(58,16384,null,0,C.h,[[4,C.g]],null,null),(t()(),s.qb(59,0,null,null,1,"button",[["class","input-group-addon"]],null,null,null,null,null)),(t()(),s.qb(60,0,null,null,0,"i",[["class","glyph glyph-magnifier"]],null,null,null,null,null)),(t()(),s.qb(61,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(63,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(64,{active:0}),(t()(),s.qb(65,0,null,null,3,"a",[["routerLink","/home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,66).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(66,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(67,0,null,null,0,"span",[["class","glyph glyph-home"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Home"])),(t()(),s.qb(69,0,null,null,7,"li",[["class","d-sm-none"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(71,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(72,{active:0}),(t()(),s.qb(73,0,null,null,3,"a",[["routerLink","/letters"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,74).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(74,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(75,0,null,null,0,"span",[["class","glyph glyph-characters"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Letters"])),(t()(),s.qb(77,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(79,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(80,{active:0}),(t()(),s.qb(81,0,null,null,3,"a",[["routerLink","/artists"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,82).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(82,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(83,0,null,null,0,"span",[["class","glyph glyph-people"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Artists"])),(t()(),s.qb(85,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(87,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(88,{active:0}),(t()(),s.qb(89,0,null,null,3,"a",[["routerLink","/albums"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,90).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(90,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(91,0,null,null,0,"span",[["class","glyph glyph-music-album"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Albums"])),(t()(),s.qb(93,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(95,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(96,{active:0}),(t()(),s.qb(97,0,null,null,3,"a",[["routerLink","/years"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,98).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(98,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(99,0,null,null,0,"span",[["class","glyph glyph-calendar"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Years"])),(t()(),s.qb(101,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(103,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(104,{active:0}),(t()(),s.qb(105,0,null,null,3,"a",[["routerLink","/playlists"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,106).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(106,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(107,0,null,null,0,"span",[["class","glyph glyph-music-info"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Playlists"])),(t()(),s.qb(109,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(111,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(112,{active:0}),(t()(),s.qb(113,0,null,null,3,"a",[["routerLink","/now-playing"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,114).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(114,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(115,0,null,null,0,"span",[["class","glyph glyph-audio"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Now playing"])),(t()(),s.gb(16777216,null,null,1,null,M)),s.pb(118,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.qb(119,0,null,null,7,"li",[],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(121,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(122,{active:0}),(t()(),s.qb(123,0,null,null,3,"a",[["routerLink","/settings"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,124).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(124,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),(t()(),s.qb(125,0,null,null,0,"span",[["class","glyph glyph-settings"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Settings"])),(t()(),s.qb(127,0,null,null,67,"aside",[["class","d-none d-lg-block side-nav-xl"]],null,null,null,null,null)),(t()(),s.qb(128,0,null,null,66,"ul",[["class","side-nav__content nav flex-column"]],null,null,null,null,null)),(t()(),s.qb(129,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(131,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(132,{active:0}),(t()(),s.qb(133,16777216,null,null,3,"a",[["routerLink","/home"],["tooltip","Home"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,134).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(134,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(135,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(136,0,null,null,0,"span",[["class","glyph glyph-home"]],null,null,null,null,null)),(t()(),s.qb(137,0,null,null,7,"li",[["class","d-md-none nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(139,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(140,{active:0}),(t()(),s.qb(141,16777216,null,null,3,"a",[["routerLink","/letters"],["tooltip","Letters"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,142).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(142,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(143,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(144,0,null,null,0,"span",[["class","glyph glyph-characters"]],null,null,null,null,null)),(t()(),s.qb(145,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(147,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(148,{active:0}),(t()(),s.qb(149,16777216,null,null,3,"a",[["routerLink","/artists"],["tooltip","Artists"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,150).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(150,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(151,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(152,0,null,null,0,"span",[["class","glyph glyph-people"]],null,null,null,null,null)),(t()(),s.qb(153,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(155,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(156,{active:0}),(t()(),s.qb(157,16777216,null,null,3,"a",[["routerLink","/albums"],["tooltip","Albums"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,158).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(158,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(159,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(160,0,null,null,0,"span",[["class","glyph glyph-music-album"]],null,null,null,null,null)),(t()(),s.qb(161,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(163,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(164,{active:0}),(t()(),s.qb(165,16777216,null,null,3,"a",[["routerLink","/years"],["tooltip","Years"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,166).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(166,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(167,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(168,0,null,null,0,"span",[["class","glyph glyph-calendar"]],null,null,null,null,null)),(t()(),s.qb(169,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(171,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(172,{active:0}),(t()(),s.qb(173,16777216,null,null,3,"a",[["routerLink","/playlists"],["tooltip","Playlists"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,174).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(174,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(175,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(176,0,null,null,0,"span",[["class","glyph glyph-music-info"]],null,null,null,null,null)),(t()(),s.qb(177,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(179,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(180,{active:0}),(t()(),s.qb(181,16777216,null,null,3,"a",[["routerLink","/now-playing"],["tooltip","Now Playing"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,182).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(182,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(183,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(184,0,null,null,0,"span",[["class","glyph glyph-audio"]],null,null,null,null,null)),(t()(),s.gb(16777216,null,null,1,null,N)),s.pb(186,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.qb(187,0,null,null,7,"li",[["class","nav-item"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(189,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(190,{active:0}),(t()(),s.qb(191,16777216,null,null,3,"a",[["routerLink","/settings"],["tooltip","Settings"],["triggers","hover"]],[[1,"target",0],[8,"href",4],[1,"aria-describedby",0]],[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==s.Cb(t,192).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&l),l},null,null)),s.pb(192,671744,null,0,f.l,[f.k,f.a,r.h],{routerLink:[0,"routerLink"]},null),s.pb(193,212992,null,0,y.c,[s.O,v.a,y.a,s.k,s.D,k.a],{tooltip:[0,"tooltip"],triggers:[1,"triggers"]},null),(t()(),s.qb(194,0,null,null,0,"span",[["class","glyph glyph-settings"]],null,null,null,null,null))],function(t,n){var e=n.component;t(n,11,0,e.path&&e.path.album),t(n,13,0,e.path&&e.path.artist&&!e.path.album),t(n,15,0,e.path&&!e.path.artist),t(n,17,0,!e.path&&e.page),t(n,19,0,!e.path&&!e.page),t(n,22,0,!e.topSearchVisible),t(n,24,0,e.topSearchVisible);var l=t(n,28,0,e.topSearchVisible);t(n,27,0,l),t(n,36,0,"search",e.search.query);var i=t(n,42,0,e.menuVisible);t(n,41,0,"js-side-nav side-nav",i),t(n,56,0,"search",e.search.query);var r=t(n,64,0,"Home"===e.page);t(n,63,0,r),t(n,66,0,"/home");var s=t(n,72,0,"Letters"===e.page);t(n,71,0,"d-sm-none",s),t(n,74,0,"/letters");var a=t(n,80,0,"Artists"===e.page);t(n,79,0,a),t(n,82,0,"/artists");var u=t(n,88,0,"Albums"===e.page);t(n,87,0,u),t(n,90,0,"/albums");var o=t(n,96,0,"Years"===e.page);t(n,95,0,o),t(n,98,0,"/years");var c=t(n,104,0,"Playlists"===e.page);t(n,103,0,c),t(n,106,0,"/playlists");var h=t(n,112,0,"Now playing"===e.page);t(n,111,0,h),t(n,114,0,"/now-playing"),t(n,118,0,e.manualScrobblingList.length>0);var p=t(n,122,0,"Settings"===e.page);t(n,121,0,p),t(n,124,0,"/settings");var d=t(n,132,0,"Home"===e.page);t(n,131,0,"nav-item",d),t(n,134,0,"/home"),t(n,135,0,"Home","hover");var b=t(n,140,0,"Letters"===e.page);t(n,139,0,"d-md-none nav-item",b),t(n,142,0,"/letters"),t(n,143,0,"Letters","hover");var m=t(n,148,0,"Artists"===e.page);t(n,147,0,"nav-item",m),t(n,150,0,"/artists"),t(n,151,0,"Artists","hover");var g=t(n,156,0,"Albums"===e.page);t(n,155,0,"nav-item",g),t(n,158,0,"/albums"),t(n,159,0,"Albums","hover");var f=t(n,164,0,"Years"===e.page);t(n,163,0,"nav-item",f),t(n,166,0,"/years"),t(n,167,0,"Years","hover");var y=t(n,172,0,"Playlists"===e.page);t(n,171,0,"nav-item",y),t(n,174,0,"/playlists"),t(n,175,0,"Playlists","hover");var v=t(n,180,0,"Now playing"===e.page);t(n,179,0,"nav-item",v),t(n,182,0,"/now-playing"),t(n,183,0,"Now Playing","hover"),t(n,186,0,e.manualScrobblingList.length>0);var k=t(n,190,0,"Settings"===e.page);t(n,189,0,"nav-item",k),t(n,192,0,"/settings"),t(n,193,0,"Settings","hover")},function(t,n){t(n,25,0,s.Cb(n,32).ngClassUntouched,s.Cb(n,32).ngClassTouched,s.Cb(n,32).ngClassPristine,s.Cb(n,32).ngClassDirty,s.Cb(n,32).ngClassValid,s.Cb(n,32).ngClassInvalid,s.Cb(n,32).ngClassPending),t(n,33,0,s.Cb(n,38).ngClassUntouched,s.Cb(n,38).ngClassTouched,s.Cb(n,38).ngClassPristine,s.Cb(n,38).ngClassDirty,s.Cb(n,38).ngClassValid,s.Cb(n,38).ngClassInvalid,s.Cb(n,38).ngClassPending),t(n,48,0,s.Cb(n,52).ngClassUntouched,s.Cb(n,52).ngClassTouched,s.Cb(n,52).ngClassPristine,s.Cb(n,52).ngClassDirty,s.Cb(n,52).ngClassValid,s.Cb(n,52).ngClassInvalid,s.Cb(n,52).ngClassPending),t(n,53,0,s.Cb(n,58).ngClassUntouched,s.Cb(n,58).ngClassTouched,s.Cb(n,58).ngClassPristine,s.Cb(n,58).ngClassDirty,s.Cb(n,58).ngClassValid,s.Cb(n,58).ngClassInvalid,s.Cb(n,58).ngClassPending),t(n,65,0,s.Cb(n,66).target,s.Cb(n,66).href),t(n,73,0,s.Cb(n,74).target,s.Cb(n,74).href),t(n,81,0,s.Cb(n,82).target,s.Cb(n,82).href),t(n,89,0,s.Cb(n,90).target,s.Cb(n,90).href),t(n,97,0,s.Cb(n,98).target,s.Cb(n,98).href),t(n,105,0,s.Cb(n,106).target,s.Cb(n,106).href),t(n,113,0,s.Cb(n,114).target,s.Cb(n,114).href),t(n,123,0,s.Cb(n,124).target,s.Cb(n,124).href),t(n,133,0,s.Cb(n,134).target,s.Cb(n,134).href,s.Cb(n,135).ariaDescribedby),t(n,141,0,s.Cb(n,142).target,s.Cb(n,142).href,s.Cb(n,143).ariaDescribedby),t(n,149,0,s.Cb(n,150).target,s.Cb(n,150).href,s.Cb(n,151).ariaDescribedby),t(n,157,0,s.Cb(n,158).target,s.Cb(n,158).href,s.Cb(n,159).ariaDescribedby),t(n,165,0,s.Cb(n,166).target,s.Cb(n,166).href,s.Cb(n,167).ariaDescribedby),t(n,173,0,s.Cb(n,174).target,s.Cb(n,174).href,s.Cb(n,175).ariaDescribedby),t(n,181,0,s.Cb(n,182).target,s.Cb(n,182).href,s.Cb(n,183).ariaDescribedby),t(n,191,0,s.Cb(n,192).target,s.Cb(n,192).href,s.Cb(n,193).ariaDescribedby)})}var B=function(){function t(t,n){var e=this;this.coreService=t,this.router=n,this.activeLetter=null,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe(function(t){e.ngOnInit()})}return t.prototype.ngOnInit=function(){this.letters=this.core.sortedLetters},t.prototype.onSelect=function(t){this.activeLetter&&(this.activeLetter.active=!1),this.activeLetter=t,this.router.navigate(["/letter",t.escapedLetter])},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t}(),U=s.ob({encapsulation:2,styles:[],data:{}});function K(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,5,"li",[["class","nav-item align-self-stretch flex-grow-1 text-center"]],null,null,null,null,null)),(t()(),s.qb(1,0,null,null,4,"a",[],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.onSelect(t.context.$implicit)&&l),l},null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(3,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(4,{active:0}),(t()(),s.Jb(5,null,["",""]))],function(t,n){var e=t(n,4,0,n.context.$implicit.active);t(n,3,0,e)},function(t,n){t(n,5,0,n.context.$implicit.letter)})}function F(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,2,"ul",[["class","nav d-none d-md-flex nav-letters"]],null,null,null,null,null)),(t()(),s.gb(16777216,null,null,1,null,K)),s.pb(2,278528,null,0,r.j,[s.O,s.L,s.s],{ngForOf:[0,"ngForOf"]},null)],function(t,n){t(n,2,0,n.component.letters)},null)}e("hR/0");var V=e("KI15"),G=e("1gFc"),W=e("meIv"),z=e("Pbcf"),J=function(t){return t.r=Math.floor(t.r),t.g=Math.floor(t.g),t.b=Math.floor(t.b),t.a=1,t},H=function(t,n){return W.a.isReadable(t,n)?J(new W.a(t).toRgb()):H("#000"===n?new W.a(t).lighten(3):new W.a(t).darken(3),n)},$=function(t){return W.a.readability("#000",t)>W.a.readability("#fff",t)?"#000":"#fff"};function X(t,n,e){if(window.runningInElectron&&!e)document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbuntaint",{detail:{url:t}}));else{var l=new Image;l.crossOrigin="Anonymous",l.addEventListener("load",function(t){var e=document.createElement("canvas"),i=e.getContext("2d");e.width=l.width,e.height=l.height,i.drawImage(l,0,0);var r=(new z.a).getColor(e).value;n(J({r:r[0],g:r[1],b:r[2]}))},!1),l.src=t}}function Y(t){var n=J(new W.a(t).lighten().toRgb());return{rgba:t,textLight:H(t,"#fff"),textDark:H(t,"#000"),lighten:n,darken:J(new W.a(t).darken().toRgb()),letterColor:$(new W.a(t))}}function Z(t){var n=document.createElement("style"),e=t.rgba,l=t.darken,i=t.lighten,r=t.textLight,s=t.textDark,a=t.letterColor;n.setAttribute("type","text/css"),n.id="custom-css-node",n.textContent='\n      @charset "UTF-8";\n      :root {\n        --primary: rgba('+e.r+", "+e.g+", "+e.b+", 1);\n        --darken: rgba("+l.r+", "+l.g+", "+l.b+", 1);\n        --lighten: rgba("+i.r+", "+i.g+", "+i.b+", 1);\n        --text-light: rgba("+r.r+", "+r.g+", "+r.b+", 1);\n        --text-dark: rgba("+s.r+", "+s.g+", "+s.b+", 1);\n        --letter-color: "+a+";\n      }",Q(),document.querySelector("body").appendChild(n)}function Q(){document.querySelector("#custom-css-node")&&document.querySelector("#custom-css-node").remove()}var tt=function(){function t(t,n,e,l,i,r,s){var a=this;this.pathService=t,this.playerService=n,this.router=e,this.lastFMService=l,this.coreService=i,this.animationService=r,this.colorService=s,this.showPlayer=!1,this.usesDynamicAccentColor=this.booleanState("dynamic-accent-color"),this.isPlaying=!1,this.isPaused=!1,this.hasScrobbledCurrentTrack=!1,this.isCurrentPlaylistLoaded=!1,this.isShuffled=!1,this.forceRestart=!1,this.showVolumeWindow=!1,this.volume=100,this.isHostedApp="undefined"!=typeof Windows,this.subscription=this.playerService.playlistAnnounced$.subscribe(function(t){t?(a.playlist=t.playlist,a.trackIndex=t.startIndex,a.isPaused=t.isPaused,a.isPlaying=t.isPlaying,a.isShuffled=t.isShuffled,a.forceRestart=t.forceRestart,a.showPlayer=a.isPaused||a.isPlaying,a.setTrack(t.position)):(a.isPlaying=!1,a.showPlayer=!1,a.mediaObject.pause())}),this.subscription5=this.playerService.hideVolumeWindowAnnounced$.subscribe(function(){a.showVolumeWindow=!1}),this.mediaObject=document.querySelector("audio"),this.mediaObject.crossOrigin="anonymous",this.mediaObject.canPlayType("audio/flac"),this.mediaObject.addEventListener("ended",function(){a.next()}),this.mediaObject.addEventListener("timeupdate",function(){a.updateTime()}),this.mediaObject.addEventListener("play",function(){a.onplay()}),this.mediaObject.addEventListener("progress",function(){a.onprogress()}),this.mediaObject.addEventListener("pause",function(){a.onpause()}),this.mediaObject.addEventListener("ended",function(){a.onstop()});var u=localStorage.getItem("dsm");if(u&&(this.url=u),this.core=this.coreService.getCore(),this.subscription2=this.core.coreParsed$.subscribe(function(t){var n=localStorage.getItem("save-playlist-state");n&&"true"===n&&a.readCurrentPlaylist()}),this.subscription3=this.playerService.volumeAnnounced.subscribe(function(t){a.volume=t,a.mediaObject.volume=a.volume/100}),this.subscription4=t.pageAnnounced$.subscribe(function(t){"Now playing"===t.page&&(a.showVolumeWindow=!1)}),this.isHostedApp&&(this.systemMediaControls=Windows.Media.SystemMediaTransportControls.getForCurrentView(),this.displayUpdater=this.systemMediaControls.displayUpdater,this.systemMediaControls.isEnabled=!0,this.systemMediaControls.isPlayEnabled=!0,this.systemMediaControls.isPauseEnabled=!0,this.systemMediaControls.isStopEnabled=!0,this.systemMediaControls.isNextEnabled=!0,this.systemMediaControls.isPreviousEnabled=!0,this.systemMediaControls.addEventListener("buttonpressed",function(t){var n=Windows.Media.SystemMediaTransportControlsButton;switch(t.button){case n.play:a.mediaObject.play();break;case n.pause:a.mediaObject.pause();break;case n.stop:a.playerService.stop();break;case n.next:a.next();break;case n.previous:a.prev();break;default:console.warn("key not mapped in application",t.button)}},!1),this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.closed),-1===navigator.userAgent.indexOf("Mobi")){var o=document.querySelector("canvas"),c=o.offsetWidth,h=o.offsetHeight;o.width=c,o.height=h,o.getContext("2d"),this.audioCtx=new(window.AudioContext||window.webkitAudioContext);var p=this.audioCtx.createScriptProcessor(2048,1,1);p.connect(this.audioCtx.destination);var d=this.audioCtx.createAnalyser(),b=this.audioCtx.createMediaElementSource(this.mediaObject);d.fftSize=128;var m=d.frequencyBinCount;b.connect(d),d.connect(p),b.connect(this.audioCtx.destination),p.onaudioprocess=function(){var t=document.querySelector("canvas"),n=a.rgba||{r:0,g:110,b:205,a:1};h=t.offsetHeight,t.width=c=t.offsetWidth,t.height=h;var e=t.getContext("2d"),l=new Uint8Array(m);d.getByteFrequencyData(l),e.clearRect(0,0,c,h);for(var i,r=Math.floor(c/m*1.1),s=0,u=h/150*1.17,o=0;o<m;o++)i=l[o]*u,e.fillStyle="rgba("+n.r+","+n.g+","+n.b+","+l[o]/255+")",e.fillRect(s,h-i/2,r,i/2),s+=r+1}}this.subscription6=this.colorService.color$.subscribe(function(t){a.rgba=t}),this.subscription7=this.colorService.blob$.subscribe(function(){var t=new Blob([window.externalBlob],{type:"image/png"}),n=URL.createObjectURL(t),e=new Image;e.src=n,X(e.src,function(t){var n=Y(t);a.colorService.setColor(n.rgba),Z(n)},!0)})}return t.prototype.setTrack=function(t){if(this.track=this.playlist.tracks[this.trackIndex],!this.currentTrack||this.track&&this.currentTrack.id!==this.track.id||this.forceRestart){var n=localStorage.getItem("dsm");n&&(this.url=n);var e=localStorage.getItem("jwt");this.mediaObject.src=this.url+"/listen?path="+encodeURIComponent(this.track.source.url)+"&jwt="+e,this.currentTrack=this.track,this.hasScrobbledCurrentTrack=!1,this.animationService.requestAnimation("enter",document.querySelector(".player h4")),this.animationService.requestAnimation("enter",document.querySelector(".player h5"))}this.isPlaying?this.mediaObject.play():this.mediaObject.pause(),this.isCurrentPlaylistLoaded&&(this.mediaObject.currentTime=localStorage.getItem("current-time")||0,this.isCurrentPlaylistLoaded=!1),t&&(this.mediaObject.currentTime=t)},t.prototype.readCurrentPlaylist=function(){var t=this;Object(S.c)("current-playlist").then(function(n){var e=n;if(e){var l=t.coreService.getCore(),i=[];e.ids.forEach(function(t){i.push(l.tracks[t])});var r=new V.a;r.tracks=i,r.name="Current Playlist",r.isContinues=e.isContinues||!1,r.type=e.type,t.isShuffled=e.isShuffled,t.isCurrentPlaylistLoaded=!0,t.playerService.doPlayPlaylist(r,e.current,!1,e.isShuffled)}})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.subscription2.unsubscribe(),this.subscription3.unsubscribe(),this.subscription4.unsubscribe(),this.subscription5.unsubscribe(),this.subscription6.unsubscribe(),this.subscription7.unsubscribe(),this.mediaObject.removeEventListener("ended"),this.mediaObject.removeEventListener("timeupdate"),this.mediaObject.removeEventListener("play"),this.showVolumeWindow=!1},t.prototype.navigateToArtist=function(){this.router.navigate(["/letter",this.track.album.artist.letter.escapedLetter,"artist",this.track.album.artist.sortName])},t.prototype.navigateToAlbum=function(){this.router.navigate(["/letter",this.track.album.artist.letter.escapedLetter,"artist",this.track.album.artist.sortName,"album",this.track.album.sortName])},t.prototype.navigateToNowPlaying=function(){this.router.navigate(["/now-playing"])},t.prototype.next=function(){this.trackIndex<this.playlist.tracks.length-1?(this.trackIndex++,this.playerService.next()):this.playlist.isContinues?(this.trackIndex=0,"random"===this.playlist.type||"radio"===this.playlist.type?this.playerService.nextPlaylist(this.playlist.type):this.playerService.nextAlbum(this.track.album)):this.playerService.stop()},t.prototype.prev=function(){this.trackIndex>0&&(this.trackIndex--,this.playerService.prev())},t.prototype.togglePlayPause=function(){this.playerService.togglePlayPause()},t.prototype.updateTime=function(){if(this.track.position=1e3*this.mediaObject.currentTime,!this.hasScrobbledCurrentTrack&&(this.track.position>=t.SCROBBLETIME||this.track.position/this.track.duration>=.5&&performance.now()>t.SCROBBLETIME)){this.hasScrobbledCurrentTrack=!0;try{this.lastFMService.scrobbleTrack(this.track).subscribe(function(){})}catch(n){console.error(n)}}localStorage.setItem("current-time",this.mediaObject.currentTime.toString())},t.prototype.onplay=function(){var t,n=this;try{this.lastFMService.announceNowPlaying(this.track).subscribe()}catch(e){}document.title=this.track.title+" by "+this.track.trackArtist,"mediaSession"in navigator&&Object(S.c)("art-"+this.track.trackArtist+"-"+this.track.album.name).then(function(t){t&&(navigator.mediaSession.metadata=new MediaMetadata({title:n.track.title,artist:n.track.trackArtist,album:n.track.album.name,artwork:[{src:t,sizes:"500x500",type:"image/png"}]})),navigator.mediaSession.setActionHandler("play",function(){n.togglePlayPause()}),navigator.mediaSession.setActionHandler("pause",function(){n.togglePlayPause()}),navigator.mediaSession.setActionHandler("previoustrack",function(){n.prev()}),navigator.mediaSession.setActionHandler("nexttrack",function(){n.next()})}),this.isHostedApp&&(this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.playing,this.displayUpdater.type=Windows.Media.MediaPlaybackType.music,Object(S.c)("art-"+this.track.trackArtist+"-"+this.track.album.name).then(function(t){try{void 0!==n.displayUpdater&&(n.displayUpdater.musicProperties.albumArtist=n.track.trackArtist,n.displayUpdater.musicProperties.artist=n.track.trackArtist,n.displayUpdater.musicProperties.albumTitle=n.track.album.name,n.displayUpdater.musicProperties.title=n.track.title,t&&(n.displayUpdater.thumbnail=Windows.Storage.Streams.RandomAccessStreamReference.createFromUri(new Windows.Foundation.Uri(t))),n.displayUpdater.update())}catch(e){console.error("error occurred",e)}n.updateWinTile(t)})),document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbplaying",{detail:this.track})),this.audioCtx&&this.audioCtx.resume(),this.usesDynamicAccentColor=this.booleanState("dynamic-accent-color"),this.usesDynamicAccentColor&&(t=this.rgba)&&Z(Y(t))},t.prototype.onstop=function(){document.querySelector("mdb-player").dispatchEvent(new Event("external.mdbstopped")),document.title="JSMusicDB Next",this.isHostedApp&&(this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.stopped),this.audioCtx&&this.audioCtx.suspend(),Q()},t.prototype.onpause=function(){document.querySelector("mdb-player").dispatchEvent(new CustomEvent("external.mdbpaused",{detail:this.track})),document.title="JSMusicDB Next",this.isHostedApp&&(this.systemMediaControls.playbackStatus=Windows.Media.MediaPlaybackStatus.paused),this.audioCtx&&this.audioCtx.suspend(),Q()},t.prototype.onChangeArt=function(t){var n=this;this.usesDynamicAccentColor?X(t.detail.art,function(t){var e=Y(t);n.colorService.setColor(e.rgba),Z(e)},!1):(this.colorService.setColor({r:0,g:110,b:205,a:1}),Q())},t.prototype.toggleShuffle=function(){this.isShuffled=!this.isShuffled,this.playerService.shufflePlaylist(this.isShuffled)},t.prototype.toggleLoved=function(){this.track.isLoved=!this.track.isLoved,this.lastFMService.toggleLoved(this.track).subscribe()},t.prototype.toggleVolumeWindow=function(t){t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault(),this.showVolumeWindow=!this.showVolumeWindow},t.prototype.onprogress=function(){var t=this.mediaObject.buffered;0!==t.length&&(this.track.buffered.start=1e3*t.start(0!==t.length?t.length-1:0),this.track.buffered.end=1e3*t.end(0!==t.length?t.length-1:0))},t.prototype.setVolume=function(){this.mediaObject.volume=this.volume/100,this.playerService.setVolume(this.volume)},t.prototype.jump=function(t){var n=(t.clientX||t.changedTouches[0].clientX)/document.querySelector(".player").clientWidth;this.playerService.setPosition(this.track.duration/1e3*n)},t.prototype.booleanState=function(t){var n=localStorage.getItem(t);return!(!n||"true"!==n)},t.prototype.updateWinTile=function(t){var n=Windows.UI.Notifications;n.TileUpdateManager.createTileUpdaterForApplication("App").clear();var e=n.TileUpdateManager.getTemplateContent(n.TileTemplateType.tileSquare150x150PeekImageAndText02),l=e.getElementsByTagName("text")[0];l.innerText=this.track.title,(l=e.getElementsByTagName("text")[1]).innerText=this.track.trackArtist,t&&(e.getElementsByTagName("image")[0].attributes[1].value=t);var i=new Date,r=new Date(i.getTime()+Number(this.track.duration)),s=e.importNode(this.getTileContent(t,"tileSquare310x310ImageAndText02").getElementsByTagName("binding").item(0),!0);e.getElementsByTagName("visual").item(0).appendChild(s),s=e.importNode(this.getTileContent(t,"tileWide310x150PeekImage02").getElementsByTagName("binding").item(0),!0),e.getElementsByTagName("visual").item(0).appendChild(s),s=e.importNode(this.getTileContent(t,"tileSquare71x71Image").getElementsByTagName("binding").item(0),!0),e.getElementsByTagName("visual").item(0).appendChild(s);var a=new n.TileNotification(e);a.expirationTime=r,n.TileUpdateManager.createTileUpdaterForApplication("App").update(a)},t.prototype.getTileContent=function(t,n){var e=Windows.UI.Notifications,l=e.TileUpdateManager.getTemplateContent(e.TileTemplateType[n]);try{l.getElementsByTagName("text")[0].innerText=this.track.title}catch(i){console.error(i)}try{l.getElementsByTagName("text")[1].innerText=this.track.trackArtist}catch(i){console.error(i)}return t&&(l.getElementsByTagName("image")[0].attributes[1].value=t),l},t.SCROBBLETIME=24e4,t}(),nt=s.ob({encapsulation:2,styles:[],data:{}});function et(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,0,"i",[["class","glyph glyph-pause"]],null,null,null,null,null))],null,null)}function lt(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,0,"i",[["class","glyph glyph-play"]],null,null,null,null,null))],null,null)}function it(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,53,"div",[["class","player"]],null,null,null,null,null)),(t()(),s.qb(1,0,null,null,5,"div",[["class","row"]],null,null,null,null,null)),(t()(),s.qb(2,0,null,null,4,"div",[["class","progress"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.jump(e)&&l),l},null,null)),(t()(),s.qb(3,0,null,null,3,"div",[["class","progress-bar"],["role","progressbar"]],null,null,null,null,null)),s.Gb(512,null,r.w,r.x,[s.k,s.t,s.D]),s.pb(5,278528,null,0,r.n,[r.w],{ngStyle:[0,"ngStyle"]},null),s.Eb(6,{width:0}),(t()(),s.qb(7,0,null,null,38,"div",[["class","container-fluid"]],null,null,null,null,null)),(t()(),s.qb(8,0,null,null,37,"div",[["class","row row-sm"]],null,null,null,null,null)),(t()(),s.qb(9,0,null,null,1,"div",[["class","col-xs-4 col-player-art"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.navigateToNowPlaying()&&l),l},null,null)),(t()(),s.qb(10,0,null,null,0,"album-art",[],[[8,"artist",0],[8,"album",0]],[[null,"art"]],function(t,n,e){var l=!0;return"art"===n&&(l=!1!==t.component.onChangeArt(e)&&l),l},null,null)),(t()(),s.qb(11,0,null,null,9,"div",[["class","col-xs-11 col-player-special"]],null,null,null,null,null)),(t()(),s.qb(12,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),s.Jb(13,null,["",""])),(t()(),s.qb(14,0,null,null,6,"h5",[],null,null,null,null,null)),(t()(),s.qb(15,0,null,null,1,"a",[],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.navigateToArtist()&&l),l},null,null)),(t()(),s.Jb(16,null,["",""])),(t()(),s.qb(17,0,null,null,3,"span",[["class","hidden-xs color-type-secondary"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" \u2022 "])),(t()(),s.qb(19,0,null,null,1,"a",[],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.navigateToAlbum()&&l),l},null,null)),(t()(),s.Jb(20,null,["",""])),(t()(),s.qb(21,0,null,null,24,"div",[["class","col-xs-9 text-right col-player-controls"]],null,null,null,null,null)),(t()(),s.qb(22,0,null,null,1,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.prev()&&l),l},null,null)),(t()(),s.qb(23,0,null,null,0,"span",[["class","glyph glyph-previous"]],null,null,null,null,null)),(t()(),s.qb(24,0,null,null,4,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.togglePlayPause()&&l),l},null,null)),(t()(),s.gb(16777216,null,null,1,null,et)),s.pb(26,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.gb(16777216,null,null,1,null,lt)),s.pb(28,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.qb(29,0,null,null,1,"a",[["class","btn btn-link"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.next()&&l),l},null,null)),(t()(),s.qb(30,0,null,null,0,"span",[["class","glyph glyph-next"]],null,null,null,null,null)),(t()(),s.qb(31,0,null,null,4,"a",[["class","btn btn-link d-none d-md-inline-block"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleVolumeWindow(e)&&l),l},null,null)),(t()(),s.qb(32,0,null,null,3,"span",[["class","glyph"]],null,null,null,null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(34,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(35,{"glyph-volume":0,"glyph-mute":1}),(t()(),s.qb(36,0,null,null,4,"a",[["class","btn btn-link d-none d-md-inline-block btn-love"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleLoved()&&l),l},null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(38,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(39,{active:0}),(t()(),s.qb(40,0,null,null,0,"i",[["class","glyph glyph-star-outline"]],null,null,null,null,null)),(t()(),s.qb(41,0,null,null,4,"a",[["class","btn btn-link d-none d-md-inline-block btn-shuffle"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.toggleShuffle()&&l),l},null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(43,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(44,{active:0}),(t()(),s.qb(45,0,null,null,0,"i",[["class","glyph glyph-shuffle"]],null,null,null,null,null)),(t()(),s.qb(46,0,null,null,7,"div",[["class","volume-control"]],[[8,"hidden",0]],null,null,null,null)),(t()(),s.qb(47,0,null,null,6,"input",[["max","100"],["min","0"],["type","range"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"change"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,n,e){var l=!0,i=t.component;return"input"===n&&(l=!1!==s.Cb(t,48)._handleInput(e.target.value)&&l),"blur"===n&&(l=!1!==s.Cb(t,48).onTouched()&&l),"compositionstart"===n&&(l=!1!==s.Cb(t,48)._compositionStart()&&l),"compositionend"===n&&(l=!1!==s.Cb(t,48)._compositionEnd(e.target.value)&&l),"change"===n&&(l=!1!==s.Cb(t,49).onChange(e.target.value)&&l),"input"===n&&(l=!1!==s.Cb(t,49).onChange(e.target.value)&&l),"blur"===n&&(l=!1!==s.Cb(t,49).onTouched()&&l),"ngModelChange"===n&&(l=!1!==(i.volume=e)&&l),"input"===n&&(l=!1!==i.setVolume()&&l),"change"===n&&(l=!1!==i.setVolume()&&l),l},null,null)),s.pb(48,16384,null,0,C.c,[s.D,s.k,[2,C.a]],null,null),s.pb(49,16384,null,0,C.n,[s.D,s.k],null,null),s.Gb(1024,null,C.f,function(t,n){return[t,n]},[C.c,C.n]),s.pb(51,671744,null,0,C.k,[[8,null],[8,null],[8,null],[6,C.f]],{model:[0,"model"]},{update:"ngModelChange"}),s.Gb(2048,null,C.g,null,[C.k]),s.pb(53,16384,null,0,C.h,[[4,C.g]],null,null)],function(t,n){var e=n.component,l=t(n,6,0,e.track.position/e.track.duration*100+"%");t(n,5,0,l),t(n,26,0,e.isPlaying),t(n,28,0,e.isPaused);var i=t(n,35,0,e.volume>0,0==e.volume);t(n,34,0,"glyph",i);var r=t(n,39,0,e.track.isLoved);t(n,38,0,"btn btn-link d-none d-md-inline-block btn-love",r);var s=t(n,44,0,e.isShuffled);t(n,43,0,"btn btn-link d-none d-md-inline-block btn-shuffle",s),t(n,51,0,e.volume)},function(t,n){var e=n.component;t(n,10,0,e.track.trackArtist,e.track.album.name),t(n,13,0,e.track.title),t(n,16,0,e.track.trackArtist),t(n,20,0,e.track.album.name),t(n,46,0,!e.showVolumeWindow),t(n,47,0,s.Cb(n,53).ngClassUntouched,s.Cb(n,53).ngClassTouched,s.Cb(n,53).ngClassPristine,s.Cb(n,53).ngClassDirty,s.Cb(n,53).ngClassValid,s.Cb(n,53).ngClassInvalid,s.Cb(n,53).ngClassPending)})}function rt(t){return s.Lb(0,[(t()(),s.gb(16777216,null,null,1,null,it)),s.pb(1,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null)],function(t,n){t(n,1,0,n.component.showPlayer)},null)}var st=e("t/Na"),at=e("Gcu2"),ut=s.ob({encapsulation:2,styles:[],data:{}});function ot(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),s.Jb(1,null,[" progress: ","% "]))],null,function(t,n){t(n,1,0,n.component.scanperc)})}function ct(t){return s.Lb(0,[(t()(),s.qb(0,0,null,null,12,"div",[["id","reloading"]],null,null,null,null,null)),(t()(),s.qb(1,0,null,null,11,"div",[["class","container"]],null,null,null,null,null)),(t()(),s.qb(2,0,null,null,10,"div",[["class","row"]],null,null,null,null,null)),(t()(),s.qb(3,0,null,null,9,"div",[["class","col"]],null,null,null,null,null)),(t()(),s.Jb(-1,null,[" Collection is being reloaded, please wait. "])),(t()(),s.gb(16777216,null,null,1,null,ot)),s.pb(6,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.qb(7,0,null,null,5,"div",[["class","progress-bar"]],null,null,null,null,null)),(t()(),s.qb(8,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.qb(9,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.qb(10,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.qb(11,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null)),(t()(),s.qb(12,0,null,null,0,"div",[["class","progress-circle"]],null,null,null,null,null))],function(t,n){t(n,6,0,n.component.scanperc)},null)}function ht(t){return s.Lb(0,[(t()(),s.gb(16777216,null,null,1,null,ct)),s.pb(1,16384,null,0,r.k,[s.O,s.L],{ngIf:[0,"ngIf"]},null),(t()(),s.qb(2,0,null,null,6,"div",[],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.hideVolumeWindow&&l),l},null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(4,278528,null,0,r.i,[r.u],{ngClass:[0,"ngClass"]},null),s.Eb(5,{isPlaying:0}),(t()(),s.qb(6,0,null,null,2,"mdb-topmenu",[],null,null,null,R,T)),s.Gb(5120,null,y.a,P,[]),s.pb(8,245760,null,0,x,[A.a,f.k,w.a,d.a],null,null),(t()(),s.qb(9,0,null,null,2,"div",[["class","fixed-top"],["style","z-index: 1029;"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.hideVolumeWindow&&l),l},null,null)),(t()(),s.qb(10,0,null,null,1,"mdb-letters",[],null,null,null,F,U)),s.pb(11,245760,null,0,B,[d.a,f.k],null,null),(t()(),s.qb(12,0,null,null,5,"div",[["class","main-content"]],null,[[null,"click"]],function(t,n,e){var l=!0;return"click"===n&&(l=!1!==t.component.hideVolumeWindow&&l),l},null,null)),s.Gb(512,null,r.u,r.v,[s.s,s.t,s.k,s.D]),s.pb(14,278528,null,0,r.i,[r.u],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),s.Eb(15,{isPlaying:0}),(t()(),s.qb(16,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),s.pb(17,212992,null,0,f.n,[f.b,s.O,s.j,[8,null],s.h],null,null),(t()(),s.qb(18,0,null,null,0,"audio",[["style","display: none;"]],null,null,null,null,null)),(t()(),s.qb(19,0,null,null,0,"canvas",[],null,null,null,null,null)),(t()(),s.qb(20,0,null,null,1,"mdb-player",[],null,[[null,"mdbprev"],[null,"mdbnext"],[null,"mdbtoggle"],[null,"mdbstop"],[null,"click"],[null,"mdbblob"]],function(t,n,e){var l=!0,i=t.component;return"mdbprev"===n&&(l=!1!==i.onExternalPrev(e)&&l),"mdbnext"===n&&(l=!1!==i.onExternalNext(e)&&l),"mdbtoggle"===n&&(l=!1!==i.onExternalToggle(e)&&l),"mdbstop"===n&&(l=!1!==i.onExternalStop(e)&&l),"click"===n&&(l=!1!==i.hideVolumeWindow()&&l),"mdbblob"===n&&(l=!1!==i.onExternalBlob()&&l),l},rt,nt)),s.pb(21,180224,null,0,tt,[A.a,o.a,f.k,w.a,d.a,G.a,h.a],null,null)],function(t,n){var e=n.component;t(n,1,0,e.isReloading);var l=t(n,5,0,e.isPlaying);t(n,4,0,l),t(n,8,0),t(n,11,0);var i=t(n,15,0,e.isPlaying);t(n,14,0,"main-content",i),t(n,17,0)},null)}function pt(t){return s.Lb(0,[(t()(),s.qb(0,16777216,null,null,10,"mdb-root",[],null,null,null,ht,ut)),s.Gb(4608,null,A.a,A.a,[]),s.Gb(4608,null,G.a,G.a,[]),s.Gb(512,null,c.a,c.a,[st.c]),s.Gb(512,null,d.a,d.a,[]),s.Gb(512,null,p.a,p.a,[st.c]),s.Gb(512,null,w.a,w.a,[st.c]),s.Gb(512,null,at.a,at.a,[d.a,w.a]),s.Gb(512,null,o.a,o.a,[w.a,d.a,at.a]),s.Gb(512,null,h.a,h.a,[]),s.pb(10,245760,null,0,b,[c.a,d.a,u.a,p.a,o.a,h.a,s.O],null,null)],function(t,n){t(n,10,0)},null)}var dt=s.mb("mdb-root",b,pt,{},{},[]),bt=e("ZYjt"),mt=function(){function t(){}return t.prototype.supports=function(t){var n=!1;return 0===t.indexOf("mdb")&&(n=!0),n},t.prototype.addEventListener=function(t,n,e){var l=this,i=this.manager.getZone(),r=function(t){i.run(function(){return e(t)})};return this.manager.getZone().runOutsideAngular(function(){l.manager.addEventListener(t,"external."+n,r)})},t.prototype.addGlobalEventListener=function(t,n,e){var l=this,i=this.manager.getZone(),r=function(t){return i.run(function(){return e(t)})};return this.manager.getZone().runOutsideAngular(function(){l.manager.addGlobalEventListener(t,n,r)})},t}(),gt=function(){function t(t,n){this.loginService=t,this.router=n}return t.prototype.canActivate=function(t,n){var e=this;return new Promise(function(t){var l=n.url;window.scrollTo(0,0),t(e.checkLogin(l))})},t.prototype.checkLogin=function(t){return!!localStorage.getItem("jwt")||(this.router.navigate(["/login"]),!1)},t}(),ft=function(){return e.e(9).then(e.bind(null,"f+ep")).then(function(t){return t.LoginModuleNgFactory})},yt=function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,"L6id")).then(function(t){return t.HomeModuleNgFactory})},vt=function(){return e.e(8).then(e.bind(null,"uob2")).then(function(t){return t.LettersModuleNgFactory})},kt=function(){return Promise.all([e.e(0),e.e(5)]).then(e.bind(null,"q+AI")).then(function(t){return t.ArtistsModuleNgFactory})},Ct=function(){return Promise.all([e.e(0),e.e(3)]).then(e.bind(null,"RZ0Q")).then(function(t){return t.AlbumsModuleNgFactory})},St=function(){return Promise.all([e.e(0),e.e(18)]).then(e.bind(null,"bYjM")).then(function(t){return t.YearsModuleNgFactory})},wt=function(){return Promise.all([e.e(0),e.e(12)]).then(e.bind(null,"6bSv")).then(function(t){return t.PlaylistsModuleNgFactory})},At=function(){return Promise.all([e.e(0),e.e(11)]).then(e.bind(null,"wPTJ")).then(function(t){return t.NowPlayingModuleNgFactory})},Lt=function(){return Promise.all([e.e(0),e.e(16)]).then(e.bind(null,"3F3D")).then(function(t){return t.SettingsModuleNgFactory})},Pt=function(){return e.e(14).then(e.bind(null,"VtoZ")).then(function(t){return t.ScrobbleCacheModuleNgFactory})},xt=function(){return Promise.all([e.e(0),e.e(15)]).then(e.bind(null,"k0NY")).then(function(t){return t.SearchModuleNgFactory})},Tt=function(){return Promise.all([e.e(0),e.e(7)]).then(e.bind(null,"g2JG")).then(function(t){return t.LetterDetailModuleNgFactory})},qt=function(){return Promise.all([e.e(0),e.e(4)]).then(e.bind(null,"9/lQ")).then(function(t){return t.ArtistDetailModuleNgFactory})},Et=function(){return Promise.all([e.e(0),e.e(2)]).then(e.bind(null,"r0Lh")).then(function(t){return t.AlbumDetailModuleNgFactory})},Ot=function(){return Promise.all([e.e(0),e.e(6)]).then(e.bind(null,"L6id")).then(function(t){return t.HomeModuleNgFactory})},It=(f.m.forRoot([{path:"login",loadChildren:ft},{path:"home",loadChildren:yt,canActivate:[gt]},{path:"letters",loadChildren:vt,canActivate:[gt]},{path:"artists",loadChildren:kt,canActivate:[gt]},{path:"albums",loadChildren:Ct,canActivate:[gt]},{path:"years",loadChildren:St,canActivate:[gt]},{path:"playlists",loadChildren:wt,canActivate:[gt]},{path:"now-playing",loadChildren:At,canActivate:[gt]},{path:"settings",loadChildren:Lt,canActivate:[gt]},{path:"scrobble-cache",loadChildren:Pt,canActivate:[gt]},{path:"search/:query",loadChildren:xt,canActivate:[gt]},{path:"letter/:letter",loadChildren:Tt,canActivate:[gt]},{path:"letter/:letter/artist/:artist",loadChildren:qt,canActivate:[gt]},{path:"letter/:letter/artist/:artist/album/:album",loadChildren:Et,canActivate:[gt]},{path:"",loadChildren:Ot,canActivate:[gt]}],{preloadingStrategy:f.e}),e("hDf6")),_t=s.nb(a,[b],function(t){return s.zb([s.Ab(512,s.j,s.Z,[[8,[m.a,g.a,dt]],[3,s.j],s.x]),s.Ab(4352,s.u,"en-GB",[]),s.Ab(4608,r.m,r.l,[s.u,[2,r.z]]),s.Ab(5120,s.hb,s.lb,[s.z]),s.Ab(5120,s.c,s.ib,[]),s.Ab(5120,s.s,s.jb,[]),s.Ab(5120,s.t,s.kb,[]),s.Ab(4608,bt.b,bt.k,[r.c]),s.Ab(6144,s.G,null,[bt.b]),s.Ab(4608,bt.e,bt.g,[]),s.Ab(5120,bt.c,function(t,n,e,l,i,r,s,a){return[new bt.i(t,n,e),new bt.n(l),new bt.m(i,r,s,a),new mt]},[r.c,s.z,s.B,r.c,r.c,bt.e,s.ab,[2,bt.f]]),s.Ab(4608,bt.d,bt.d,[bt.c,s.z]),s.Ab(135680,bt.l,bt.l,[r.c]),s.Ab(4608,bt.j,bt.j,[bt.d,bt.l,s.c]),s.Ab(6144,s.E,null,[bt.j]),s.Ab(6144,bt.o,null,[bt.l]),s.Ab(4608,s.M,s.M,[s.z]),s.Ab(4608,st.j,st.p,[r.c,s.B,st.n]),s.Ab(4608,st.q,st.q,[st.j,st.o]),s.Ab(5120,st.a,function(t){return[t]},[st.q]),s.Ab(4608,st.m,st.m,[]),s.Ab(6144,st.k,null,[st.m]),s.Ab(4608,st.i,st.i,[st.k]),s.Ab(6144,st.b,null,[st.i]),s.Ab(4608,st.f,st.l,[st.b,s.q]),s.Ab(4608,st.c,st.c,[st.f]),s.Ab(4608,C.r,C.r,[]),s.Ab(5120,f.a,f.x,[f.k]),s.Ab(4608,f.e,f.e,[]),s.Ab(6144,f.f,null,[f.e]),s.Ab(135680,f.o,f.o,[f.k,s.w,s.i,s.q,f.f]),s.Ab(4608,f.d,f.d,[]),s.Ab(5120,f.C,f.t,[f.k,r.q,f.g]),s.Ab(5120,f.h,f.A,[f.y]),s.Ab(5120,s.b,function(t){return[t]},[f.h]),s.Ab(4608,y.a,y.a,[]),s.Ab(4608,k.a,k.a,[s.E,s.B]),s.Ab(4608,v.a,v.a,[s.j,s.z,s.q,k.a,s.g]),s.Ab(4608,u.a,u.a,[st.c]),s.Ab(4608,gt,gt,[u.a,f.k]),s.Ab(1073742336,r.b,r.b,[]),s.Ab(1024,s.l,bt.p,[]),s.Ab(1024,s.y,function(){return[f.s()]},[]),s.Ab(512,f.y,f.y,[s.q]),s.Ab(1024,s.d,function(t,n){return[bt.q(t),f.z(n)]},[[2,s.y],f.y]),s.Ab(512,s.e,s.e,[[2,s.d]]),s.Ab(131584,s.g,s.g,[s.z,s.ab,s.q,s.l,s.j,s.e]),s.Ab(1073742336,s.f,s.f,[s.g]),s.Ab(1073742336,bt.a,bt.a,[[3,bt.a]]),s.Ab(1073742336,st.e,st.e,[]),s.Ab(1073742336,st.d,st.d,[]),s.Ab(1073742336,C.q,C.q,[]),s.Ab(1073742336,C.d,C.d,[]),s.Ab(1024,f.r,f.v,[[3,f.k]]),s.Ab(512,f.q,f.c,[]),s.Ab(512,f.b,f.b,[]),s.Ab(256,f.g,{preloadingStrategy:f.e},[]),s.Ab(1024,r.h,f.u,[r.p,[2,r.a],f.g]),s.Ab(512,r.g,r.g,[r.h,r.p]),s.Ab(512,s.i,s.i,[]),s.Ab(512,s.w,s.J,[s.i,[2,s.K]]),s.Ab(1024,f.i,function(){return[[{path:"login",loadChildren:ft},{path:"home",loadChildren:yt,canActivate:[gt]},{path:"letters",loadChildren:vt,canActivate:[gt]},{path:"artists",loadChildren:kt,canActivate:[gt]},{path:"albums",loadChildren:Ct,canActivate:[gt]},{path:"years",loadChildren:St,canActivate:[gt]},{path:"playlists",loadChildren:wt,canActivate:[gt]},{path:"now-playing",loadChildren:At,canActivate:[gt]},{path:"settings",loadChildren:Lt,canActivate:[gt]},{path:"scrobble-cache",loadChildren:Pt,canActivate:[gt]},{path:"search/:query",loadChildren:xt,canActivate:[gt]},{path:"letter/:letter",loadChildren:Tt,canActivate:[gt]},{path:"letter/:letter/artist/:artist",loadChildren:qt,canActivate:[gt]},{path:"letter/:letter/artist/:artist/album/:album",loadChildren:Et,canActivate:[gt]},{path:"",loadChildren:Ot,canActivate:[gt]}]]},[]),s.Ab(1024,f.k,f.w,[s.g,f.q,f.b,r.g,s.q,s.w,s.i,f.i,f.g,[2,f.p],[2,f.j]]),s.Ab(1073742336,f.m,f.m,[[2,f.r],[2,f.k]]),s.Ab(1073742336,y.d,y.d,[]),s.Ab(1073742336,It.a,It.a,[]),s.Ab(1073742336,a,a,[]),s.Ab(256,s.Y,!0,[]),s.Ab(256,st.n,"XSRF-TOKEN",[]),s.Ab(256,st.o,"X-XSRF-TOKEN",[])])});r.t(i.a),Object(s.S)(),window.addEventListener("beforeinstallprompt",function(t){t.preventDefault(),window.deferredPrompt=t}),bt.h().bootstrapModuleFactory(_t).catch(function(t){return console.error(t)})}},[[0,1,17]]]);