(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{jJnS:function(t,i,n){"use strict";n.r(i);var c=n("Valr"),s=n("TYT/"),a=n("hDf6"),e=n("DUip"),r=(n("hR/0"),n("KI15")),o=n("ufXC"),l=n("OgP6"),u=n("ktVm"),b=n("XtVx"),m=n("cpgm"),p=["class","animated-page",4,"ngIf"],h=[1,"animated-page"],f=[1,"jumbotron","theme-light",3,"ngClass"],g=[1,"container"],d=[1,"row","albumdetail"],v=[1,"col-4","col-md-3","col-lg-2",3,"ngClass"],y=[3,"album","artist"],T=[1,"col-8","col-md-9","col-lg-10",3,"ngClass"],A=[1,"d-none","d-sm-block"],S=[4,"ngIf"],V=[1,"d-none","d-sm-inline"],w=[1,"btn","btn-primary",3,"click"],k=[1,"glyph","glyph-play"],I=[1,"d-none","d-md-inline"],J=[1,"btn","btn-secondary",3,"click"],C=[1,"glyph","glyph-music-info"],P=[1,"row"],D=[1,"col"],O=["class","list-group list-tracks",4,"ngFor","ngForOf"];function F(t,i){if(1&t&&(s.Vb(0,"span"),s.Jc(1),s.Tb()),2&t){var n=s.gc(2);s.Ac(1),s.Lc("",n.album.year," \u2022 ")}}var L=[1,"list-group","list-tracks"],R=["class","list-items-row disc-row header-seperator",3,"ngClass",4,"ngIf"],H=["class","list-group-item",3,"ngClass",4,"ngFor","ngForOf"],N=[1,"list-items-row","disc-row","header-seperator",3,"ngClass"],$=function(t){return{"first-disc":t}};function x(t,i){if(1&t&&(s.Vb(0,"li",N),s.Jc(1),s.Tb()),2&t){var n=s.gc().$implicit;s.mc("ngClass",s.pc(2,$,1==n[0].disc)),s.Ac(1),s.Lc(" Disc ",n[0].disc," ")}}var j=[1,"list-group-item",3,"ngClass"],U=[1,"details","row",3,"click"],E=[1,"col-2","col-sm-1"],K=[1,"col-7","col-sm-10"],M=[1,"small","muted","color-type-secondary"],q=[1,"col-3","col-sm-1","text-right"];function B(t,i){if(1&t&&(s.Vb(0,"span"),s.Jc(1),s.Tb()),2&t){var n=s.gc().$implicit;s.Ac(1),s.Kc(n.number)}}var Q=[1,"glyph","glyph-pause"];function W(t,i){1&t&&(s.Vb(0,"span"),s.Sb(1,"span",Q),s.Tb())}function G(t,i){1&t&&(s.Vb(0,"span"),s.Sb(1,"span",k),s.Tb())}function X(t,i){if(1&t&&(s.Vb(0,"span"),s.Sb(1,"br"),s.Vb(2,"span",M),s.Jc(3),s.Tb(),s.Tb()),2&t){var n=s.gc().$implicit;s.Ac(3),s.Kc(n.type)}}function Y(t,i){if(1&t&&(s.Vb(0,"span"),s.Sb(1,"br"),s.Vb(2,"span",M),s.Jc(3),s.hc(4,"timeFormat"),s.Tb(),s.Tb()),2&t){var n=s.gc().$implicit;s.Ac(3),s.Lc(" ",s.ic(4,1,n.position)," \xa0 ")}}var z=function(t,i,n){return{active:t,showActions:i,hq:n}};function Z(t,i){if(1&t){var n=s.Wb();s.Vb(0,"li",j),s.Vb(1,"div",U),s.bc("click",function(t){s.xc(n);var c=i.$implicit;return s.gc(3).onSelect(c,t)}),s.Vb(2,"div",E),s.Hc(3,B,2,1,"span",S),s.Hc(4,W,2,0,"span",S),s.Hc(5,G,2,0,"span",S),s.Tb(),s.Vb(6,"div",K),s.Jc(7),s.Sb(8,"br"),s.Vb(9,"span",M),s.Jc(10),s.Tb(),s.Tb(),s.Vb(11,"div",q),s.Jc(12),s.hc(13,"timeFormat"),s.Hc(14,X,4,1,"span",S),s.Hc(15,Y,5,3,"span",S),s.Tb(),s.Tb(),s.Tb()}if(2&t){var c=i.$implicit,a=s.gc(3);s.mc("ngClass",s.rc(11,z,c.isPlaying||c.isPaused,c.showActions,"flac"===c.type)),s.Ac(3),s.mc("ngIf",!c.isPlaying&&!c.isPaused&&0!==c.number),s.Ac(4),s.mc("ngIf",!c.isPlaying&&c.isPaused),s.Ac(5),s.mc("ngIf",c.isPlaying&&!c.isPaused),s.Ac(7),s.Lc(" ",c.title," "),s.Ac(10),s.Lc(" ",c.trackArtist," "),s.Ac(12),s.Lc(" ",s.ic(13,9,c.duration)," "),s.Ac(14),s.mc("ngIf","mixed"===a.album.type&&!c.isPlaying),s.Ac(15),s.mc("ngIf",c.isPlaying)}}function _(t,i){if(1&t&&(s.Vb(0,"ol",L),s.Hc(1,x,2,4,"li",R),s.Hc(2,Z,16,15,"li",H),s.Tb()),2&t){var n=i.$implicit,c=s.gc(2);s.Ac(1),s.mc("ngIf",c.album.sortedDiscs.length>1),s.Ac(2),s.mc("ngForOf",n)}}var tt=[1,"alert","alert-warning"];function it(t,i){1&t&&(s.Vb(0,"div"),s.Sb(1,"br"),s.Vb(2,"div",tt),s.Vb(3,"strong"),s.Jc(4,"Warning!"),s.Tb(),s.Jc(5," This album cannot be played since FLAC support is lacking."),s.Tb(),s.Tb())}var nt=function(t){return{shrunk:t}};function ct(t,i){if(1&t){var n=s.Wb();s.Vb(0,"div",h),s.Vb(1,"div",f),s.Vb(2,"div",g),s.Vb(3,"div",d),s.Vb(4,"div",v),s.Sb(5,"album-art",y),s.Tb(),s.Vb(6,"div",T),s.Vb(7,"h2"),s.Jc(8),s.Tb(),s.Vb(9,"h3",A),s.Jc(10),s.Tb(),s.Vb(11,"h4"),s.Hc(12,F,2,1,"span",S),s.Jc(13),s.Vb(14,"span",V),s.Jc(15),s.hc(16,"timeFormat"),s.Tb(),s.Tb(),s.Vb(17,"h5"),s.Vb(18,"button",w),s.bc("click",function(t){return s.xc(n),s.gc().playAlbum()}),s.Sb(19,"span",k),s.Jc(20," Play "),s.Vb(21,"span",I),s.Jc(22,"album"),s.Tb(),s.Tb(),s.Jc(23,"\xa0\xa0\xa0 "),s.Vb(24,"button",J),s.bc("click",function(t){return s.xc(n),s.gc().addToQueue()}),s.Sb(25,"span",C),s.Jc(26," queue "),s.Vb(27,"span",I),s.Jc(28,"album"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Vb(29,"div",g),s.Vb(30,"div",P),s.Vb(31,"div",D),s.Hc(32,_,3,2,"ol",O),s.Hc(33,it,6,0,"div",S),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){var c=s.gc();s.Ac(1),s.mc("ngClass",s.pc(15,nt,c.isShrunk)),s.Ac(4),s.mc("ngClass",s.pc(17,nt,c.isShrunk)),s.Ac(5),s.mc("album",c.album.name)("artist",c.album.artist.albumArtist||c.album.artist.name),s.Ac(6),s.mc("ngClass",s.pc(19,nt,c.isShrunk)),s.Ac(8),s.Kc(c.album.name),s.Ac(10),s.Lc(" ",c.album.artist.albumArtist||c.album.artist.name," "),s.Ac(12),s.mc("ngIf",c.album.year&&0!==c.album.year),s.Ac(13),s.Lc(" songs: ",c.album.tracks.length," "),s.Ac(15),s.Mc(" \u2022 ",s.ic(16,13,c.totalRunningTime())," \u2022 ",c.album.type,""),s.Ac(32),s.mc("ngForOf",c.album.sortedDiscs),s.Ac(33),s.mc("ngIf","flac"===c.album.type&&!c.isFlacSupported)}}var st=[{path:"",component:function(){function t(t,i,n,c,s,a){var e=this;this.coreService=t,this.router=i,this.pathService=n,this.playerService=c,this.route=s,this.configService=a,this.ownPlaylists=[],this.albumName="",this.artistName="",this.isSwiping=!1,this.isShrunk=!1,this.isFlacSupported=!0,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe(function(t){e.ngOnInit()}),this.artistName=decodeURIComponent(this.route.snapshot.params.artist),this.albumName=decodeURIComponent(this.route.snapshot.params.album),this.route.params.subscribe(function(t){e.artistName=decodeURIComponent(t.artist),e.albumName=decodeURIComponent(t.album),e.ngOnInit()}),this.theme=a.mode}return t.prototype.ngOnInit=function(){var t=this;if(this.album=this.core.albums[this.artistName+"|"+this.albumName],this.album){this.album.sortedDiscs=[];var i=Object.keys(this.album.discs),n=[];i.forEach(function(t){var i=t.substring(5);n.push({nr:i,id:t})}),(n=n.sort(function(t,i){return t.nr<i.nr?-1:1})).forEach(function(i){t.album.sortedDiscs.push(t.album.discs[i.id])}),this.pathService.announcePath({artist:this.album.artist,album:this.album,letter:this.album.artist.letter})}if(this.ownPlaylists=[],localStorage.getItem("customlisttest")){var c=JSON.parse(localStorage.getItem("customlisttest"));c&&c.forEach(function(i){var n=new r.a;n.isOwn=!0,n.name=i.name,n.tracks=i.tracks,t.ownPlaylists.push(n)})}var s=document.querySelector("audio").canPlayType("audio/flac");this.isFlacSupported="probably"===s||"maybe"===s},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onSelect=function(t,i){this.isSwiping||this.playerService.doPlayAlbum(this.album,this.album.tracks.indexOf(t),!0,!1)},t.prototype.playAlbum=function(){this.isSwiping||this.playerService.doPlayAlbum(this.album,0,!0,!1)},t.prototype.addToQueue=function(){this.isSwiping||this.playerService.doQueueAlbum(this.album)},t.prototype.navigateToArtist=function(t){this.router.navigate(["Artist",{letter:t.letter.escapedLetter,artist:t.sortName}])},t.prototype.swipe=function(t,i,n){var c=this;n.preventDefault(),this.isSwiping=!0,setTimeout(function(){c.isSwiping=!1},5),t.showActions=i},t.prototype.totalRunningTime=function(){var t=0;return this.album.tracks.forEach(function(i){t+=i.duration}),t},t.prototype.onScroll=function(t){this.isShrunk=window.scrollY>50},t.ngComponentDef=s.Lb({type:t,selectors:[["app-album-detail"]],factory:function(i){return new(i||t)(s.Rb(u.a),s.Rb(e.c),s.Rb(b.a),s.Rb(o.a),s.Rb(e.a),s.Rb(l.a))},hostBindings:function(t,i,n){1&t&&s.bc("scroll",function(t){return i.onScroll(t)},!1,s.wc)},consts:1,vars:1,template:function(t,i){1&t&&s.Hc(0,ct,34,21,"div",p),2&t&&s.mc("ngIf",i.album)},directives:[c.l,c.j,c.k],pipes:[m.a],encapsulation:2}),t}()}],at=function(){function t(){}return t.ngModuleDef=s.Pb({type:t}),t.ngInjectorDef=s.Ob({factory:function(i){return new(i||t)},imports:[[e.e.forChild(st)],e.e]}),t.ngLocaleIdDef="en-GB",t}();e.e.forChild(st),n.d(i,"AlbumDetailModule",function(){return et});var et=function(){function t(){}return t.ngModuleDef=s.Pb({type:t}),t.ngInjectorDef=s.Ob({factory:function(i){return new(i||t)},imports:[[c.c,at,a.a]]}),t.ngLocaleIdDef="en-GB",t}()}}]);