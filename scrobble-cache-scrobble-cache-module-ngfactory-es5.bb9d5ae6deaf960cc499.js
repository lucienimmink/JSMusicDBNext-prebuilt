function _defineProperties(l,n){for(var u=0;u<n.length;u++){var t=n[u];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function _createClass(l,n,u){return n&&_defineProperties(l.prototype,n),u&&_defineProperties(l,u),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{VtoZ:function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),c=function l(){_classCallCheck(this,l)},e=u("pMnS"),i=u("SVse"),o=u("ztCj"),s=u("MDLy"),a=u("ktVm"),b=u("t083"),r=u("XtVx"),m=function(){function l(n,u,t,c,e){var i=this;_classCallCheck(this,l),this.pathService=n,this.coreService=u,this.lastFMService=t,this.collectionService=c,this.router=e,this.manualScrobbling=this.booleanState("manual-scrobble-state"),this.isReloading=!1,this.isBusy=!1,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe((function(l){i.ngOnInit()})),this.subscription2=this.lastFMService.manualScrobbleList$.subscribe((function(l){i.manualScrobblingList=l})),Object(o.c)("manual-scrobble-list").then((function(l){i.manualScrobblingList=l||[]}))}return _createClass(l,[{key:"ngOnInit",value:function(){var l=this;this.pathService.announcePage("Scrobble cache"),Object(o.c)("manual-scrobble-list").then((function(n){l.manualScrobblingList=n||[]}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe(),this.subscription2.unsubscribe()}},{key:"scrobbleNow",value:function(){var l=this;this.isBusy=!0,Object(o.c)("manual-scrobble-list").then((function(n){l.manualScrobblingList=n||[];var u=l.manualScrobblingList.pop();l.lastFMService.scrobbleCachedTrack(u).subscribe((function(n){Object(o.d)("manual-scrobble-list",l.manualScrobblingList),l.lastFMService.updateManualScrobbleList(),l.manualScrobblingList.length>0?l.scrobbleNow():l.isBusy=!1}))}))}},{key:"removeFromScrobbleList",value:function(l){var n=this;Object(o.c)("manual-scrobble-list").then((function(u){n.manualScrobblingList=u||[];var t=-1;n.manualScrobblingList.forEach((function(n,u){Object.is(n,l)&&(t=u)})),n.manualScrobblingList.splice(t,1),Object(o.d)("manual-scrobble-list",n.manualScrobblingList)}))}},{key:"booleanState",value:function(l){var n=localStorage.getItem(l);return!(!n||"true"!==n)}}]),l}(),h=u("iInd"),p=t.mb({encapsulation:2,styles:[],data:{}});function f(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,15,"li",[["class","list-items-row list-tracks-no-hover"]],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,14,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,1,"div",[["class","col-4 col-sm-3"]],null,null,null,null,null)),(l()(),t.Hb(3,null,[" "," "])),(l()(),t.ob(4,0,null,null,2,"div",[["class","col-4 col-sm-3 d-none d-sm-block"]],null,null,null,null,null)),(l()(),t.ob(5,0,null,null,1,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Hb(6,null,["",""])),(l()(),t.ob(7,0,null,null,1,"div",[["class","col-8 col-sm-3"]],null,null,null,null,null)),(l()(),t.Hb(8,null,[" "," "])),(l()(),t.ob(9,0,null,null,4,"div",[["class","col-6 col-sm-2"]],null,null,null,null,null)),(l()(),t.ob(10,0,null,null,3,"span",[["class","small muted"]],null,null,null,null,null)),(l()(),t.Hb(11,null,[""," ",""])),t.Db(12,2),t.Db(13,2),(l()(),t.ob(14,0,null,null,1,"div",[["class","col-6 col-sm-1 text-right"]],null,null,null,null,null)),(l()(),t.ob(15,0,null,null,0,"a",[["class","glyph glyph-delete"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.removeFromScrobbleList(l.context.$implicit)&&t),t}),null,null))],null,(function(l,n){l(n,3,0,n.context.$implicit.artist),l(n,6,0,n.context.$implicit.album),l(n,8,0,n.context.$implicit.track);var u=t.Ib(n,11,0,l(n,12,0,t.Ab(n.parent.parent,0),1e3*n.context.$implicit.timestamp,"mediumDate")),c=t.Ib(n,11,1,l(n,13,0,t.Ab(n.parent.parent,0),1e3*n.context.$implicit.timestamp,"shortTime"));l(n,11,0,u,c)}))}function v(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.scrobbleNow()&&t),t}),null,null)),(l()(),t.Hb(-1,null,["Scrobble now"]))],null,null)}function g(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,11,"div",[["class","col"]],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,5,"h4",[],null,null,null,null,null)),(l()(),t.Hb(-1,null,[" Tracks in scrobble cache "])),(l()(),t.ob(3,0,null,null,1,"span",[["class","small muted color-type-secondary"]],null,null,null,null,null)),(l()(),t.Hb(4,null,["(",")"])),(l()(),t.ob(5,0,null,null,1,"a",[["class","float-right d-none d-sm-inline"]],null,[[null,"click"]],(function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.scrobbleNow()&&t),t}),null,null)),(l()(),t.Hb(-1,null,["Scrobble now"])),(l()(),t.ob(7,0,null,null,2,"ol",[["class","list-items list-tracks"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,f)),t.nb(9,278528,null,0,i.j,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(l()(),t.eb(16777216,null,null,1,null,v)),t.nb(11,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,9,0,u.manualScrobblingList),l(n,11,0,u.manualScrobblingList.length>0&&!u.isBusy)}),(function(l,n){l(n,4,0,n.component.manualScrobblingList.length)}))}function S(l){return t.Jb(0,[t.Bb(0,i.d,[t.s]),(l()(),t.ob(1,0,null,null,4,"div",[["class","animated-page"]],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(l()(),t.ob(3,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,g)),t.nb(5,16384,null,0,i.k,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var u=n.component;l(n,5,0,u.manualScrobblingList&&u.manualScrobbling)}),null)}var d=t.kb("app-scrobble-cache",m,(function(l){return t.Jb(0,[(l()(),t.ob(0,0,null,null,1,"app-scrobble-cache",[],null,null,null,S,p)),t.nb(1,245760,null,0,m,[r.a,a.a,b.a,s.a,h.k],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),y=function l(){_classCallCheck(this,l)},k=u("hDf6");u.d(n,"ScrobbleCacheModuleNgFactory",(function(){return L}));var L=t.lb(c,[],(function(l){return t.xb([t.yb(512,t.j,t.X,[[8,[e.a,d]],[3,t.j],t.v]),t.yb(4608,i.m,i.l,[t.s,[2,i.z]]),t.yb(1073742336,i.b,i.b,[]),t.yb(1073742336,h.m,h.m,[[2,h.r],[2,h.k]]),t.yb(1073742336,y,y,[]),t.yb(1073742336,k.a,k.a,[]),t.yb(1073742336,c,c,[]),t.yb(256,t.s,"en-GB",[]),t.yb(1024,h.i,(function(){return[[{path:"",component:m}]]}),[])])}))}}]);