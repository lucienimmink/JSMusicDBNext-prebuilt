(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{RmqX:function(t,s,i){"use strict";i.r(s),i.d(s,"SearchModule",(function(){return q}));var n=i("ofXK"),e=i("hDf6"),c=i("tyNb"),r=i("ktVm"),a=i("XtVx"),b=i("fXoL"),o=i("EAnT"),l=i("UrAU"),u=i("cpgm");function f(t,s){1&t&&(b.Lb(0,"div",9),b.oc(1," More artists are found. Refine search for less results "),b.Kb())}function p(t,s){if(1&t&&(b.Lb(0,"div",10),b.Jb(1,"mdb-artist",11),b.Kb()),2&t){const t=s.$implicit;b.xb(1),b.bc("artist",t)}}function h(t,s){if(1&t&&(b.Lb(0,"div"),b.Lb(1,"h4"),b.oc(2," Artists "),b.Lb(3,"span",5),b.oc(4),b.Kb(),b.Kb(),b.nc(5,f,2,0,"div",6),b.Lb(6,"div",7),b.nc(7,p,2,1,"div",8),b.Kb(),b.Kb()),2&t){const t=b.Vb();b.xb(4),b.qc("(",t.artists.list.length,")"),b.xb(1),b.bc("ngIf",t.artists.overflow),b.xb(2),b.bc("ngForOf",t.artists.list)}}function d(t,s){1&t&&(b.Lb(0,"div",9),b.oc(1," More albums are found. Refine search for less results "),b.Kb())}function m(t,s){if(1&t&&(b.Lb(0,"div",13),b.Jb(1,"mdb-album",14),b.Kb()),2&t){const t=s.$implicit;b.xb(1),b.bc("album",t)}}function g(t,s){if(1&t&&(b.Lb(0,"div"),b.Lb(1,"h4"),b.oc(2," Albums "),b.Lb(3,"span",5),b.oc(4),b.Kb(),b.Kb(),b.nc(5,d,2,0,"div",6),b.Lb(6,"div",7),b.nc(7,m,2,1,"div",12),b.Kb(),b.Kb()),2&t){const t=b.Vb();b.xb(4),b.qc("(",t.albums.list.length,")"),b.xb(1),b.bc("ngIf",t.albums.overflow),b.xb(2),b.bc("ngForOf",t.albums.list)}}function L(t,s){1&t&&(b.Lb(0,"div",9),b.oc(1," More tracks are found. Refine search for less results "),b.Kb())}function v(t,s){1&t&&(b.Lb(0,"span"),b.Jb(1,"span",21),b.Kb())}function y(t,s){1&t&&(b.Lb(0,"span"),b.Jb(1,"span",22),b.Kb())}const K=function(t){return{active:t}};function x(t,s){if(1&t){const t=b.Mb();b.Lb(0,"li",17),b.Rb("click",(function(){b.kc(t);const i=s.$implicit;return b.Vb(2).select(i)})),b.Lb(1,"div",18),b.nc(2,v,2,0,"span",4),b.nc(3,y,2,0,"span",4),b.oc(4),b.Jb(5,"br"),b.Lb(6,"span",19),b.oc(7),b.Kb(),b.Kb(),b.Lb(8,"div",20),b.oc(9),b.Wb(10,"timeFormat"),b.Kb(),b.Kb()}if(2&t){const t=s.$implicit;b.bc("ngClass",b.ec(9,K,t.isPlaying||t.isPaused)),b.xb(2),b.bc("ngIf",!t.isPlaying&&t.isPaused),b.xb(1),b.bc("ngIf",t.isPlaying&&!t.isPaused),b.xb(1),b.qc("",t.title," "),b.xb(3),b.rc(" ",t.trackArtist," \u2022 ",t.album.name," "),b.xb(2),b.qc(" ",b.Xb(10,7,t.duration)," ")}}function I(t,s){if(1&t&&(b.Lb(0,"div"),b.Lb(1,"h4"),b.oc(2," Tracks "),b.Lb(3,"span",5),b.oc(4),b.Kb(),b.Kb(),b.nc(5,L,2,0,"div",6),b.Lb(6,"ol",15),b.nc(7,x,11,11,"li",16),b.Kb(),b.Kb()),2&t){const t=b.Vb();b.xb(4),b.qc("(",t.tracks.list.length,")"),b.xb(1),b.bc("ngIf",t.tracks.overflow),b.xb(2),b.bc("ngForOf",t.tracks.list)}}const k=[{path:"",component:(()=>{class t{constructor(t,s,i,n){this.pathService=t,this.coreService=s,this.router=i,this.route=n,this.MAXALLOWEDITEMS=100,this.core=this.coreService.getCore(),this.subscription=this.core.coreParsed$.subscribe(t=>{this.ngOnInit()}),this.query=decodeURIComponent(this.route.snapshot.params.query),this.route.params.subscribe(t=>{this.query=t.query,this.ngOnInit()})}ngOnInit(){this.pathService.announcePage(`Results for "${this.query}"`),this.artists=this.spliceList(this.core.searchArtist(this.query),this.MAXALLOWEDITEMS),this.albums=this.spliceList(this.core.searchAlbum(this.query),this.MAXALLOWEDITEMS),this.tracks=this.spliceList(this.core.searchTrack(this.query),this.MAXALLOWEDITEMS)}spliceList(t,s){let i=!1,n=t;return t.length>s&&(n=t.splice(0,s),i=!0),{list:n,overflow:i}}ngOnDestroy(){this.subscription.unsubscribe()}select(t){this.router.navigate(["/letter",t.album.artist.letter.escapedLetter,"artist",t.album.artist.sortName,"album",t.album.sortName])}}return t.\u0275fac=function(s){return new(s||t)(b.Ib(a.a),b.Ib(r.a),b.Ib(c.c),b.Ib(c.a))},t.\u0275cmp=b.Cb({type:t,selectors:[["ng-component"]],decls:7,vars:3,consts:[[1,"animated-page"],[1,"container"],[1,"row"],[1,"col"],[4,"ngIf"],[1,"small","muted","color-type-secondary"],["class","alert alert-info",4,"ngIf"],[1,"media-container"],["class","artist-panel media-panel",4,"ngFor","ngForOf"],[1,"alert","alert-info"],[1,"artist-panel","media-panel"],[3,"artist"],["class","album-panel media-panel",4,"ngFor","ngForOf"],[1,"album-panel","media-panel"],[3,"album"],[1,"list-group","list-tracks"],["class","list-group-item","style","display: flex;",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"list-group-item",2,"display","flex",3,"ngClass","click"],[1,"col-9","col-md-10","track-info"],[1,"small","muted"],[1,"col-3","col-md-2","text-right"],[1,"glyph","glyph-pause"],[1,"glyph","glyph-play"]],template:function(t,s){1&t&&(b.Lb(0,"div",0),b.Lb(1,"div",1),b.Lb(2,"div",2),b.Lb(3,"div",3),b.nc(4,h,8,3,"div",4),b.nc(5,g,8,3,"div",4),b.nc(6,I,8,3,"div",4),b.Kb(),b.Kb(),b.Kb(),b.Kb()),2&t&&(b.xb(4),b.bc("ngIf",s.artists.list&&s.artists.list.length>0),b.xb(1),b.bc("ngIf",s.albums.list&&s.albums.list.length>0),b.xb(1),b.bc("ngIf",s.tracks.list&&s.tracks.list.length>0))},directives:[n.k,n.j,o.a,l.a,n.i],pipes:[u.a],encapsulation:2}),t})()}];let A=(()=>{class t{}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(s){return new(s||t)},imports:[[c.e.forChild(k)],c.e]}),t})(),q=(()=>{class t{}return t.\u0275mod=b.Gb({type:t}),t.\u0275inj=b.Fb({factory:function(s){return new(s||t)},imports:[[n.b,A,e.a]]}),t})()}}]);